#include <cmath>
#include "bicycle.h"

using namespace std;

/*!
   Computes the n-d array of shape (16)

   @param[out] a C-array of with 16 elements
*/
//  void Bicycle::gc_r_ogl(double m[16]) const;
void Bicycle::gc_r_ogl(double m[16]) const
{
  double * z = new double[15];

  z[0] = sin(azimuth);
  z[1] = sin(elevation);
  z[2] = sin(twist);
  z[3] = cos(azimuth);
  z[4] = cos(elevation);
  z[5] = cos(state_[1]);
  z[6] = cos(twist);
  z[7] = cam_x + cam_z;
  z[8] = z[0]*z[2] + z[1]*z[3]*z[6];
  z[9] = z[0]*z[1]*z[2] + z[3]*z[6];
  z[10] = z[0]*z[6] - z[1]*z[2]*z[3];
  z[11] = z[0]*z[1]*z[6] - z[2]*z[3];
  z[12] = -z[3];
  z[13] = z[5]/sqrt(pow(z[5], 2));
  z[14] = z[13]*z[4];

  m[0] = z[10]*z[13];
  m[1] = z[13]*z[8];
  m[2] = z[12]*z[14];
  m[3] = 0;
  m[4] = z[13]*z[9];
  m[5] = -z[11]*z[13];
  m[6] = z[0]*z[14];
  m[7] = 0;
  m[8] = z[2]*z[4];
  m[9] = -z[4]*z[6];
  m[10] = -z[1];
  m[11] = 0;
  m[12] = -cam_y*z[9] - z[10]*z[7];
  m[13] = cam_y*z[11] - z[7]*z[8];
  m[14] = -z[4]*(cam_y*z[0] + z[12]*z[7]);
  m[15] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (16)

   @param[out] a C-array of with 16 elements
*/
//  void Bicycle::wc_r_ogl(double m[16]) const;
void Bicycle::wc_r_ogl(double m[16]) const
{
  double * z = new double[33];

  z[0] = sin(azimuth);
  z[1] = sin(elevation);
  z[2] = sin(state_[1]);
  z[3] = sin(state_[2]);
  z[4] = sin(twist);
  z[5] = cos(azimuth);
  z[6] = cos(elevation);
  z[7] = cos(state_[1]);
  z[8] = cos(state_[2]);
  z[9] = cos(state_[4]);
  z[10] = cos(twist);
  z[11] = cam_x + cam_z;
  z[12] = sqrt(pow(z[7], 2));
  z[13] = rear_.R/z[12] + rear_.r;
  z[14] = z[0]*z[4] + z[1]*z[10]*z[5];
  z[15] = z[0]*z[1]*z[4] + z[10]*z[5];
  z[16] = z[0]*z[2]*z[6] + z[1]*z[7];
  z[17] = z[0]*z[10] - z[1]*z[4]*z[5];
  z[18] = z[0]*z[1]*z[10] - z[4]*z[5];
  z[19] = z[0]*z[6]*z[7] - z[1]*z[2];
  z[20] = z[15]*z[7] + z[2]*z[4]*z[6];
  z[21] = z[16]*z[8] + z[3]*z[5]*z[6];
  z[22] = z[15]*z[2] - z[4]*z[6]*z[7];
  z[23] = -z[16]*z[3] + z[5]*z[6]*z[8];
  z[24] = -z[10]*z[2]*z[6] - z[18]*z[7];
  z[25] = z[14]*z[8] + z[3]*(z[10]*z[6]*z[7] - z[18]*z[2]);
  z[26] = z[14]*z[3] - z[8]*(z[10]*z[6]*z[7] - z[18]*z[2]);
  z[27] = -z[3];
  z[28] = -sin(state_[4]);
  z[29] = rear_.R/z[12];
  z[30] = z[13]*z[6];
  z[31] = z[17]*z[8];
  z[32] = z[22]*z[8];

  m[0] = z[28]*(-z[17]*z[27] - z[32]) - z[9]*(z[22]*z[27] - z[31]);
  m[1] = z[25]*z[9] + z[26]*z[28];
  m[2] = -z[21]*z[28] - z[23]*z[9];
  m[3] = 0;
  m[4] = z[20];
  m[5] = z[24];
  m[6] = z[19];
  m[7] = 0;
  m[8] = z[28]*(z[22]*z[27] - z[31]) + z[9]*(-z[17]*z[27] - z[32]);
  m[9] = -z[25]*z[28] + z[26]*z[9];
  m[10] = -z[21]*z[9] + z[23]*z[28];
  m[11] = 0;
  m[12] = -cam_y*z[15] - z[11]*z[17] + z[2]*z[20]*z[29] - z[30]*z[4];
  m[13] = cam_y*z[18] + z[10]*z[30] - z[11]*z[14] + z[2]*z[24]*z[29];
  m[14] = -cam_y*z[0]*z[6] + z[1]*z[13] + z[11]*z[5]*z[6] + z[19]*z[2]*z[29];
  m[15] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (16)

   @param[out] a C-array of with 16 elements
*/
//  void Bicycle::mc_r_ogl(double m[16]) const;
void Bicycle::mc_r_ogl(double m[16]) const
{
  double * z = new double[32];

  z[0] = sin(azimuth);
  z[1] = sin(elevation);
  z[2] = sin(state_[1]);
  z[3] = sin(state_[2]);
  z[4] = sin(twist);
  z[5] = cos(azimuth);
  z[6] = cos(elevation);
  z[7] = cos(state_[1]);
  z[8] = cos(state_[2]);
  z[9] = cos(twist);
  z[10] = cam_x + cam_z;
  z[11] = sqrt(pow(z[7], 2));
  z[12] = rear_.R/z[11] + rear_.r;
  z[13] = z[0]*z[1]*z[4] + z[5]*z[9];
  z[14] = z[0]*z[2]*z[6] + z[1]*z[7];
  z[15] = z[0]*z[9] - z[1]*z[4]*z[5];
  z[16] = z[0]*z[1]*z[9] - z[4]*z[5];
  z[17] = z[0]*z[6]*z[7] - z[1]*z[2];
  z[18] = -z[0]*z[4] - z[1]*z[5]*z[9];
  z[19] = z[13]*z[7] + z[2]*z[4]*z[6];
  z[20] = z[14]*z[8] + z[3]*z[5]*z[6];
  z[21] = z[13]*z[2] - z[4]*z[6]*z[7];
  z[22] = z[14]*z[3] - z[5]*z[6]*z[8];
  z[23] = -z[16]*z[7] - z[2]*z[6]*z[9];
  z[24] = z[15]*z[8] + z[21]*z[3];
  z[25] = -z[18]*z[8] + z[3]*(-z[16]*z[2] + z[6]*z[7]*z[9]);
  z[26] = z[15]*z[3] - z[21]*z[8];
  z[27] = -z[18]*z[3] - z[8]*(-z[16]*z[2] + z[6]*z[7]*z[9]);
  z[28] = -rear_.a;
  z[29] = -cam_y;
  z[30] = rear_.R/z[11];
  z[31] = z[12]*z[6];

  m[0] = z[24];
  m[1] = z[25];
  m[2] = z[22];
  m[3] = 0;
  m[4] = z[19];
  m[5] = z[23];
  m[6] = z[17];
  m[7] = 0;
  m[8] = z[26];
  m[9] = z[27];
  m[10] = -z[20];
  m[11] = 0;
  m[12] = rear_.b*z[26] - z[10]*z[15] + z[13]*z[29] + z[19]*z[2]*z[30] - z[24]*z[28] - z[31]*z[4];
  m[13] = rear_.b*z[27] + z[10]*z[18] - z[16]*z[29] + z[2]*z[23]*z[30] - z[25]*z[28] + z[31]*z[9];
  m[14] = -rear_.b*z[20] + z[0]*z[29]*z[6] + z[1]*z[12] + z[10]*z[5]*z[6] + z[17]*z[2]*z[30] - z[22]*z[28];
  m[15] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (16)

   @param[out] a C-array of with 16 elements
*/
//  void Bicycle::gc_f_ogl(double m[16]) const;
void Bicycle::gc_f_ogl(double m[16]) const
{
  double * z = new double[39];

  z[0] = sin(azimuth);
  z[1] = sin(elevation);
  z[2] = sin(state_[1]);
  z[3] = sin(state_[2]);
  z[4] = sin(state_[3]);
  z[5] = sin(twist);
  z[6] = cos(azimuth);
  z[7] = cos(elevation);
  z[8] = cos(state_[1]);
  z[9] = cos(state_[2]);
  z[10] = cos(state_[3]);
  z[11] = cos(twist);
  z[12] = sqrt(pow(z[8], 2));
  z[13] = -cam_x - cam_z;
  z[14] = z[0]*z[5] + z[1]*z[11]*z[6];
  z[15] = z[0]*z[1]*z[5] + z[11]*z[6];
  z[16] = z[0]*z[2]*z[7] + z[1]*z[8];
  z[17] = z[0]*z[11] - z[1]*z[5]*z[6];
  z[18] = z[0]*z[1]*z[11] - z[5]*z[6];
  z[19] = z[0]*z[7]*z[8] - z[1]*z[2];
  z[20] = -z[10]*z[8] + z[2]*z[3]*z[4];
  z[21] = front_.R/z[12] - rear_.R/z[12] + front_.r - rear_.r;
  z[22] = z[15]*z[8] + z[2]*z[5]*z[7];
  z[23] = z[15]*z[2] - z[5]*z[7]*z[8];
  z[24] = -z[16]*z[3] + z[6]*z[7]*z[9];
  z[25] = -z[11]*z[2]*z[7] - z[18]*z[8];
  z[26] = sqrt(pow(z[20], 2) + pow(z[4], 2)*pow(z[9], 2));
  z[27] = z[14]*z[9] + z[3]*(z[11]*z[7]*z[8] - z[18]*z[2]);
  z[28] = -z[17]*z[9] - z[23]*z[3];
  z[29] = -z[1];
  z[30] = -z[3];
  z[31] = -z[9];
  z[32] = -z[10];
  z[33] = -z[31]*z[4];
  z[34] = z[5]*z[7];
  z[35] = z[6]*z[7];
  z[36] = z[11]*z[7];
  z[37] = z[2]*(front_.R - rear_.R)/z[12];
  z[38] = z[7]/z[26];

  m[0] = -(-z[15]*z[33] + z[17]*z[20])/z[26];
  m[1] = -(z[14]*z[20] + z[18]*z[33])/z[26];
  m[2] = z[38]*(z[0]*z[33] + z[20]*z[6]);
  m[3] = 0;
  m[4] = -(z[15]*z[20] + z[17]*z[33])/z[26];
  m[5] = -(z[14]*z[33] - z[18]*z[20])/z[26];
  m[6] = -z[38]*(z[0]*z[20] - z[33]*z[6]);
  m[7] = 0;
  m[8] = z[34];
  m[9] = -z[36];
  m[10] = z[29];
  m[11] = 0;
  m[12] = -front_.c*(z[22]*z[4] + z[28]*z[32]) - rear_.c*z[28] - cam_y*z[15] + ls_*(-z[17]*z[30] + z[23]*z[31]) + z[13]*z[17] + z[21]*z[34] - z[22]*z[37];
  m[13] = -front_.c*(z[25]*z[4] - z[27]*z[32]) + rear_.c*z[27] + cam_y*z[18] + ls_*(-z[14]*z[30] + z[31]*(-z[18]*z[2] + z[36]*z[8])) + z[13]*z[14] - z[21]*z[36] - z[25]*z[37];
  m[14] = -front_.c*(z[19]*z[4] + z[24]*z[32]) - rear_.c*z[24] - cam_y*z[0]*z[7] - ls_*(-z[16]*z[31] - z[30]*z[35]) - z[13]*z[35] - z[19]*z[37] + z[21]*z[29];
  m[15] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (16)

   @param[out] a C-array of with 16 elements
*/
//  void Bicycle::wc_f_ogl(double m[16]) const;
void Bicycle::wc_f_ogl(double m[16]) const {
  double * z = new double[44];

  z[0] = sin(azimuth);
  z[1] = sin(elevation);
  z[2] = sin(state_[1]);
  z[3] = sin(state_[2]);
  z[4] = sin(state_[3]);
  z[5] = sin(twist);
  z[6] = cos(azimuth);
  z[7] = cos(elevation);
  z[8] = cos(state_[1]);
  z[9] = cos(state_[2]);
  z[10] = cos(state_[3]);
  z[11] = cos(state_[5]);
  z[12] = cos(twist);
  z[13] = sqrt(pow(z[8], 2));
  z[14] = -cam_x - cam_z;
  z[15] = rear_.R/z[13] + rear_.r;
  z[16] = z[0]*z[5] + z[1]*z[12]*z[6];
  z[17] = z[0]*z[1]*z[5] + z[12]*z[6];
  z[18] = z[0]*z[2]*z[7] + z[1]*z[8];
  z[19] = z[0]*z[12] - z[1]*z[5]*z[6];
  z[20] = z[0]*z[1]*z[12] - z[5]*z[6];
  z[21] = z[0]*z[7]*z[8] - z[1]*z[2];
  z[22] = z[17]*z[8] + z[2]*z[5]*z[7];
  z[23] = z[18]*z[9] + z[3]*z[6]*z[7];
  z[24] = z[17]*z[2] - z[5]*z[7]*z[8];
  z[25] = -z[18]*z[3] + z[6]*z[7]*z[9];
  z[26] = z[12]*z[7]*z[8] - z[2]*z[20];
  z[27] = -z[12]*z[2]*z[7] - z[20]*z[8];
  z[28] = z[16]*z[9] + z[26]*z[3];
  z[29] = -z[19]*z[9] - z[24]*z[3];
  z[30] = -z[19]*z[9] - z[24]*z[3];
  z[31] = z[19]*z[3] - z[24]*z[9];
  z[32] = z[16]*z[3] - z[26]*z[9];
  z[33] = -z[10]*z[25] + z[21]*z[4];
  z[34] = -z[10]*z[29] + z[22]*z[4];
  z[35] = z[10]*z[28] + z[27]*z[4];
  z[36] = -z[2];
  z[37] = -z[3];
  z[38] = -sin(state_[5]);
  z[39] = -z[9];
  z[40] = -z[10];
  z[41] = -z[12];
  z[42] = rear_.R/z[13];
  z[43] = z[15]*z[7];

  m[0] = z[11]*z[34] + z[31]*z[38];
  m[1] = z[11]*z[35] + z[32]*z[38];
  m[2] = z[11]*z[33] - z[23]*z[38];
  m[3] = 0;
  m[4] = -z[22]*z[40] + z[29]*z[4];
  m[5] = -z[4]*(-z[16]*z[39] - z[26]*z[37]) - z[40]*(-z[20]*z[8] - z[36]*z[41]*z[7]);
  m[6] = -z[21]*z[40] + z[25]*z[4];
  m[7] = 0;
  m[8] = z[11]*z[31] - z[34]*z[38];
  m[9] = z[11]*z[32] - z[35]*z[38];
  m[10] = -z[11]*z[23] - z[33]*z[38];
  m[11] = 0;
  m[12] = -front_.c*(z[22]*z[4] + z[30]*z[40]) - rear_.c*z[30] - cam_y*z[17] + ls_*(-z[19]*z[37] + z[24]*z[39]) + z[14]*z[19] - z[22]*z[36]*z[42] - z[43]*z[5];
  m[13] = -front_.c*z[35] + rear_.c*z[28] + cam_y*z[20] + ls_*z[32] + z[14]*z[16] - z[27]*z[36]*z[42] - z[41]*z[43];
  m[14] = -front_.c*(z[21]*z[4] + z[25]*z[40]) - rear_.c*z[25] - cam_y*z[0]*z[7] - ls_*z[23] + z[1]*z[15] - z[14]*z[6]*z[7] - z[21]*z[36]*z[42];
  m[15] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (16)

   @param[out] a C-array of with 16 elements
*/
//  void Bicycle::mc_f_ogl(double m[16]) const;
void Bicycle::mc_f_ogl(double m[16]) const
{
  double * z = new double[42];

  z[0] = sin(azimuth);
  z[1] = sin(elevation);
  z[2] = sin(state_[1]);
  z[3] = sin(state_[2]);
  z[4] = sin(state_[3]);
  z[5] = sin(twist);
  z[6] = cos(azimuth);
  z[7] = cos(elevation);
  z[8] = cos(state_[1]);
  z[9] = cos(state_[2]);
  z[10] = cos(state_[3]);
  z[11] = cos(twist);
  z[12] = cam_x + cam_z;
  z[13] = front_.a - front_.c;
  z[14] = sqrt(pow(z[8], 2));
  z[15] = rear_.R/z[14] + rear_.r;
  z[16] = z[0]*z[1]*z[5] + z[11]*z[6];
  z[17] = z[0]*z[2]*z[7] + z[1]*z[8];
  z[18] = z[0]*z[11] - z[1]*z[5]*z[6];
  z[19] = z[0]*z[1]*z[11] - z[5]*z[6];
  z[20] = z[0]*z[7]*z[8] - z[1]*z[2];
  z[21] = -z[0]*z[5] - z[1]*z[11]*z[6];
  z[22] = z[16]*z[8] + z[2]*z[5]*z[7];
  z[23] = z[17]*z[9] + z[3]*z[6]*z[7];
  z[24] = z[16]*z[2] - z[5]*z[7]*z[8];
  z[25] = z[11]*z[7]*z[8] - z[19]*z[2];
  z[26] = -z[23];
  z[27] = -z[11]*z[2]*z[7] - z[19]*z[8];
  z[28] = -z[17]*z[3] + z[6]*z[7]*z[9];
  z[29] = -z[21]*z[9] + z[25]*z[3];
  z[30] = -z[18]*z[9] - z[24]*z[3];
  z[31] = z[18]*z[3] - z[24]*z[9];
  z[32] = -z[21]*z[3] - z[25]*z[9];
  z[33] = -z[10]*(-z[17]*z[3] + z[6]*z[7]*z[9]) + z[20]*z[4];
  z[34] = -z[10]*z[30] + z[22]*z[4];
  z[35] = z[10]*z[29] + z[27]*z[4];
  z[36] = -rear_.c;
  z[37] = -cam_y;
  z[38] = -z[10];
  z[39] = -z[11];
  z[40] = rear_.R/z[14];
  z[41] = z[15]*z[7];

  m[0] = z[34];
  m[1] = z[35];
  m[2] = z[33];
  m[3] = 0;
  m[4] = -z[22]*z[38] + z[30]*z[4];
  m[5] = -z[38]*(-z[19]*z[8] + z[2]*z[39]*z[7]) - z[4]*(-z[21]*z[9] + z[25]*z[3]);
  m[6] = -z[20]*z[38] + z[28]*z[4];
  m[7] = 0;
  m[8] = z[31];
  m[9] = z[32];
  m[10] = -z[23];
  m[11] = 0;
  m[12] = front_.b*z[31] + ls_*z[31] - z[12]*z[18] + z[13]*z[34] + z[16]*z[37] + z[2]*z[22]*z[40] + z[30]*z[36] - z[41]*z[5];
  m[13] = front_.b*z[32] + ls_*z[32] + z[12]*z[21] + z[13]*z[35] - z[19]*z[37] + z[2]*z[27]*z[40] - z[29]*z[36] - z[39]*z[41];
  m[14] = front_.b*z[26] + ls_*z[26] + z[0]*z[37]*z[7] + z[1]*z[15] + z[12]*z[6]*z[7] + z[13]*z[33] + z[2]*z[20]*z[40] + z[28]*z[36];
  m[15] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (16)

   @param[out] a C-array of with 16 elements
*/
//  void Bicycle::N_ogl(double m[16]) const;
void Bicycle::N_ogl(double m[16]) const
{
  double * z = new double[21];

  z[0] = sin(azimuth);
  z[1] = sin(elevation);
  z[2] = sin(state_[0]);
  z[3] = sin(twist);
  z[4] = cos(azimuth);
  z[5] = cos(elevation);
  z[6] = cos(state_[0]);
  z[7] = cos(twist);
  z[8] = cam_x + cam_z;
  z[9] = z[0]*z[6] - z[2]*z[4];
  z[10] = z[0]*z[3] + z[1]*z[4]*z[7];
  z[11] = z[0]*z[1]*z[3] + z[4]*z[7];
  z[12] = z[0]*z[7] - z[1]*z[3]*z[4];
  z[13] = z[0]*z[1]*z[7] - z[3]*z[4];
  z[14] = z[10]*z[6] + z[13]*z[2];
  z[15] = z[11]*z[6] + z[12]*z[2];
  z[16] = z[10]*z[2] - z[13]*z[6];
  z[17] = -z[11]*z[2] + z[12]*z[6];
  z[18] = -z[4];
  z[19] = z[0]*z[2];
  z[20] = -z[18]*z[6];

  m[0] = z[17];
  m[1] = z[14];
  m[2] = z[5]*(-z[19] - z[20]);
  m[3] = 0;
  m[4] = z[15];
  m[5] = z[16];
  m[6] = z[5]*z[9];
  m[7] = 0;
  m[8] = z[3]*z[5];
  m[9] = -z[5]*z[7];
  m[10] = -z[1];
  m[11] = 0;
  m[12] = -cam_y*z[11] - state_[6]*z[17] - state_[7]*z[15] - z[12]*z[8];
  m[13] = cam_y*z[13] - state_[6]*z[14] - state_[7]*z[16] - z[10]*z[8];
  m[14] = -z[5]*(cam_y*z[0] - state_[6]*(z[19] + z[20]) + state_[7]*z[9] + z[18]*z[8]);
  m[15] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (1)

   @param[out] a C-array of with 1 elements
*/
//  void Bicycle::f_c(double m[1]) const;
void Bicycle::f_c(double m[1]) const
{
  double * z = new double[4];

  z[0] = sin(state_[1]);
  z[1] = cos(state_[1]);
  z[2] = sqrt(pow(z[1], 2));
  z[3] = z[1]*sin(state_[2]);

  m[0] = front_.R/z[2] - rear_.R/z[2] - front_.c*(z[0]*sin(state_[3]) - z[3]*cos(state_[3])) - rear_.c*z[3] + ls_*z[1]*cos(state_[2]) + front_.r - rear_.r - pow(z[0], 2)*(front_.R - rear_.R)/z[2];

  delete [] z;
}

/*!
   Computes the n-d array of shape (8)

   @param[out] a C-array of with 8 elements
*/
//  void Bicycle::f_c_dq(double m[8]) const;
void Bicycle::f_c_dq(double m[8]) const {
  double * z = new double[12];

  z[0] = sin(state_[1]);
  z[1] = sin(state_[2]);
  z[2] = cos(state_[1]);
  z[3] = cos(state_[2]);
  z[4] = cos(state_[3]);
  z[5] = -rear_.R;
  z[6] = -rear_.c;
  z[7] = z[0]*z[4];
  z[8] = z[2]*sin(state_[3]);
  z[9] = z[0]/sqrt(pow(z[2], 2));
  z[10] = pow(z[0], 2)/z[2];
  z[11] = z[9]/z[2];

  m[0] = 0;
  m[1] = front_.R*z[11] - front_.c*(z[1]*z[7] + z[8]) - ls_*z[0]*z[3] - z[0]*z[1]*z[6] + z[11]*z[5] - z[2]*z[9]*(front_.R + z[5]) - z[9]*(front_.R*z[10] + front_.R*z[2] + z[10]*z[5] + z[2]*z[5]);
  m[2] = z[2]*(front_.c*z[3]*z[4] - ls_*z[1] + z[3]*z[6]);
  m[3] = -front_.c*(z[1]*z[8] + z[7]);
  m[4] = 0;
  m[5] = 0;
  m[6] = 0;
  m[7] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (3, 12)

   @param[out] a C-array of with 36 elements
*/
//  void Bicycle::f_v_coefficient(double m[36]) const;
void Bicycle::f_v_coefficient(double m[36]) const
{
  double * z = new double[31];

  z[0] = sin(state_[1]);
  z[1] = sin(state_[2]);
  z[2] = sin(state_[3]);
  z[3] = cos(state_[1]);
  z[4] = cos(state_[2]);
  z[5] = cos(state_[3]);
  z[6] = pow(z[4], 2);
  z[7] = sqrt(pow(z[3], 2));
  z[8] = front_.R/z[7] + front_.r;
  z[9] = rear_.R/z[7] + rear_.r;
  z[10] = z[0]*z[5] + z[1]*z[2]*z[3];
  z[11] = z[0]*z[1]*z[2] - z[3]*z[5];
  z[12] = -z[0]*z[1]*z[5] - z[2]*z[3];
  z[13] = z[8] - z[9];
  z[14] = sqrt(pow(z[11], 2) + pow(z[2], 2)*z[6]);
  z[15] = -rear_.R;
  z[16] = -rear_.c;
  z[17] = -z[16]*z[2];
  z[18] = -z[1];
  z[19] = z[0]*z[2];
  z[20] = z[0]*z[5];
  z[21] = -z[18]*z[3];
  z[22] = z[2]*z[3];
  z[23] = z[3]*z[4];
  z[24] = front_.R/z[7];
  z[25] = -1/z[7];
  z[26] = -z[0]*z[25];
  z[27] = -z[25]*(front_.R - rear_.R);
  z[28] = z[6]*z[8];
  z[29] = -z[11]*z[18];
  z[30] = z[4]*(z[11]*z[5] + z[12]*z[2]);

  m[0] = z[23]*(z[17] + z[20]*z[27]);
  m[1] = z[12]*z[13] - z[17]*z[18] - z[18]*z[20]*z[27];
  m[2] = z[13]*z[23]*z[5];
  m[3] = -z[12]*z[18]*z[8] + z[20]*z[24] - z[20]*z[28];
  m[4] = -z[23]*z[5]*z[9];
  m[5] = -z[30]*z[8];
  m[6] = -z[23]*z[25]*z[5];
  m[7] = z[12]*z[25]*z[3];
  m[8] = z[19] - z[21]*z[5];
  m[9] = z[30]/z[14];
  m[10] = (-z[11]*z[12] + z[2]*z[5]*z[6])/z[14];
  m[11] = -z[19] + z[21]*z[5];
  m[12] = z[23]*(-front_.c - z[16]*z[5] - z[19]*z[27]);
  m[13] = front_.c*z[18] + z[11]*z[13] + z[16]*z[18]*z[5] + z[18]*z[19]*z[27];
  m[14] = -z[13]*z[22]*z[4];
  m[15] = -front_.c - z[19]*z[24] + z[19]*z[28] + z[29]*z[8];
  m[16] = z[22]*z[4]*z[9];
  m[17] = 0;
  m[18] = z[22]*z[25]*z[4];
  m[19] = z[11]*z[25]*z[3];
  m[20] = z[10];
  m[21] = 0;
  m[22] = -z[14];
  m[23] = -z[10];
  m[24] = front_.c*z[10] + z[0]*z[16] + z[0]*z[21]*z[24] + z[15]*z[21]*z[26];
  m[25] = -z[4]*(front_.c*z[2] - z[0]*z[13] + z[0]*z[24] + z[15]*z[26]);
  m[26] = front_.c*z[5] + z[13]*z[21] + z[16];
  m[27] = 0;
  m[28] = -z[21]*z[9];
  m[29] = z[19]*z[24] - z[19]*z[28] - z[29]*z[8];
  m[30] = -z[21]*z[25];
  m[31] = -z[23]*z[26];
  m[32] = z[23];
  m[33] = (z[19]*z[6] + z[29])/z[14];
  m[34] = -z[4]*(z[0]*z[11] + z[18]*z[2])/z[14];
  m[35] = -z[23];

  delete [] z;
}

/*!
   Computes the n-d array of shape (3, 12, 3)

   @param[out] a C-array of with 108 elements
*/
//  void Bicycle::f_v_coefficient_dq(double m[108]) const;
void Bicycle::f_v_coefficient_dq(double m[108]) const
{
  double * z = new double[75];

  z[0] = sin(state_[1]);
  z[1] = sin(state_[2]);
  z[2] = sin(state_[3]);
  z[3] = cos(state_[1]);
  z[4] = cos(state_[2]);
  z[5] = cos(state_[3]);
  z[6] = pow(z[0], 2);
  z[7] = pow(z[2], 2);
  z[8] = pow(z[4], 2);
  z[9] = front_.R - rear_.R;
  z[10] = -front_.r + rear_.r;
  z[11] = sqrt(pow(z[3], 2));
  z[12] = front_.R/z[11] + front_.r;
  z[13] = rear_.R/z[11] + rear_.r;
  z[14] = z[0]*z[5] + z[1]*z[2]*z[3];
  z[15] = z[0]*z[1]*z[5] + z[2]*z[3];
  z[16] = z[0]*z[2] - z[1]*z[3]*z[5];
  z[17] = z[0]*z[1]*z[2] - z[3]*z[5];
  z[18] = -z[15];
  z[19] = pow(z[17], 2);
  z[20] = rear_.c*z[2] + z[0]*z[5]*z[9]/z[11];
  z[21] = front_.R/z[11] - rear_.R/z[11] - z[10];
  z[22] = front_.c - rear_.c*z[5] + z[0]*z[2]*z[9]/z[11];
  z[23] = -z[0]*z[17] + z[1]*z[2];
  z[24] = z[19] + z[7]*z[8];
  z[25] = front_.R*z[0]/z[11] - rear_.R*z[0]/z[11] + front_.c*z[2];
  z[26] = sqrt(z[24]);
  z[27] = z[2]*z[23]*z[4];
  z[28] = front_.R*z[3] + front_.R*z[6]/z[3] - rear_.R*z[3] - rear_.R*z[6]/z[3];
  z[29] = front_.R*z[0]*z[1]*z[17]/(z[11]*z[3]) - front_.R*z[2]*z[3]/z[11] + front_.R*z[2]*z[6]*z[8]/(z[11]*z[3]) - front_.R*z[2]*z[6]/(z[11]*z[3]) + z[1]*z[12]*z[14] + z[12]*z[2]*z[3]*z[8];
  z[30] = -rear_.R;
  z[31] = -rear_.r;
  z[32] = front_.R*z[3];
  z[33] = -z[0];
  z[34] = -z[1];
  z[35] = -z[2];
  z[36] = -z[4];
  z[37] = -z[5];
  z[38] = z[33]*z[34];
  z[39] = z[33]*z[35];
  z[40] = z[33]*z[36];
  z[41] = z[33]*z[37];
  z[42] = z[34]*z[35];
  z[43] = -z[3]*z[34];
  z[44] = -z[3]*z[35];
  z[45] = z[35]*z[36];
  z[46] = -z[3]*z[36];
  z[47] = -z[3]*z[37];
  z[48] = -z[35]*z[8];
  z[49] = front_.R/z[11];
  z[50] = -z[30]/z[11];
  z[51] = -1/z[11];
  z[52] = z[33]*z[51];
  z[53] = -z[3]*z[51];
  z[54] = z[6]/z[3];
  z[55] = z[7]*z[8];
  z[56] = z[11];
  z[57] = -z[14]*z[34];
  z[58] = -z[14]*z[37];
  z[59] = -z[16]*z[35];
  z[60] = -z[17]*z[34];
  z[61] = -z[17]*z[36];
  z[62] = -z[17]*z[37];
  z[63] = -z[18]/z[3];
  z[64] = z[12]*z[37]*z[46];
  z[65] = z[17]/z[3];
  z[66] = z[21]*z[3];
  z[67] = -z[14]*z[18];
  z[68] = -z[36]/z[26];
  z[69] = z[17]/z[24];
  z[70] = -z[18]*z[27];
  z[71] = z[19]/z[24];
  z[72] = z[23]/z[24];
  z[73] = z[27]/z[24];
  z[74] = -z[37]*z[73];

  m[0] = -z[36]*(rear_.c*z[2]*z[33] - z[37]*z[56]*z[9]);
  m[1] = -z[20]*z[43];
  m[2] = 0;
  m[3] = z[16]*z[21] - z[28]*z[34]*z[37]*z[51] - z[52]*z[63]*z[9];
  m[4] = -z[36]*(z[20] - z[21]*z[41]);
  m[5] = 0;
  m[6] = -z[10]*z[37]*z[40];
  m[7] = z[21]*z[37]*z[43];
  m[8] = 0;
  m[9] = -z[12]*z[16]*z[34] - z[12]*z[47]*z[8] + z[32]*z[37]*z[51] + z[37]*z[49]*z[54]*z[8] - z[37]*z[49]*z[54] - z[38]*z[49]*z[63];
  m[10] = z[12]*z[36]*z[44];
  m[11] = 0;
  m[12] = z[31]*z[37]*z[40];
  m[13] = -z[13]*z[37]*z[43];
  m[14] = 0;
  m[15] = z[36]*(z[12]*z[58] + z[12]*z[59] - z[39]*z[49]*z[63] + z[41]*z[49]*z[65]);
  m[16] = -z[12]*z[34]*(-z[18]*z[35] + z[62]);
  m[17] = 0;
  m[18] = 0;
  m[19] = -z[37]*z[43]*z[51];
  m[20] = 0;
  m[21] = -z[16]*z[53];
  m[22] = -z[40]*z[47]*z[51];
  m[23] = 0;
  m[24] = z[15];
  m[25] = z[37]*z[46];
  m[26] = 0;
  m[27] = z[68]*(-z[35]*z[67]*z[69] - z[58]*z[71] + z[58] + z[59]);
  m[28] = (-z[18]*z[42] + z[37]*z[60] + z[61]*z[74] - z[45]*z[70]/z[24])/z[26];
  m[29] = 0;
  m[30] = -(z[16]*z[17] + z[48]*z[58]*z[69] + z[67]*z[71] - z[67])/z[26];
  m[31] = (z[18]*z[36]*z[39] - 2*z[36]*z[37]*z[42] + z[40]*z[62] + z[48]*z[74] + z[69]*z[70])/z[26];
  m[32] = 0;
  m[33] = z[18];
  m[34] = -z[37]*z[46];
  m[35] = 0;
  m[36] = -z[36]*(-front_.c*z[33] - rear_.c*z[33]*z[37] + z[35]*z[56]*z[9]);
  m[37] = z[22]*z[43];
  m[38] = 0;
  m[39] = z[14]*z[21] + z[28]*z[42]*z[51] + z[52]*z[65]*z[9];
  m[40] = z[36]*(-z[21]*z[39] + z[22]);
  m[41] = 0;
  m[42] = z[10]*z[36]*z[39];
  m[43] = z[42]*z[66];
  m[44] = 0;
  m[45] = z[29];
  m[46] = z[64];
  m[47] = 0;
  m[48] = -z[31]*z[36]*z[39];
  m[49] = -z[13]*z[3]*z[42];
  m[50] = 0;
  m[51] = 0;
  m[52] = 0;
  m[53] = 0;
  m[54] = 0;
  m[55] = z[42]*z[53];
  m[56] = 0;
  m[57] = -z[14]*z[53];
  m[58] = z[39]*z[46]*z[51];
  m[59] = 0;
  m[60] = -z[17];
  m[61] = -z[36]*z[44];
  m[62] = 0;
  m[63] = 0;
  m[64] = 0;
  m[65] = 0;
  m[66] = z[14]*z[17]*(z[71] - 2 + z[55]/z[24])/z[26];
  m[67] = -z[45]*(-2*z[17]*z[33] + z[23]*z[71] - 2*z[42] + z[55]*z[72])/z[26];
  m[68] = 0;
  m[69] = z[17];
  m[70] = z[36]*z[44];
  m[71] = 0;
  m[72] = -front_.R*z[34]*z[56] - front_.c*z[17] - rear_.c*z[3] - z[30]*z[34]*z[56];
  m[73] = z[25]*z[46];
  m[74] = 0;
  m[75] = -z[36]*(z[3]*z[50] + z[32]*z[51] - z[49]*z[54] + z[50]*z[54] - z[51]*z[54]*z[9] + z[66]);
  m[76] = -z[34]*(z[21]*z[33] + z[25]);
  m[77] = 0;
  m[78] = z[10]*z[38];
  m[79] = z[21]*z[46];
  m[80] = 0;
  m[81] = 0;
  m[82] = 0;
  m[83] = 0;
  m[84] = -z[31]*z[38];
  m[85] = -z[13]*z[46];
  m[86] = 0;
  m[87] = -z[29];
  m[88] = -z[64];
  m[89] = 0;
  m[90] = 0;
  m[91] = -z[46]*z[51];
  m[92] = 0;
  m[93] = z[36]*z[56];
  m[94] = z[38]*z[53];
  m[95] = 0;
  m[96] = -z[40];
  m[97] = -z[43];
  m[98] = 0;
  m[99] = (-z[14]*z[39]*z[69]*z[8] + z[44]*z[8] - z[57]*z[71] + z[57])/z[26];
  m[100] = (-z[38]*z[45] + z[39]*z[73]*z[8] + z[60]*z[73] + z[61])/z[26];
  m[101] = 0;
  m[102] = -z[68]*(z[14]*z[33]*z[71] - z[14]*z[33] + z[14]*z[42]*z[69] + z[17]*z[3]);
  m[103] = -(-z[17]*z[38] + z[23]*z[39]*z[69]*z[8] - z[34]*z[42] + z[34]*z[55]*z[72] + z[48]*z[6] - z[48])/z[26];
  m[104] = 0;
  m[105] = z[40];
  m[106] = z[43];
  m[107] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (3, 12, 3, 3)

   @param[out] a C-array of with 324 elements
*/
//  void Bicycle::f_v_coefficient_dqdq(double m[324]) const;
void Bicycle::f_v_coefficient_dqdq(double m[324]) const
{
  double * z = new double[153];

  z[0] = -3;
  z[1] = -2;
  z[2] = sin(state_[1]);
  z[3] = sin(state_[2]);
  z[4] = sin(state_[3]);
  z[5] = cos(state_[1]);
  z[6] = cos(state_[2]);
  z[7] = cos(state_[3]);
  z[8] = pow(z[2], -z[1]);
  z[9] = pow(z[2], -z[0]);
  z[10] = pow(z[3], -z[1]);
  z[11] = pow(z[4], -z[1]);
  z[12] = pow(z[4], -z[0]);
  z[13] = pow(z[5], -z[1]);
  z[14] = pow(z[6], -z[1]);
  z[15] = front_.R - rear_.R;
  z[16] = -front_.r + rear_.r;
  z[17] = sqrt(z[13]);
  z[18] = rear_.r*z[2]*z[6];
  z[19] = front_.R/z[17] + front_.r;
  z[20] = rear_.R/z[17] + rear_.r;
  z[21] = rear_.r*z[2]*z[3]*z[4];
  z[22] = z[2]*z[7] + z[3]*z[4]*z[5];
  z[23] = z[2]*z[4] - z[3]*z[5]*z[7];
  z[24] = z[2]*z[3]*z[4] - z[5]*z[7];
  z[25] = pow(z[22], -z[1]);
  z[26] = -z[2]*z[3]*z[7] - z[4]*z[5];
  z[27] = pow(z[24], -z[1]);
  z[28] = pow(z[24], -z[0]);
  z[29] = rear_.c*z[4] + z[15]*z[2]*z[7]/z[17];
  z[30] = front_.R/z[17] - rear_.R/z[17] - z[16];
  z[31] = front_.c - rear_.c*z[7] + z[15]*z[2]*z[4]/z[17];
  z[32] = z[2]*z[24] - z[3]*z[4];
  z[33] = z[11]*z[14] + z[27];
  z[34] = -z[29]*z[5]*z[6];
  z[35] = sqrt(z[33]);
  z[36] = pow(z[33], -z[1]);
  z[37] = -z[32]*z[4]*z[6];
  z[38] = z[0]*z[32]*z[4]*z[6];
  z[39] = z[24]*z[7] + z[26]*z[4];
  z[40] = -z[2]*z[22] - z[24]*z[5];
  z[41] = z[15]*z[8]/(z[17]*z[5]) + z[30]*z[5];
  z[42] = -z[10]*z[4] - z[14]*z[4]*z[8] + z[14]*z[4] + z[2]*z[24]*z[3];
  z[43] = z[41] - (front_.R*z[5] + front_.R*z[8]/z[5] - rear_.R*z[5] - rear_.R*z[8]/z[5])/z[17];
  z[44] = -z[43]*z[6]*z[7];
  z[45] = -z[6]*(front_.R*z[2]*z[24]/(z[17]*z[5]) - front_.R*z[3]*z[4]*z[8]/(z[17]*z[5]) + z[19]*z[22] - z[19]*z[3]*z[4]*z[5]);
  z[46] = -z[3]*(-front_.R*z[5]/z[17] - front_.R*z[8]/(z[17]*z[5]) + rear_.R*z[5]/z[17] + rear_.R*z[8]/(z[17]*z[5]) + z[41]);
  z[47] = z[1]*z[11]*z[22]*z[24]*z[3]*z[6]/z[33] + z[1]*z[2]*z[22]*z[4]*z[6] + z[1]*z[22]*z[24]*z[37]/z[33] + z[1]*z[24]*z[4]*z[5]*z[6];
  z[48] = -front_.R*z[0]*z[14]*z[2]*z[4]/z[17] - front_.R*z[1]*z[2]*z[22]*z[3]/(z[17]*z[5]) + front_.R*z[1]*z[2]*z[4]/z[17] - front_.R*z[1]*z[14]*z[4]*z[9]/pow(z[13], 3.0/2.0) - front_.R*z[1]*z[24]*z[3]*z[8]/pow(z[13], 3.0/2.0) + front_.R*z[1]*z[4]*z[9]/pow(z[13], 3.0/2.0) + front_.R*z[24]*z[3]/z[17] - z[14]*z[19]*z[2]*z[4] - z[19]*z[24]*z[3];
  z[49] = z[22]*z[24]*z[26]*z[3]*z[4]/z[33] + z[22]*z[27]*z[3]*z[7]/z[33] - z[22]*z[3]*z[7] + z[22]*z[37]*z[6]*z[7]/z[33] - z[23]*z[3]*z[4] + z[23]*z[37]*z[4]*z[6]/z[33];
  z[50] = z[0]*z[11]*z[14]*z[2]*z[22]*z[24]*z[32]/z[36] + z[0]*z[22]*z[27]*z[3]*z[32]*z[4]/z[36] + z[11]*z[14]*z[32]*z[5]/z[33] - z[2]*z[7] + z[22]*z[27]/z[33] + z[22]*z[3]*z[32]*z[4]/z[33];
  z[51] = z[0]*z[11]*z[14]*z[22]*z[24]*z[32]*z[7]/z[36] - z[0]*z[22]*z[26]*z[27]*z[32]*z[4]/z[36] + z[1]*z[22]*z[24]*z[3]*z[4]*z[7]/z[33] + z[2]*z[22]*z[27]*z[7]/z[33] - z[2]*z[22]*z[7] + z[2]*z[23]*z[4] - z[22]*z[26]*z[32]*z[4]/z[33] - z[23]*z[24]*z[32]*z[4]/z[33] - z[24]*z[5]*z[7] + z[26]*z[4]*z[5];
  z[52] = z[0]*z[11]*z[14]*z[22]*z[24]*z[3]*z[32]/z[36] - z[0]*z[14]*z[2]*z[22]*z[27]*z[32]*z[4]/z[36] - z[1]*z[14]*z[2]*z[4]*z[5] - z[10]*z[22]*z[24]*z[4]/z[33] - z[14]*z[2]*z[22]*z[32]*z[4]/z[33] + z[14]*z[22]*z[24]*z[4]/z[33] - z[14]*z[24]*z[32]*z[4]*z[5]/z[33] + z[2]*z[22]*z[27]*z[3]/z[33] - z[2]*z[22]*z[3] - z[24]*z[3]*z[5];
  z[53] = -rear_.R;
  z[54] = -rear_.r;
  z[55] = front_.c*z[4];
  z[56] = -z[2];
  z[57] = -z[3];
  z[58] = -z[1]*z[4];
  z[59] = -z[5];
  z[60] = z[1]*z[59];
  z[61] = -z[6];
  z[62] = z[0]*z[61];
  z[63] = -z[7];
  z[64] = z[1]*z[63];
  z[65] = z[56]*z[57];
  z[66] = -z[4]*z[56];
  z[67] = z[56]*z[61];
  z[68] = -z[4]*z[57];
  z[69] = z[57]*z[59];
  z[70] = -z[4]*z[59];
  z[71] = -z[4]*z[61];
  z[72] = z[59]*z[61];
  z[73] = z[61]*z[63];
  z[74] = front_.R*z[8];
  z[75] = -z[65];
  z[76] = -z[56]*z[63];
  z[77] = -z[72];
  z[78] = -z[8];
  z[79] = -z[1]/z[13];
  z[80] = -z[0]*z[14];
  z[81] = z[14]*z[4];
  z[82] = -z[11]*z[61];
  z[83] = -z[61]*z[66];
  z[84] = -z[63]*z[67];
  z[85] = -z[59]*z[68];
  z[86] = -z[63]*z[69];
  z[87] = front_.R/z[17];
  z[88] = -z[53]/z[17];
  z[89] = -z[16]*z[63];
  z[90] = -z[83];
  z[91] = -z[84];
  z[92] = -z[85];
  z[93] = -z[86];
  z[94] = -1/z[17];
  z[95] = z[56]*z[94];
  z[96] = z[59]*z[94];
  z[97] = z[9]/z[13];
  z[98] = z[11]*z[14];
  z[99] = z[54]*z[63]*z[75];
  z[100] = z[16]*z[67];
  z[101] = z[17];
  z[102] = -z[16]*z[4]*z[75];
  z[103] = -z[19]*z[63];
  z[104] = -z[101]*z[57];
  z[105] = z[75]*z[89];
  z[106] = z[67]*z[96];
  z[107] = z[101]*z[73];
  z[108] = -z[22]*z[56];
  z[109] = -z[101]*z[71];
  z[110] = -z[24]*z[56];
  z[111] = -z[24]*z[57];
  z[112] = -z[24]*z[59];
  z[113] = -z[24]*z[63];
  z[114] = z[26]*z[4];
  z[115] = z[26]/z[59];
  z[116] = z[19]*z[93];
  z[117] = z[22]*z[75];
  z[118] = z[1]*z[23]/z[59];
  z[119] = z[19]*z[23];
  z[120] = -z[24]*z[26];
  z[121] = -z[31]*z[77];
  z[122] = -z[57]*(-rear_.c*z[4]*z[56] + z[101]*z[15]*z[63]);
  z[123] = -z[63]/z[33];
  z[124] = -z[61]/z[35];
  z[125] = -z[1]*z[37];
  z[126] = -z[57]*(front_.c*z[56] + rear_.c*z[56]*z[63] + z[101]*z[15]*z[4]);
  z[127] = -z[94]*(front_.R*z[8]/z[13] - rear_.R*z[8]/z[13] + z[15]);
  z[128] = -z[37]*z[61];
  z[129] = -z[94]*(-front_.R*z[1]*z[8]/z[13] + rear_.R*z[1]*z[8]/z[13] + z[15]);
  z[130] = -z[61]*(front_.R*z[101] + z[101]*z[53] + z[55]*z[56]);
  z[131] = z[12]*pow(z[6], -z[0])/z[33];
  z[132] = z[22]/z[36];
  z[133] = z[22]/z[33];
  z[134] = -z[26]/z[33];
  z[135] = -z[4]*z[40]*z[6];
  z[136] = z[24]/z[36];
  z[137] = z[24]/z[33];
  z[138] = z[25]/z[33];
  z[139] = -z[0]*z[25]/z[36];
  z[140] = z[24]*z[37];
  z[141] = z[27]/z[33];
  z[142] = z[28]/z[33];
  z[143] = z[133]*z[27];
  z[144] = z[37]/z[33];
  z[145] = z[37]*z[38];
  z[146] = z[40]/z[33];
  z[147] = z[42]/z[33];
  z[148] = z[145]/z[36];
  z[149] = z[43]*z[71];
  z[150] = -z[61]*(z[115]*z[56]*z[87] - z[116] + z[119] + z[57]*z[63]*z[74]*z[94]/z[59]);
  z[151] = -z[61]*(-z[110]*z[87]/z[59] + z[19]*z[22] + z[19]*z[92] - z[68]*z[74]*z[94]/z[59]);
  z[152] = -z[57]*(z[103]*z[22] - z[115]*z[66]*z[87] + z[119]*z[4] + z[24]*z[76]*z[87]/z[59]);

  m[0] = z[34];
  m[1] = z[122];
  m[2] = 0;
  m[3] = z[122];
  m[4] = z[34];
  m[5] = 0;
  m[6] = 0;
  m[7] = 0;
  m[8] = 0;
  m[9] = z[118]*z[15]*z[95] - z[127]*z[64]*z[75] + z[129]*z[26] - z[26]*z[30];
  m[10] = z[44];
  m[11] = 0;
  m[12] = z[44];
  m[13] = z[57]*(z[29] + z[30]*z[76]);
  m[14] = 0;
  m[15] = 0;
  m[16] = 0;
  m[17] = 0;
  m[18] = -z[77]*z[89];
  m[19] = z[105];
  m[20] = 0;
  m[21] = z[105];
  m[22] = -z[30]*z[63]*z[77];
  m[23] = 0;
  m[24] = 0;
  m[25] = 0;
  m[26] = 0;
  m[27] = -front_.R*z[14]*z[64]*z[97]/sqrt(z[13]) + front_.R*z[64]*z[97]/sqrt(z[13]) - z[118]*z[75]*z[87] - z[14]*z[19]*z[76] + z[19]*z[26]*z[57] - z[26]*z[57]*z[87] - z[56]*z[64]*z[87] + z[76]*z[80]*z[87] - z[26]*z[57]*z[74]*z[79]/sqrt(z[13]);
  m[28] = z[150];
  m[29] = 0;
  m[30] = z[150];
  m[31] = -z[19]*z[92];
  m[32] = 0;
  m[33] = 0;
  m[34] = 0;
  m[35] = 0;
  m[36] = -z[54]*z[63]*z[77];
  m[37] = z[99];
  m[38] = 0;
  m[39] = z[99];
  m[40] = z[20]*z[63]*z[77];
  m[41] = 0;
  m[42] = 0;
  m[43] = 0;
  m[44] = 0;
  m[45] = z[61]*(-z[103]*z[24] - z[108]*z[64]*z[87]/z[59] + z[113]*z[87] - z[114]*z[19] + z[114]*z[87] + z[23]*z[56]*z[58]*z[87]/z[59] + z[24]*z[64]*z[74]/pow(z[13], 3.0/2.0) + z[26]*z[58]*z[74]/pow(z[13], 3.0/2.0));
  m[46] = z[152];
  m[47] = 0;
  m[48] = z[152];
  m[49] = -z[19]*z[39]*z[61];
  m[50] = 0;
  m[51] = 0;
  m[52] = 0;
  m[53] = 0;
  m[54] = 0;
  m[55] = 0;
  m[56] = 0;
  m[57] = 0;
  m[58] = z[63]*z[77]*z[94];
  m[59] = 0;
  m[60] = 0;
  m[61] = 0;
  m[62] = 0;
  m[63] = z[26]*z[96];
  m[64] = z[107];
  m[65] = 0;
  m[66] = z[107];
  m[67] = -z[63]*z[75]*z[96];
  m[68] = 0;
  m[69] = 0;
  m[70] = 0;
  m[71] = 0;
  m[72] = -z[23];
  m[73] = z[84];
  m[74] = 0;
  m[75] = z[84];
  m[76] = z[86];
  m[77] = 0;
  m[78] = 0;
  m[79] = 0;
  m[80] = 0;
  m[81] = -z[124]*(-z[0]*z[113]*z[138] + z[114]*z[138] - z[114]*z[139]*z[27] - z[114]*z[141] - z[123]*z[28] + z[133]*z[23]*z[24]*z[58] + z[139]*z[28]*z[63] + z[39]);
  m[82] = (z[108]*z[134]*z[98] + z[112]*z[134]*z[98] - z[113]*z[133]*z[14]*z[66] + z[120]*z[132]*z[38]*z[71] - z[123]*z[14]*z[27]*z[70] - z[132]*z[27]*z[38]*z[73] + z[49])/z[35];
  m[83] = 0;
  m[84] = (-z[114]*z[132]*z[140]*z[62] + z[132]*z[27]*z[37]*z[62]*z[63] + z[134]*z[135]*z[71] - z[135]*z[137]*z[73] + z[49])/z[35];
  m[85] = (-z[111]*z[144]*z[64] + z[113]*z[147]*z[71] - z[134]*z[37]*z[57]*z[58] - z[134]*z[42]*z[82] + z[136]*z[145]*z[73] + z[148]*z[26]*z[71] - z[24]*z[73] - z[26]*z[71])/z[35];
  m[86] = 0;
  m[87] = 0;
  m[88] = 0;
  m[89] = 0;
  m[90] = -(-z[0]*z[120]*z[138] - z[1]*z[120] + z[1]*z[143]*z[23] - z[1]*z[22]*z[23] + z[123]*z[25]*z[81] - z[123]*z[27]*z[81] - z[134]*z[28] + z[139]*z[26]*z[28] + z[25]*z[27]*z[4]*z[63]*z[80]/z[36])/z[35];
  m[91] = -z[124]*(z[108]*z[120]*z[58]/z[33] - z[112]*z[63]*z[98]/z[33] - z[141]*z[26]*z[70] - z[22]*z[76]*z[98]/z[33] + z[51]);
  m[92] = 0;
  m[93] = -z[124]*(z[114]*z[137]*z[40] + z[120]*z[133]*z[66] - z[123]*z[40]*z[98] + z[51]);
  m[94] = (-z[10]*z[58]*z[63] + z[113]*z[75] - z[114]*z[137]*z[42] - z[114]*z[75] + z[120]*z[148] + z[123]*z[42]*z[98] + z[134]*z[37]*z[58]*z[67] + z[137]*z[37]*z[64]*z[67] + z[14]*z[58]*z[63]*z[78] + z[14]*z[58]*z[63] - 4*z[144]*z[68]*z[73] - z[148]*z[63]*z[81])/z[35];
  m[95] = 0;
  m[96] = 0;
  m[97] = 0;
  m[98] = 0;
  m[99] = z[23];
  m[100] = z[91];
  m[101] = 0;
  m[102] = z[91];
  m[103] = z[93];
  m[104] = 0;
  m[105] = 0;
  m[106] = 0;
  m[107] = 0;
  m[108] = z[121];
  m[109] = z[126];
  m[110] = 0;
  m[111] = z[126];
  m[112] = z[121];
  m[113] = 0;
  m[114] = 0;
  m[115] = 0;
  m[116] = 0;
  m[117] = z[1]*z[15]*z[22]*z[95]/z[59] + z[127]*z[58]*z[75] + z[129]*z[24] - z[24]*z[30];
  m[118] = z[149];
  m[119] = 0;
  m[120] = z[149];
  m[121] = -z[57]*(-z[30]*z[66] + z[31]);
  m[122] = 0;
  m[123] = 0;
  m[124] = 0;
  m[125] = 0;
  m[126] = z[16]*z[61]*z[70];
  m[127] = z[102];
  m[128] = 0;
  m[129] = z[102];
  m[130] = -z[30]*z[61]*z[70];
  m[131] = 0;
  m[132] = 0;
  m[133] = 0;
  m[134] = 0;
  m[135] = z[48];
  m[136] = z[151];
  m[137] = 0;
  m[138] = z[151];
  m[139] = -z[116];
  m[140] = 0;
  m[141] = 0;
  m[142] = 0;
  m[143] = 0;
  m[144] = -z[54]*z[61]*z[70];
  m[145] = z[21];
  m[146] = 0;
  m[147] = z[21];
  m[148] = z[20]*z[61]*z[70];
  m[149] = 0;
  m[150] = 0;
  m[151] = 0;
  m[152] = 0;
  m[153] = 0;
  m[154] = 0;
  m[155] = 0;
  m[156] = 0;
  m[157] = 0;
  m[158] = 0;
  m[159] = 0;
  m[160] = 0;
  m[161] = 0;
  m[162] = 0;
  m[163] = 0;
  m[164] = 0;
  m[165] = 0;
  m[166] = z[61]*z[70]*z[94];
  m[167] = 0;
  m[168] = 0;
  m[169] = 0;
  m[170] = 0;
  m[171] = z[24]*z[96];
  m[172] = z[109];
  m[173] = 0;
  m[174] = z[109];
  m[175] = z[70]*z[75]*z[94];
  m[176] = 0;
  m[177] = 0;
  m[178] = 0;
  m[179] = 0;
  m[180] = -z[22];
  m[181] = z[90];
  m[182] = 0;
  m[183] = z[90];
  m[184] = z[92];
  m[185] = 0;
  m[186] = 0;
  m[187] = 0;
  m[188] = 0;
  m[189] = 0;
  m[190] = 0;
  m[191] = 0;
  m[192] = 0;
  m[193] = 0;
  m[194] = 0;
  m[195] = 0;
  m[196] = 0;
  m[197] = 0;
  m[198] = -(-z[0]*z[136]*pow(z[24], 3)*z[25] - z[1]*z[25] + z[1]*z[27] + z[11]*z[25]*z[27]*z[80]/z[36] + z[137]*pow(z[24], 3) - 5*z[138]*z[27] - z[138]*z[98] + z[141]*z[98])/z[35];
  m[199] = (z[108]*z[131] + z[112]*z[131] + z[132]*z[24]*z[38]*z[98] + z[132]*z[28]*z[38] - z[142]*z[61]*z[70] + z[143]*z[62]*z[66] + z[47])/z[35];
  m[200] = 0;
  m[201] = (-z[0]*z[132]*z[28]*z[37] + z[11]*z[132]*z[140]*z[80] + z[135]*z[141] + z[135]*z[98]/z[33] + z[141]*z[22]*z[58]*z[67] + z[47])/z[35];
  m[202] = -z[4]*(-z[1]*z[24]*z[75] + z[10]*z[58] - z[12]*pow(z[61], 3)*z[62]*pow(-z[32], -z[1])/z[36] - 4*z[137]*z[14]*z[32]*z[66] - z[14]*z[58]*z[78] - z[14]*z[58] + z[141]*z[42] + z[147]*z[98] + z[27]*z[4]*z[80]*pow(-z[32], -z[1])/z[36] - 4*z[32]*z[57]*z[98]/z[33])/z[35];
  m[203] = 0;
  m[204] = 0;
  m[205] = 0;
  m[206] = 0;
  m[207] = z[22];
  m[208] = z[83];
  m[209] = 0;
  m[210] = z[83];
  m[211] = z[85];
  m[212] = 0;
  m[213] = 0;
  m[214] = 0;
  m[215] = 0;
  m[216] = -front_.R*z[5]*z[75]*z[94] - front_.c*z[22] - rear_.c*z[56] + z[59]*z[75]*z[88];
  m[217] = z[130];
  m[218] = 0;
  m[219] = z[130];
  m[220] = z[69]*(-z[55] + z[56]*z[87] - z[56]*z[88]);
  m[221] = 0;
  m[222] = 0;
  m[223] = 0;
  m[224] = 0;
  m[225] = z[67]*(z[0]*z[87] - z[0]*z[88] + z[1]*z[15]*z[94] + z[129] + z[16] + z[53]*z[78]*z[79]/sqrt(z[13]) - z[74]*z[79]/sqrt(z[13]));
  m[226] = z[46];
  m[227] = 0;
  m[228] = z[46];
  m[229] = -z[61]*(z[30]*z[56] + z[55] - z[56]*z[87] + z[56]*z[88]);
  m[230] = 0;
  m[231] = 0;
  m[232] = 0;
  m[233] = 0;
  m[234] = z[16]*z[69];
  m[235] = z[100];
  m[236] = 0;
  m[237] = z[100];
  m[238] = -z[30]*z[69];
  m[239] = 0;
  m[240] = 0;
  m[241] = 0;
  m[242] = 0;
  m[243] = 0;
  m[244] = 0;
  m[245] = 0;
  m[246] = 0;
  m[247] = 0;
  m[248] = 0;
  m[249] = 0;
  m[250] = 0;
  m[251] = 0;
  m[252] = -z[54]*z[69];
  m[253] = z[18];
  m[254] = 0;
  m[255] = z[18];
  m[256] = z[20]*z[69];
  m[257] = 0;
  m[258] = 0;
  m[259] = 0;
  m[260] = 0;
  m[261] = -z[48];
  m[262] = z[45];
  m[263] = 0;
  m[264] = z[45];
  m[265] = z[116];
  m[266] = 0;
  m[267] = 0;
  m[268] = 0;
  m[269] = 0;
  m[270] = 0;
  m[271] = 0;
  m[272] = 0;
  m[273] = 0;
  m[274] = z[69]*z[94];
  m[275] = 0;
  m[276] = 0;
  m[277] = 0;
  m[278] = 0;
  m[279] = z[106];
  m[280] = z[104];
  m[281] = 0;
  m[282] = z[104];
  m[283] = z[106];
  m[284] = 0;
  m[285] = 0;
  m[286] = 0;
  m[287] = 0;
  m[288] = z[77];
  m[289] = z[65];
  m[290] = 0;
  m[291] = z[65];
  m[292] = z[77];
  m[293] = 0;
  m[294] = 0;
  m[295] = 0;
  m[296] = 0;
  m[297] = -(-z[0]*z[111]*z[138] + z[111] + z[112]*z[133]*z[14]*z[58] + z[138]*z[14]*z[66] + z[139]*z[28]*z[57] - z[14]*z[141]*z[66] + z[14]*z[66] + z[142]*z[57] - z[25]*z[27]*z[66]*z[80]/z[36])/z[35];
  m[298] = -z[124]*(-z[110]*z[59]*z[98]/z[33] - z[133]*z[78]*z[98] - z[141]*z[92] + z[50]);
  m[299] = 0;
  m[300] = -z[124]*(z[117]*z[137]*z[4] - z[137]*z[40]*z[68] + z[146]*z[56]*z[98] + z[50]);
  m[301] = (z[10]*z[66] + z[111]*z[148] - z[111] - z[125]*z[24]*z[61]/z[33] + z[128]*z[58]*z[75]/z[33] + z[137]*z[42]*z[68] + z[14]*z[148]*z[66] - z[147]*z[56]*z[98])/z[35];
  m[302] = 0;
  m[303] = 0;
  m[304] = 0;
  m[305] = 0;
  m[306] = z[124]*(-z[0]*z[110]*z[138] - z[1]*z[110] - z[138]*z[68] + z[139]*z[27]*z[68] + z[139]*z[28]*z[56] + z[141]*z[68] + z[142]*z[56] + z[143]*z[60] - z[22]*z[60]);
  m[307] = -(-z[117]*z[98]/z[33] + z[133]*z[14]*z[24]*z[58]*z[78] + z[14]*z[141]*z[59]*z[66] + z[24]*z[69]*z[98]/z[33] + z[52])/z[35];
  m[308] = 0;
  m[309] = -(z[133]*z[24]*z[78]*z[81] + z[137]*z[14]*z[40]*z[66] + z[146]*z[57]*z[98] + z[52])/z[35];
  m[310] = (-z[10]*z[144]*z[58] - z[125]*z[137]*z[75] + z[128]*z[38]*z[68]/z[36] - z[136]*z[145]*z[67] + z[137]*z[42]*z[90] + z[14]*z[144]*z[58]*z[78] + z[14]*z[144]*z[58] - z[147]*z[57]*z[82] + z[24]*z[67] + 4*z[61]*z[68] - z[62]*z[68]*z[78])/z[35];
  m[311] = 0;
  m[312] = 0;
  m[313] = 0;
  m[314] = 0;
  m[315] = z[72];
  m[316] = z[75];
  m[317] = 0;
  m[318] = z[75];
  m[319] = z[72];
  m[320] = 0;
  m[321] = 0;
  m[322] = 0;
  m[323] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (8)

   @param[out] a C-array of with 8 elements
*/
//  void Bicycle::kinematic_odes_rhs(double m[8]) const;
void Bicycle::kinematic_odes_rhs(double m[8]) const
{
  double * z = new double[12];

  z[0] = sin(state_[0]);
  z[1] = sin(state_[1]);
  z[2] = cos(state_[0]);
  z[3] = cos(state_[1]);
  z[4] = state_[10] + state_[12];
  z[5] = pow(z[1], 2);
  z[6] = sqrt(pow(z[3], 2));
  z[7] = rear_.R/z[6] + rear_.r;
  z[8] = z[1]*(rear_.R*state_[9]*z[1]/z[6] - state_[9]*z[1]*z[7]) - z[3]*(rear_.R*state_[9]*z[5]/(z[3]*z[6]) + state_[9]*z[3]*z[7]);
  z[9] = rear_.R/z[6];
  z[10] = z[3]*z[7];
  z[11] = state_[9]*z[3]*(z[3] + z[5]/z[3]);

  m[0] = state_[8];
  m[1] = state_[9];
  m[2] = state_[10];
  m[3] = state_[11];
  m[4] = state_[12];
  m[5] = state_[13];
  m[6] = z[0]*z[11]*z[9] + z[0]*z[8] - z[10]*z[2]*z[4];
  m[7] = -z[0]*z[10]*z[4] - z[11]*z[2]*z[9] - z[2]*z[8];

  delete [] z;
}

/*!
   Computes the n-d array of shape (12, 12)

   @param[out] a C-array of with 144 elements
*/
//  void Bicycle::gif_dud(double m[144]) const;
void Bicycle::gif_dud(double m[144]) const
{
  double * z = new double[168];

  z[0] = sin(state_[1]);
  z[1] = sin(state_[2]);
  z[2] = sin(state_[3]);
  z[3] = cos(state_[1]);
  z[4] = cos(state_[2]);
  z[5] = cos(state_[3]);
  z[6] = pow(front_.R, 2);
  z[7] = pow(front_.a, 2);
  z[8] = pow(front_.b, 2);
  z[9] = pow(z[0], 2);
  z[10] = pow(z[1], 2);
  z[11] = pow(z[2], 2);
  z[12] = pow(z[3], 2);
  z[13] = pow(z[4], 2);
  z[14] = pow(z[5], 2);
  z[15] = sqrt(z[12]);
  z[16] = rear_.Ixx*z[4] + rear_.Ixz*z[1];
  z[17] = rear_.Ixz*z[4] + rear_.Izz*z[1];
  z[18] = rear_.a*z[4] + rear_.b*z[1];
  z[19] = z[10] + z[13];
  z[20] = rear_.Ixx*z[1] - rear_.Ixz*z[4];
  z[21] = rear_.Ixz*z[1] - rear_.Izz*z[4];
  z[22] = front_.R/z[15] + front_.r;
  z[23] = rear_.R/z[15] + rear_.r;
  z[24] = rear_.a*z[1] - rear_.b*z[4];
  z[25] = front_.Ixx*z[4]*z[5] + front_.Ixz*z[1];
  z[26] = front_.Ixz*z[4]*z[5] + front_.Izz*z[1];
  z[27] = pow(z[22], 2);
  z[28] = pow(z[23], 2);
  z[29] = front_.a*z[1] - front_.b*z[4]*z[5];
  z[30] = -z[22];
  z[31] = -z[23];
  z[32] = front_.b*z[11] + front_.b*z[14];
  z[33] = rear_.a*z[3]*z[4] + rear_.b*z[1]*z[3];
  z[34] = z[0]*z[1]*z[5] + z[2]*z[3];
  z[35] = z[0]*z[2] - z[1]*z[3]*z[5];
  z[36] = -z[0]*z[1]*z[2] + z[3]*z[5];
  z[37] = -z[36];
  z[38] = rear_.R*z[1]*z[3]/z[15] + rear_.a;
  z[39] = -z[0]*z[5] - z[1]*z[2]*z[3];
  z[40] = rear_.R*z[3]*z[4]/z[15] - rear_.b;
  z[41] = rear_.R*z[0]*z[1]*z[3]/z[15] + rear_.a*z[0];
  z[42] = rear_.R*z[0]*z[3]*z[4]/z[15] - rear_.b*z[0];
  z[43] = -front_.Iyy*z[39]*z[5] + rear_.Iyy*z[0];
  z[44] = front_.Ixx*z[35] + front_.Ixz*z[3]*z[4];
  z[45] = front_.Ixz*z[35] + front_.Izz*z[3]*z[4];
  z[46] = z[24] - z[3]*z[31];
  z[47] = z[0]*z[37] - z[1]*z[2];
  z[48] = front_.a*z[3]*z[4] - front_.b*z[35];
  z[49] = front_.b*z[2]*z[4]*z[5] + z[2]*z[29];
  z[50] = -front_.a*z[1]*z[5] + front_.b*z[11]*z[4] + front_.b*z[14]*z[4];
  z[51] = -z[0]*z[13]*z[2] - z[1]*z[37];
  z[52] = -z[0]*z[1]*z[37] - z[13]*z[2];
  z[53] = front_.R*z[10]*z[9]/z[15] + front_.R*z[13]*z[9]/z[15];
  z[54] = front_.R*z[0]*z[10]*z[3]/z[15] + front_.R*z[0]*z[13]*z[3]/z[15];
  z[55] = -z[0]*z[10]*z[30] - z[0]*z[13]*z[30];
  z[56] = z[1]*z[38] + z[4]*z[40];
  z[57] = -front_.a*z[1]*z[2]*z[4] + front_.b*z[13]*z[2]*z[5] + z[2]*z[29]*z[4];
  z[58] = -z[13]*z[2]*z[5] - z[34]*z[37];
  z[59] = -rear_.J + rear_.m*z[3]*z[31]*z[46];
  z[60] = -front_.R*front_.a*z[0]*z[2]*z[39]/z[15] + z[1]*z[2]*z[6]*z[9]/z[3];
  z[61] = z[0]*z[30]*z[37] - z[1]*z[2]*z[30];
  z[62] = front_.a*z[0]*z[4]*z[5] + front_.b*z[2]*z[37] + front_.b*z[34]*z[5];
  z[63] = rear_.a*z[41] - rear_.b*z[42];
  z[64] = -front_.b*z[39]*z[5] - z[2]*z[48];
  z[65] = -z[0]*z[13]*z[30]*z[5] - z[1]*z[30]*z[34];
  z[66] = -z[1]*z[41] - z[4]*z[42];
  z[67] = z[0]*z[1]*z[2]*z[30]*z[4] - z[30]*z[37]*z[4];
  z[68] = z[0]*z[13]*z[2]*z[30] + z[1]*z[30]*z[37];
  z[69] = z[51]/sqrt(z[11]*z[13] + pow(z[37], 2));
  z[70] = front_.R*front_.a*z[0]*z[2]*z[3]*z[4]/z[15] + front_.a*z[48] + z[4]*z[6]*z[9]/z[3];
  z[71] = -front_.a*z[0]*z[13]*z[2] - front_.b*z[2]*z[34]*z[4] - z[29]*z[37];
  z[72] = z[2]*z[30]*z[34]*z[4] - z[30]*z[37]*z[4]*z[5];
  z[73] = -front_.a*z[0]*z[13]*z[2] - front_.b*z[2]*z[34]*z[4] - z[29]*z[37];
  z[74] = -front_.a*z[1]*z[39] + front_.b*z[39]*z[4]*z[5] + z[2]*z[4]*z[48];
  z[75] = -z[4]*(-z[2]*z[34] + z[37]*z[5])/sqrt(z[11]*z[13] + pow(z[37], 2));
  z[76] = -front_.R*z[0]*z[3]*z[30]*z[4]/z[15] - front_.a*front_.b*z[2] - front_.a*z[2]*z[3]*z[30]*z[4] - z[0]*z[27]*z[3]*z[4];
  z[77] = front_.R*front_.a*z[0]*z[2]*z[5]/z[15] - front_.R*z[0]*z[1]*z[2]*z[3]*z[30]/z[15] - z[27]*z[3]*z[37];
  z[78] = front_.R*z[10]*z[30]*z[9]/z[15] + front_.R*z[13]*z[30]*z[9]/z[15] + front_.a*z[0]*z[13]*z[2]*z[30];
  z[79] = front_.R*front_.a*z[0]*z[11]*z[4]/z[15] + front_.R*z[2]*z[30]*z[4]*z[9]/z[15] + z[2]*z[27]*z[4] + z[2]*z[4]*z[6]*z[9]/z[12];
  z[80] = front_.R*z[0]*z[37]/z[15] - front_.R*z[1]*z[2]*z[9]/z[15] + z[61];
  z[81] = front_.R*front_.a*z[0]*z[1]*z[3]*z[5]/z[15] - front_.b*z[2]*z[48] - z[39]*z[5]*z[7] - z[39]*z[5]*z[8];
  z[82] = -front_.a*z[0]*z[39]*z[4] - front_.b*z[34]*z[39] - z[37]*z[48];
  z[83] = rear_.R*z[0]*z[1]*z[42]/z[15] - rear_.R*z[0]*z[4]*z[41]/z[15] + z[24]*z[33];
  z[84] = front_.R*front_.a*z[0]*z[1]*z[2]/z[15] + front_.R*z[1]*z[30]*z[9]/z[15] + front_.a*z[29] + front_.a*z[30]*z[37] + z[1]*z[27] + z[1]*z[6]*z[9]/z[12];
  z[85] = -front_.R*front_.a*z[0]*z[1]*z[2]*z[3]*z[4]/z[15] + front_.R*front_.a*z[0]*z[39]*z[4]/z[15] + z[2]*z[39]*z[4]*z[7] + z[2]*z[39]*z[4]*z[8] + z[29]*z[48];
  z[86] = -rear_.b;
  z[87] = -front_.m;
  z[88] = -rear_.m;
  z[89] = front_.Ixx*z[2];
  z[90] = front_.Ixz*z[2];
  z[91] = front_.Iyy*z[2];
  z[92] = front_.J*z[5];
  z[93] = rear_.J*z[0];
  z[94] = front_.a*z[1];
  z[95] = front_.a*z[4];
  z[96] = rear_.a*z[0];
  z[97] = rear_.a*z[4];
  z[98] = front_.b*z[1];
  z[99] = front_.b*z[2];
  z[100] = front_.b*z[5];
  z[101] = -z[1]*z[86];
  z[102] = -z[0];
  z[103] = -z[2];
  z[104] = -z[3];
  z[105] = -z[4];
  z[106] = -z[5];
  z[107] = -z[1]*z[102];
  z[108] = z[102]*z[103];
  z[109] = z[102]*z[104];
  z[110] = z[102]*z[106];
  z[111] = -z[1]*z[104];
  z[112] = z[103]*z[104];
  z[113] = z[103]*z[105];
  z[114] = z[104]*z[105];
  z[115] = z[105]*z[106];
  z[116] = front_.a*z[13];
  z[117] = front_.b*z[11];
  z[118] = front_.b*z[14];
  z[119] = front_.J*z[113];
  z[120] = -z[13];
  z[121] = z[1]*z[9];
  z[122] = z[104]*z[120];
  z[123] = front_.R/z[15];
  z[124] = z[6]*z[9];
  z[125] = rear_.R/z[15];
  z[126] = pow(rear_.R, 2)/z[12];
  z[127] = z[11]*z[8];
  z[128] = -1/z[15];
  z[129] = z[104]*z[128];
  z[130] = z[10]*z[9];
  z[131] = -z[120]*z[9];
  z[132] = -z[11]*z[120];
  z[133] = z[102]*z[30];
  z[134] = -z[1]*z[30];
  z[135] = z[103]*z[30];
  z[136] = z[104]*z[30];
  z[137] = z[105]*z[30];
  z[138] = z[104]*z[31];
  z[139] = -z[104]*z[24];
  z[140] = z[104]*z[18]*z[88];
  z[141] = z[19]*z[9];
  z[142] = -front_.J*z[39];
  z[143] = -front_.a*z[39];
  z[144] = -front_.b*z[39];
  z[145] = z[12]*z[28];
  z[146] = -z[108]*z[114]*z[123]*z[87];
  z[147] = -z[105]*z[39]*z[91];
  z[148] = -z[102]*z[41];
  z[149] = z[15]*z[31]*z[88];
  z[150] = -z[109]*z[128]*z[18]*z[88];
  z[151] = z[138]*z[24];
  z[152] = -z[30]*z[34];
  z[153] = -z[30]*z[37];
  z[154] = -sqrt(z[132] + pow(z[37], 2));
  z[155] = z[102]/z[154];
  z[156] = z[105]/z[154];
  z[157] = z[87]*(-z[104]*z[107]*z[123] + z[143]);
  z[158] = -z[129]*z[46]*z[88];
  z[159] = -z[37]/z[154];
  z[160] = -z[102]*z[88]*(-z[10]*z[104]*z[125] + z[122]*z[125] + z[24]);
  z[161] = -z[87]*(-z[100]*z[35] + z[104]*z[106]*z[95] - z[39]*z[99]);
  z[162] = -front_.a*z[68];
  z[163] = -z[47]/z[154];
  z[164] = z[109]*z[88]*(z[1]*z[40] + z[105]*z[38] + z[18]);
  z[165] = -z[30]*z[73];
  z[166] = z[129]*z[88]*(-z[105]*z[38]*z[9] + z[12]*z[18] - z[121]*z[40]);
  z[167] = z[87]*(z[105]*z[35]*z[99] + z[112]*z[116] - z[29]*z[39] + z[54]);

  m[0] = -front_.Iyy*pow(z[39], 2) - rear_.Iyy*z[9] - z[1]*z[12]*z[20] - z[105]*z[12]*z[21] - z[114]*z[45] - z[35]*z[44] + z[87]*(z[10]*z[124] - z[100]*z[105]*z[109]*z[123]*z[39] + z[105]*z[109]*z[123]*z[64] + z[108]*z[114]*z[123]*z[48] - 2*z[109]*z[123]*z[39]*z[94] - z[120]*z[124] + pow(z[39], 2)*z[7] + pow(z[39], 2)*z[8] + pow(z[48], 2)) + z[88]*(pow(z[33], 2) + pow(z[41], 2) + pow(z[42], 2));
  m[1] = z[111]*z[16] - z[114]*z[17] - z[114]*z[26] - z[147] - z[25]*z[35] + z[87]*(z[106]*z[109]*z[120]*z[123]*z[99] - z[107]*z[123]*z[64] + z[108]*z[114]*z[123]*z[29] - z[30]*z[82] + z[85]) + z[88]*(-z[31]*(-z[104]*z[33] - z[105]*z[148] - z[107]*z[42]) + z[83]);
  m[2] = -z[114]*z[90] - z[35]*z[89] - z[43] + z[87]*(z[105]*z[109]*z[117]*z[123] + z[105]*z[109]*z[118]*z[123] + z[136]*z[54] + z[136]*z[74] + z[81]) + z[88]*(-z[138]*z[66] + z[63]);
  m[3] = -z[45] + z[87]*(z[102]*z[123]*z[64] + z[105]*z[133]*z[54] + z[105]*z[133]*z[74] + z[134]*z[82] + z[70]);
  m[4] = -z[138]*z[66]*z[88] - z[93];
  m[5] = -z[142] + z[87]*(z[113]*z[30]*z[82] - z[153]*z[54] - z[153]*z[74] + z[60]);
  m[6] = z[102]*z[129]*z[56]*z[88];
  m[7] = z[166];
  m[8] = z[164];
  m[9] = -z[87]*(z[109]*z[123]*z[19]*z[37] + z[113]*z[82] + z[37]*z[74])/z[154];
  m[10] = -z[87]*(z[108]*z[114]*z[123]*z[19] + z[113]*z[74] - z[37]*z[82])/z[154];
  m[11] = 0;
  m[12] = -z[1]*z[45] + z[111]*z[21] + z[114]*z[20] - z[115]*z[44] - z[147] + z[87]*(-z[103]*z[107]*z[123]*z[48] - z[105]*z[109]*z[123]*z[49] + z[110]*z[123]*z[39]*z[98] - z[133]*z[39]*z[95] + z[144]*z[152] - z[153]*z[48] + z[85]) + z[88]*(z[105]*z[148]*z[31] + z[107]*z[31]*z[42] + z[138]*z[33] + z[83]);
  m[13] = -front_.Iyy*z[132] - z[1]*z[17] - z[1]*z[26] + z[105]*z[16] - z[115]*z[25] + z[87]*(z[10]*z[124]/z[12] - z[103]*z[107]*z[123]*z[29] + z[107]*z[123]*z[49] + z[108]*z[115]*z[123]*z[98] + 2*z[108]*z[116]*z[123] - z[120]*z[127] + z[132]*z[7] - z[137]*z[34]*z[99] - z[153]*z[29] + z[165] + z[27] + pow(z[29], 2) + z[30]*z[53] + z[78] - z[120]*z[124]/z[12]) + z[88]*(z[125]*z[130]*z[31] + z[125]*z[131]*z[31] + z[126]*z[130] + z[126]*z[131] + z[151] + pow(z[24], 2) + z[28] + z[31]*(z[125]*z[130] + z[125]*z[131] - z[139]));
  m[14] = front_.Ixz*z[1]*z[103] + z[102]*z[88]*(z[101]*z[125] + z[101]*z[31] + z[125]*z[97] + z[31]*z[97]) - z[115]*z[89] + z[115]*z[91] + z[87]*(z[100]*z[152] + z[102]*z[11]*z[123]*z[98] + z[102]*z[123]*z[14]*z[98] + z[106]*z[113]*z[7] + z[106]*z[113]*z[8] - z[110]*z[123]*z[95] - z[110]*z[30]*z[95] + z[136]*z[57] + z[153]*z[99] - z[29]*z[99]);
  m[15] = -z[26] + z[87]*(-z[102]*z[123]*z[49] + z[105]*z[133]*z[57] - z[134]*z[53] + z[134]*z[73] + z[84]);
  m[16] = 0;
  m[17] = z[119] + z[87]*(-z[113]*z[165] - z[113]*z[30]*z[53] - z[153]*z[57] - z[79]);
  m[18] = 0;
  m[19] = z[129]*z[88]*(-z[125]*z[130] - z[125]*z[131] + z[139] - z[31]);
  m[20] = z[160];
  m[21] = -z[113]*z[87]*(-z[123]*z[141] - z[30] + z[71])/z[154];
  m[22] = z[159]*z[87]*(z[123]*z[141] + z[30] - z[71]);
  m[23] = z[167];
  m[24] = z[103]*z[44] - z[43] + z[87]*(front_.R*z[10]*z[133]*z[15] - front_.R*z[120]*z[133]*z[15] - z[100]*z[114]*z[30]*z[39] + z[105]*z[109]*z[123]*z[32] + z[112]*z[137]*z[48] - z[136]*z[39]*z[94] + z[81]) + z[88]*(-z[111]*z[31]*z[41] - z[114]*z[31]*z[42] + z[63]);
  m[25] = z[103]*z[25] + z[115]*z[91] + z[87]*(z[106]*z[113]*z[7] + z[106]*z[113]*z[8] + z[106]*z[122]*z[30]*z[99] - z[107]*z[123]*z[32] - z[110]*z[123]*z[95] + z[112]*z[137]*z[29] - z[112]*z[137]*z[94] - z[29]*z[99] - z[30]*z[62]) - z[88]*(-z[101]*z[102]*z[125] - z[105]*z[125]*z[96] + z[31]*(-z[101]*z[102] - z[105]*z[96]));
  m[26] = -front_.Ixx*z[11] - front_.Iyy*z[14] - rear_.Iyy + z[87]*(-z[106]*z[136]*z[94] + z[114]*z[117]*z[30] + z[114]*z[118]*z[30] + z[12]*z[27] + z[127] - z[136]*z[50] + z[14]*z[7] + z[14]*z[8]) + z[88]*(pow(rear_.a, 2) + rear_.a*z[1]*z[138] - z[105]*z[138]*z[86] + z[145] + z[151] + pow(z[86], 2));
  m[27] = z[87]*(z[102]*z[123]*z[32] - z[105]*z[133]*z[50] + z[134]*z[62] + z[76]) - z[90];
  m[28] = z[59];
  m[29] = z[87]*(z[113]*z[30]*z[62] + z[153]*z[50] + z[77]) - z[92];
  m[30] = z[158];
  m[31] = z[150];
  m[32] = z[140];
  m[33] = -z[87]*(z[113]*z[62] + z[136]*z[37] - z[37]*z[50])/z[154];
  m[34] = -z[87]*(z[112]*z[137] - z[113]*z[50] - z[37]*z[62])/z[154];
  m[35] = z[161];
  m[36] = -z[45] + z[87]*(-z[100]*z[102]*z[123]*z[39] + z[105]*z[109]*z[123]*z[55] + z[108]*z[123]*z[48] + z[144]*z[65] + z[48]*z[68] + z[70]);
  m[37] = -z[26] + z[87]*(-z[105]*z[110]*z[123]*z[99] + z[105]*z[65]*z[99] - z[107]*z[123]*z[55] + z[108]*z[123]*z[29] + z[29]*z[68] + z[84]);
  m[38] = z[87]*(z[100]*z[65] + z[102]*z[117]*z[123] + z[102]*z[118]*z[123] - z[68]*z[99] + z[76]) - z[90];
  m[39] = -front_.Izz + z[87]*(2*front_.a*z[108]*z[123] + z[10]*z[27] + z[102]*z[123]*z[55] + z[131]*z[27] - z[153]*z[94] - z[162] + z[7] + z[78] + z[124]/z[12]);
  m[40] = 0;
  m[41] = -z[137]*z[80]*z[87];
  m[42] = 0;
  m[43] = 0;
  m[44] = 0;
  m[45] = z[156]*z[80]*z[87];
  m[46] = -z[87]*(front_.a*pow(z[37], 2) - z[108]*z[120]*z[123] + z[11]*z[116] + z[121]*z[123]*z[37] + z[68])/z[154];
  m[47] = z[157];
  m[48] = -z[138]*z[66]*z[88] - z[93];
  m[49] = 0;
  m[50] = z[59];
  m[51] = 0;
  m[52] = -rear_.J + z[145]*z[88];
  m[53] = 0;
  m[54] = z[149];
  m[55] = 0;
  m[56] = 0;
  m[57] = 0;
  m[58] = 0;
  m[59] = 0;
  m[60] = -z[142] + z[87]*(-z[104]*z[107]*z[123]*z[68] + z[105]*z[109]*z[123]*z[67] + z[143]*z[68] + z[144]*z[72] + z[60]);
  m[61] = z[119] + z[87]*(-z[102]*z[105]*z[123]*z[68] + z[103]*z[68]*z[95] + z[105]*z[72]*z[99] - z[107]*z[123]*z[67] - z[79]);
  m[62] = z[87]*(z[100]*z[72] + z[106]*z[162] + z[77]) - z[92];
  m[63] = -z[137]*z[87]*(z[106]*z[109]*z[123] + z[61]);
  m[64] = 0;
  m[65] = -front_.J + z[87]*(-z[107]*z[123]*z[135]*z[37] + z[108]*z[123]*z[68] + z[11]*z[123]*z[131]*z[30] + z[11]*z[124]/z[12] + z[132]*z[27] + z[27]*pow(z[37], 2));
  m[66] = 0;
  m[67] = 0;
  m[68] = 0;
  m[69] = -z[87]*(-z[103]*z[107]*z[123]*z[37] + z[11]*z[123]*z[131] + z[132]*z[30] - z[153]*z[37])/z[154];
  m[70] = -z[108]*z[123]*z[156]*z[47]*z[87];
  m[71] = z[146];
  m[72] = z[109]*z[128]*z[56]*z[88];
  m[73] = 0;
  m[74] = z[158];
  m[75] = 0;
  m[76] = z[149];
  m[77] = 0;
  m[78] = z[88];
  m[79] = 0;
  m[80] = 0;
  m[81] = 0;
  m[82] = 0;
  m[83] = 0;
  m[84] = z[166];
  m[85] = -z[88]*(-rear_.R*z[130]/z[104] - rear_.R*z[131]/z[104] + z[129]*z[31] - z[15]*z[24]);
  m[86] = z[150];
  m[87] = 0;
  m[88] = 0;
  m[89] = 0;
  m[90] = 0;
  m[91] = z[88];
  m[92] = 0;
  m[93] = 0;
  m[94] = 0;
  m[95] = 0;
  m[96] = z[164];
  m[97] = z[160];
  m[98] = z[140];
  m[99] = 0;
  m[100] = 0;
  m[101] = 0;
  m[102] = 0;
  m[103] = 0;
  m[104] = z[88];
  m[105] = 0;
  m[106] = 0;
  m[107] = 0;
  m[108] = z[87]*(z[104]*z[107]*z[123]*z[69] + z[105]*z[106]*z[109]*z[114]*z[123]/z[154] - z[143]*z[69] + z[144]*z[75]);
  m[109] = -z[156]*z[87]*(front_.a*z[103]*z[51] + z[102]*z[123]*z[51] + z[104]*z[106]*z[107]*z[123] - z[105]*z[99]*(-z[103]*z[34] + z[106]*z[37]) - z[135]);
  m[110] = z[87]*(front_.a*z[106]*z[69] + z[100]*z[75] + z[136]*z[159]);
  m[111] = -z[156]*z[87]*(-z[106]*z[109]*z[123] - z[61]);
  m[112] = 0;
  m[113] = -z[87]*(-z[108]*z[123]*z[51] + z[132]*z[30] - z[153]*z[37])/z[154];
  m[114] = 0;
  m[115] = 0;
  m[116] = 0;
  m[117] = z[87];
  m[118] = 0;
  m[119] = 0;
  m[120] = z[87]*(-z[107]*z[114]*z[123]*z[163] - z[109]*z[123]*z[156]*z[52] - z[144]*z[58]/z[154] - z[154]*z[48] + z[163]*z[39]*z[95]);
  m[121] = z[87]*(-z[103]*z[116]*z[163] - z[105]*z[58]*z[99]/z[154] + z[107]*z[123]*z[52]/z[154] - z[120]*z[123]*z[155]*z[47] + z[153]/z[154] - z[154]*z[29]);
  m[122] = z[87]*(-z[100]*z[58]/z[154] + z[106]*z[163]*z[95] - z[112]*z[137]/z[154] + z[154]*z[99]);
  m[123] = z[87]*(-front_.a*z[154] + z[108]*z[120]*z[30]/z[154] - z[123]*z[155]*z[52] + z[134]*z[37]/z[154]);
  m[124] = 0;
  m[125] = -z[108]*z[123]*z[156]*z[47]*z[87];
  m[126] = 0;
  m[127] = 0;
  m[128] = 0;
  m[129] = 0;
  m[130] = z[87];
  m[131] = 0;
  m[132] = 0;
  m[133] = z[167];
  m[134] = z[161];
  m[135] = z[157];
  m[136] = 0;
  m[137] = z[146];
  m[138] = 0;
  m[139] = 0;
  m[140] = 0;
  m[141] = 0;
  m[142] = 0;
  m[143] = z[87];

  delete [] z;
}

/*!
   Computes the n-d array of shape (12)

   @param[out] a C-array of with 12 elements
*/
//  void Bicycle::gif_ud_zero(double m[12]) const;
void Bicycle::gif_ud_zero(double m[12]) const
{
  double * z = new double[136];

  z[0] = sin(state_[1]);
  z[1] = sin(state_[2]);
  z[2] = sin(state_[3]);
  z[3] = cos(state_[1]);
  z[4] = cos(state_[2]);
  z[5] = cos(state_[3]);
  z[6] = pow(z[0], 2);
  z[7] = pow(z[1], 2);
  z[8] = pow(z[2], 2);
  z[9] = pow(z[4], 2);
  z[10] = pow(z[5], 2);
  z[11] = state_[10] + state_[8]*z[0];
  z[12] = sqrt(pow(z[3], 2));
  z[13] = pow(z[11], 2);
  z[14] = -z[11];
  z[15] = state_[10]*z[3] + state_[12]*z[3];
  z[16] = front_.R/z[12] + front_.r;
  z[17] = rear_.a*z[1] - rear_.b*z[4];
  z[18] = state_[8]*z[3]*z[4] + state_[9]*z[1];
  z[19] = front_.a*z[1] - front_.b*z[4]*z[5];
  z[20] = state_[8]*z[1]*z[3] - state_[9]*z[4];
  z[21] = -rear_.R/z[12] - rear_.r;
  z[22] = rear_.a*z[3]*z[4] + rear_.b*z[1]*z[3];
  z[23] = -z[18];
  z[24] = z[0]*z[1]*z[5] + z[2]*z[3];
  z[25] = state_[11]*z[1] - state_[13]*z[2]*z[4] + state_[9];
  z[26] = z[0]*z[2] - z[1]*z[3]*z[5];
  z[27] = -z[0]*z[1]*z[2] + z[3]*z[5];
  z[28] = -z[27];
  z[29] = -z[0]*z[5] - z[1]*z[2]*z[3];
  z[30] = -state_[11] - z[18];
  z[31] = state_[13]*z[2] + z[20];
  z[32] = rear_.R*z[0]*z[1]*z[3]/z[12] + rear_.a*z[0];
  z[33] = rear_.R*z[0]*z[3]*z[4]/z[12] - rear_.b*z[0];
  z[34] = -state_[10]*state_[8]*z[1]*z[3] + state_[10]*state_[9]*z[4] - state_[8]*state_[9]*z[0]*z[4];
  z[35] = -state_[10]*state_[8]*z[3]*z[4] - state_[10]*state_[9]*z[1] + state_[8]*state_[9]*z[0]*z[1];
  z[36] = z[0]*z[28] - z[1]*z[2];
  z[37] = front_.a*z[3]*z[4] - front_.b*z[26];
  z[38] = state_[10]*z[5] - state_[8]*z[29] - state_[9]*z[2]*z[4];
  z[39] = -rear_.a*z[23] + rear_.b*z[20];
  z[40] = -rear_.Ixx*z[20] - rear_.Ixz*z[23];
  z[41] = -rear_.Ixz*z[20] - rear_.Izz*z[23];
  z[42] = state_[10]*z[3] - state_[11]*z[0]*z[4] - state_[13]*z[28];
  z[43] = pow(z[38], 2);
  z[44] = -state_[10]*z[2] - state_[8]*z[26] - state_[9]*z[4]*z[5];
  z[45] = -state_[10]*z[0]*z[2]*z[4] - state_[11]*z[0]*z[1]*z[5] - state_[11]*z[2]*z[3] - state_[9]*z[0]*z[5] - state_[9]*z[1]*z[2]*z[3];
  z[46] = 2*state_[10]*z[0]*z[2]*z[4] + 2*state_[11]*z[0]*z[1]*z[5] + 2*state_[11]*z[2]*z[3] + 2*state_[9]*z[0]*z[5] + 2*state_[9]*z[1]*z[2]*z[3];
  z[47] = -front_.Ixx*z[44] - front_.Ixz*z[30];
  z[48] = -front_.Ixz*z[44] - front_.Izz*z[30];
  z[49] = -front_.a*z[30] + front_.b*z[44];
  z[50] = z[0]*z[16]*z[2]*z[9] + z[1]*z[16]*z[28];
  z[51] = rear_.R*pow(state_[9], 2)*z[0]/(z[12]*z[3]) + state_[8]*(state_[14]*z[3]/z[12] + z[15]*z[21]);
  z[52] = -(z[0]*z[2]*z[9] + z[1]*z[28])/sqrt(pow(z[28], 2) + z[8]*z[9]);
  z[53] = -state_[10]*state_[11]*z[0]*z[1] + state_[10]*state_[9]*z[0] + state_[11]*state_[9]*z[3]*z[4] - state_[13]*z[45];
  z[54] = -state_[10]*state_[8]*z[3]*z[4]*z[5] - state_[10]*state_[9]*z[1]*z[5] - state_[11]*z[14]*z[5] + state_[11]*z[2]*z[20] + state_[8]*state_[9]*z[24];
  z[55] = state_[10]*state_[8]*z[2]*z[3]*z[4] + state_[10]*state_[9]*z[1]*z[2] + state_[11]*z[14]*z[2] + state_[11]*z[20]*z[5] - state_[8]*state_[9]*z[28];
  z[56] = -front_.R*z[0]*(z[20]*z[31] + z[23]*z[30])/z[12];
  z[57] = -front_.R*z[0]*z[20]*z[31]/z[12] - front_.R*z[0]*z[23]*z[30]/z[12];
  z[58] = -rear_.R*state_[9]*z[0]*z[15]/(z[12]*z[3]) - state_[8]*(state_[15]*z[3]/z[12] - state_[9]*z[21]) - z[21]*(state_[10]*state_[9]*z[0] + state_[12]*state_[9]*z[0]);
  z[59] = state_[10]*z[1]*z[4]*z[8] - state_[11]*z[2]*z[5]*z[9] + z[28]*z[45];
  z[60] = 2*state_[10]*z[1]*z[4]*z[8] - 2*state_[11]*z[2]*z[5]*z[9] - z[28]*z[46];
  z[61] = state_[10]*z[1]*z[4]*z[8] - state_[11]*z[2]*z[5]*z[9] - z[28]*z[46]/2;
  z[62] = rear_.Iyy*state_[8]*state_[9]*z[3] + z[20]*z[41] - z[23]*z[40];
  z[63] = -front_.R*(-state_[9]*z[3]*z[30] - state_[9]*z[30]*z[6]/z[3] - z[0]*z[14]*z[31] + z[0]*z[34])/z[12];
  z[64] = state_[17]*z[2]*z[4]/sqrt(pow(z[28], 2) + z[8]*z[9]) - state_[18]*z[28]/sqrt(pow(z[28], 2) + z[8]*z[9]) + z[16]*z[25];
  z[65] = -front_.R*(state_[9]*z[3]*z[31] + state_[9]*z[31]*z[6]/z[3] - z[0]*z[14]*z[30] + z[0]*(state_[11]*state_[13]*z[5] - z[35]))/z[12];
  z[66] = front_.R*state_[9]*z[3]*z[30]/z[12] + front_.R*state_[9]*z[30]*z[6]/(z[12]*z[3]) + front_.R*z[0]*z[14]*z[31]/z[12] - front_.R*z[0]*z[34]/z[12];
  z[67] = rear_.Ixx*z[35] + rear_.Ixz*z[34] - rear_.Iyy*z[14]*z[23] + rear_.J*state_[12]*z[23] - z[14]*z[41];
  z[68] = rear_.Ixz*z[35] + rear_.Iyy*z[14]*z[20] + rear_.Izz*z[34] - rear_.J*state_[12]*z[20] + z[14]*z[40];
  z[69] = -front_.R*state_[9]*z[3]*z[31]/z[12] - front_.R*state_[9]*z[31]*z[6]/(z[12]*z[3]) + front_.R*z[0]*z[14]*z[30]/z[12] - front_.R*z[0]*(state_[11]*state_[13]*z[5] - z[35])/z[12];
  z[70] = -rear_.R*z[0]*pow(z[20], 2)/z[12] - rear_.R*z[0]*pow(z[23], 2)/z[12] + rear_.a*z[14]*z[20] + rear_.a*z[34] + rear_.b*z[14]*z[23] - rear_.b*z[35];
  z[71] = -rear_.R*z[0]*pow(z[20], 2)/z[12] - rear_.R*z[0]*pow(z[23], 2)/z[12] + rear_.a*z[14]*z[20] + rear_.a*z[34] + rear_.b*z[14]*z[23] - rear_.b*z[35];
  z[72] = -front_.a*z[43] + front_.b*z[55] + z[30]*z[49];
  z[73] = rear_.R*state_[9]*z[20]*z[3]/z[12] + rear_.R*state_[9]*z[20]*z[6]/(z[12]*z[3]) - rear_.R*z[0]*z[14]*z[23]/z[12] - rear_.R*z[0]*z[35]/z[12] + rear_.a*state_[8]*state_[9]*z[3] + rear_.b*z[13] + z[20]*z[39];
  z[74] = rear_.R*state_[9]*z[23]*z[3]/z[12] + rear_.R*state_[9]*z[23]*z[6]/(z[12]*z[3]) + rear_.R*z[0]*z[14]*z[20]/z[12] - rear_.R*z[0]*z[34]/z[12] - rear_.a*z[13] + rear_.b*state_[8]*state_[9]*z[3] + z[23]*z[39];
  z[75] = -z[73];
  z[76] = -front_.a*z[55] - front_.b*z[43] - z[44]*z[49];
  z[77] = rear_.R*state_[9]*z[23]*z[3]/z[12] + rear_.R*state_[9]*z[23]*z[6]/(z[12]*z[3]) + rear_.R*z[0]*z[14]*z[20]/z[12] - rear_.R*z[0]*z[34]/z[12] - rear_.a*z[13] + rear_.b*state_[8]*state_[9]*z[3] + z[23]*z[39];
  z[78] = z[76];
  z[79] = -z[73];
  z[80] = front_.a*z[34] - front_.a*z[38]*z[44] - front_.b*z[30]*z[38] - front_.b*z[54];
  z[81] = front_.Iyy*z[55] - z[30]*z[47] + z[44]*z[48];
  z[82] = front_.R*state_[9]*z[0]*z[25]/(z[12]*z[3]) - state_[10]*state_[17]*z[1]*z[2]/sqrt(pow(z[28], 2) + z[8]*z[9]) + state_[11]*state_[17]*z[4]*z[5]/sqrt(pow(z[28], 2) + z[8]*z[9]) + state_[18]*z[45]/sqrt(pow(z[28], 2) + z[8]*z[9]) + z[16]*(state_[10]*state_[11]*z[4] + state_[10]*state_[13]*z[1]*z[2] - state_[11]*state_[13]*z[4]*z[5]);
  z[83] = front_.Ixx*z[54] + front_.Ixz*z[34] + front_.Iyy*z[30]*z[38] + front_.J*state_[13]*z[30] + z[38]*z[48];
  z[84] = front_.Ixz*z[54] - front_.Iyy*z[38]*z[44] + front_.Izz*z[34] - front_.J*state_[13]*z[44] - z[38]*z[47];
  z[85] = state_[17]*z[2]*z[4]*z[59]/pow(pow(z[28], 2) + z[8]*z[9], 3.0/2.0) - state_[18]*z[28]*z[59]/pow(pow(z[28], 2) + z[8]*z[9], 3.0/2.0) + state_[8]*(-state_[17]*z[28]/sqrt(pow(z[28], 2) + z[8]*z[9]) - state_[18]*z[2]*z[4]/sqrt(pow(z[28], 2) + z[8]*z[9]) - z[16]*z[42]) + z[82];
  z[86] = state_[17]*z[2]*z[4]*z[61]/pow(pow(z[28], 2) + z[8]*z[9], 3.0/2.0) - state_[18]*z[28]*z[61]/pow(pow(z[28], 2) + z[8]*z[9], 3.0/2.0) + state_[8]*(-state_[17]*z[28]/sqrt(pow(z[28], 2) + z[8]*z[9]) - state_[18]*z[2]*z[4]/sqrt(pow(z[28], 2) + z[8]*z[9]) - z[16]*z[42]) + z[82];
  z[87] = -front_.R*state_[9]*z[0]*z[42]/(z[12]*z[3]) + state_[10]*state_[18]*z[1]*z[2]/sqrt(pow(z[28], 2) + z[8]*z[9]) - state_[11]*state_[18]*z[4]*z[5]/sqrt(pow(z[28], 2) + z[8]*z[9]) - state_[17]*z[28]*z[59]/pow(pow(z[28], 2) + z[8]*z[9], 3.0/2.0) + state_[17]*z[45]/sqrt(pow(z[28], 2) + z[8]*z[9]) - state_[18]*z[2]*z[4]*z[59]/pow(pow(z[28], 2) + z[8]*z[9], 3.0/2.0) - state_[8]*z[64] + z[16]*z[53];
  z[88] = -front_.R*state_[9]*z[0]*z[42]/(z[12]*z[3]) + state_[10]*state_[18]*z[1]*z[2]/sqrt(pow(z[28], 2) + z[8]*z[9]) - state_[11]*state_[18]*z[4]*z[5]/sqrt(pow(z[28], 2) + z[8]*z[9]) - state_[17]*z[28]*z[60]/(2*pow(pow(z[28], 2) + z[8]*z[9], 3.0/2.0)) + state_[17]*z[45]/sqrt(pow(z[28], 2) + z[8]*z[9]) - state_[18]*z[2]*z[4]*z[60]/(2*pow(pow(z[28], 2) + z[8]*z[9], 3.0/2.0)) - state_[8]*z[64] + z[16]*z[53];
  z[89] = -front_.b;
  z[90] = -rear_.b;
  z[91] = -front_.m;
  z[92] = -rear_.m;
  z[93] = front_.a*z[1];
  z[94] = front_.a*z[2];
  z[95] = front_.a*z[4];
  z[96] = -z[2]*z[89];
  z[97] = -z[4]*z[89];
  z[98] = -z[5]*z[89];
  z[99] = -z[0];
  z[100] = -z[1];
  z[101] = -z[4];
  z[102] = -z[5];
  z[103] = z[100]*z[99];
  z[104] = -z[2]*z[99];
  z[105] = -z[3]*z[99];
  z[106] = z[101]*z[99];
  z[107] = z[102]*z[99];
  z[108] = z[2]*z[3];
  z[109] = -z[101]*z[3];
  z[110] = -z[9];
  z[111] = -z[110]*z[2];
  z[112] = front_.R/z[12];
  z[113] = rear_.R/z[12];
  z[114] = z[8]*z[97];
  z[115] = z[3]/z[12];
  z[116] = z[6]*z[7];
  z[117] = -z[110]*z[6];
  z[118] = -z[16]*z[99];
  z[119] = z[16]*z[3];
  z[120] = -z[101]*z[16];
  z[121] = -z[21]*z[3];
  z[122] = z[29]*z[89];
  z[123] = z[19]*z[2];
  z[124] = -z[102]*z[28];
  z[125] = -z[2]*z[24];
  z[126] = z[16]*z[24];
  z[127] = z[16]*z[28];
  z[128] = z[2]*z[37];
  z[129] = -z[101]/sqrt(-z[110]*z[8] + pow(z[28], 2));
  z[130] = z[129]*z[2];
  z[131] = z[119]*z[57];
  z[132] = front_.a*z[69];
  z[133] = front_.a*z[76];
  z[134] = z[6]*z[85];
  z[135] = z[16]*z[85];

  m[0] = -z[100]*z[3]*z[67] - z[109]*z[68] - z[109]*z[84] - z[26]*z[83] + z[29]*z[81] + z[62]*z[99] + z[91]*(-z[101]*z[102]*z[105]*z[112]*z[72] + z[101]*z[105]*z[112]*z[66] - z[103]*z[112]*z[3]*z[69] - z[103]*z[112]*z[3]*z[76] + z[104]*z[109]*z[112]*z[80] + z[122]*z[72] + z[132]*z[29] + z[133]*z[29] + z[37]*z[80] + z[57]*(-z[102]*z[37] - z[29]*z[96]) + z[66]*(-z[128] - z[29]*z[98]) + z[85]*(z[122]*z[24] - z[28]*z[37] + z[29]*z[95]*z[99]) - z[87]*(-z[105]*z[110]*z[112] + z[105]*z[112]*z[7]) - z[87]*(-z[101]*z[128] - z[102]*z[29]*z[97] - z[29]*z[93])) + z[92]*(z[22]*z[71] - z[32]*z[79] - z[33]*z[77] + z[51]*(-z[103]*z[33] + z[106]*z[32] + z[22]*z[3]) + z[58]*(z[100]*z[32] + z[101]*z[33]));
  m[1] = z[100]*z[68] + z[100]*z[84] - z[101]*z[102]*z[83] - z[101]*z[2]*z[81] + z[101]*z[67] + z[91]*(-z[101]*z[69]*z[94] + z[101]*z[72]*z[96] - z[101]*z[76]*z[94] + z[102]*z[103]*z[112]*z[72] + z[103]*z[112]*z[2]*z[80] - z[103]*z[112]*z[66] + z[103]*z[16]*z[66] + z[106]*z[112]*z[69] + z[106]*z[112]*z[76] - z[106]*z[16]*z[69] - z[106]*z[16]*z[76] + z[126]*z[72] - z[127]*z[80] + z[131] + z[135] + z[19]*z[80] - z[57]*(z[102]*z[19] + z[114]) - z[66]*(z[101]*z[102]*z[96] + z[123]) - z[85]*(z[112]*z[116] + z[112]*z[117]) + z[85]*(z[101]*z[24]*z[96] - z[110]*z[94]*z[99] - z[19]*z[28]) - z[87]*(-z[101]*z[123] + z[101]*z[2]*z[93] + z[102]*z[110]*z[96])) + z[92]*(-z[103]*z[113]*z[77] - z[103]*z[21]*z[77] + z[106]*z[113]*z[79] + z[106]*z[21]*z[79] + z[121]*z[71] + z[17]*z[71] - z[21]*z[51] - z[51]*(z[113]*z[116] + z[113]*z[117] - z[17]*z[3]));
  m[2] = z[102]*z[81] - z[2]*z[83] - z[62] + z[91]*(z[100]*z[119]*z[69] + z[100]*z[119]*z[76] + z[102]*z[109]*z[16]*z[72] + z[102]*z[132] + z[102]*z[133] + z[108]*z[120]*z[80] - z[109]*z[16]*z[66] - z[119]*z[87] + z[66]*(-z[10]*z[89] - z[8]*z[89]) + z[72]*z[98] - z[80]*z[96] + z[85]*(z[107]*z[95] + z[24]*z[98] + z[28]*z[96]) + z[87]*(z[10]*z[97] + z[102]*z[93] + z[114])) + z[92]*(-rear_.a*z[79] + z[100]*z[121]*z[79] + z[109]*z[21]*z[77] - z[121]*z[58] - z[17]*z[58] + z[51]*(-rear_.a*z[0]*z[101] + z[1]*z[90]*z[99]) - z[77]*z[90]);
  m[3] = -z[84] + z[91]*(-front_.a*z[102]*z[57] - front_.a*z[28]*z[85] + front_.a*z[80] + z[100]*z[112]*z[134] - z[100]*z[131] - z[100]*z[135] + z[101]*z[87]*z[94] + z[104]*z[112]*z[80] - z[106]*z[112]*z[87] + z[106]*z[16]*z[87] - z[107]*z[112]*z[72] + z[112]*z[66]*z[99] - z[50]*z[80] - z[66]*z[94] + z[66]*(-z[110]*z[118] + z[118]*z[7]) + z[72]*(-z[100]*z[126] - z[107]*z[110]*z[16]));
  m[4] = -z[3]*(rear_.J*state_[8]*state_[9] + z[21]*z[92]*(z[100]*z[79] + z[101]*z[77] - z[58]));
  m[5] = -front_.J*z[55] + z[91]*(-z[101]*z[112]*z[134]*z[2] - z[103]*z[112]*z[2]*z[87] - z[104]*z[112]*z[69] - z[104]*z[112]*z[76] - z[108]*z[120]*z[57] - z[120]*z[2]*z[85] + z[127]*z[87] + z[50]*z[69] + z[50]*z[76] + z[66]*(-z[103]*z[120]*z[2] + z[120]*z[28]) + z[72]*(z[120]*z[124] + z[120]*z[125]));
  m[6] = z[115]*z[92]*(-z[100]*z[75] - z[101]*z[74] + z[58]);
  m[7] = z[115]*z[92]*(z[103]*z[74] - z[106]*z[75] + z[3]*z[70] + z[51]);
  m[8] = z[92]*(z[100]*z[3]*z[74] + z[109]*z[75] - z[70]*z[99]);
  m[9] = z[91]*(-z[102]*z[109]*z[63]/sqrt(-z[110]*z[8] + pow(z[28], 2)) + z[108]*z[129]*z[56] - z[129]*z[72]*(z[124] + z[125]) + z[130]*z[86] - z[28]*z[88]/sqrt(-z[110]*z[8] + pow(z[28], 2)) + z[52]*z[65] + z[52]*z[78]);
  m[10] = z[91]*(z[129]*z[36]*z[65] + z[129]*z[36]*z[78] - z[130]*z[88] - z[28]*z[3]*z[56]/sqrt(-z[110]*z[8] + pow(z[28], 2)) - z[28]*z[86]/sqrt(-z[110]*z[8] + pow(z[28], 2)) - z[63]*(z[103]*z[28] + z[111])/sqrt(-z[110]*z[8] + pow(z[28], 2)) - z[72]*(-z[102]*z[111] + z[24]*z[28])/sqrt(-z[110]*z[8] + pow(z[28], 2)) + z[80]*sqrt(-z[110]*z[8] + pow(z[28], 2)));
  m[11] = z[91]*(z[100]*z[3]*z[63] + z[109]*z[65] + z[109]*z[78] + z[26]*z[72] - z[29]*z[80] - z[56]*z[99]);

  delete [] z;
}

/*!
   Computes the n-d array of shape (12, 20)

   @param[out] a C-array of with 240 elements
*/
//  void Bicycle::gif_ud_zero_dqdu(double m[240]) const;
void Bicycle::gif_ud_zero_dqdu(double m[240]) const
{
  double * z = new double[589];

  z[0] = -2;
  z[1] = sin(state_[1]);
  z[2] = sin(state_[2]);
  z[3] = sin(state_[3]);
  z[4] = cos(state_[1]);
  z[5] = cos(state_[2]);
  z[6] = cos(state_[3]);
  z[7] = pow(front_.R, -z[0]);
  z[8] = pow(state_[9], -z[0]);
  z[9] = pow(z[1], -z[0]);
  z[10] = pow(z[1], 3);
  z[11] = pow(z[2], -z[0]);
  z[12] = pow(z[3], -z[0]);
  z[13] = pow(z[4], -z[0]);
  z[14] = pow(z[5], -z[0]);
  z[15] = pow(z[6], -z[0]);
  z[16] = state_[10] + state_[8]*z[1];
  z[17] = sqrt(z[13]);
  z[18] = rear_.r*state_[9]*z[1];
  z[19] = pow(z[16], -z[0]);
  z[20] = -z[16];
  z[21] = rear_.Ixx*z[5] + rear_.Ixz*z[2];
  z[22] = rear_.Ixz*z[5] + rear_.Izz*z[2];
  z[23] = rear_.a*z[5] + rear_.b*z[2];
  z[24] = state_[10]*z[1] + state_[12]*z[1];
  z[25] = state_[10]*z[4] + state_[12]*z[4];
  z[26] = rear_.Ixx*z[2] - rear_.Ixz*z[5];
  z[27] = rear_.Ixz*z[2] - rear_.Izz*z[5];
  z[28] = rear_.a*z[2] - rear_.b*z[5];
  z[29] = front_.a*z[5] + front_.b*z[2]*z[6];
  z[30] = state_[11]*z[5] + state_[13]*z[2]*z[3];
  z[31] = front_.Ixx*z[5]*z[6] + front_.Ixz*z[2];
  z[32] = front_.Ixz*z[5]*z[6] + front_.Izz*z[2];
  z[33] = state_[10]*state_[9]*z[1] + state_[12]*state_[9]*z[1];
  z[34] = state_[8]*z[4]*z[5] + state_[9]*z[2];
  z[35] = front_.a*z[2] - front_.b*z[5]*z[6];
  z[36] = state_[10]*z[2] - state_[8]*z[1]*z[2];
  z[37] = state_[10]*z[5] - state_[8]*z[1]*z[5];
  z[38] = z[4] + z[9]/z[4];
  z[39] = state_[8]*z[2]*z[4] - state_[9]*z[5];
  z[40] = -front_.R/z[17] - front_.r;
  z[41] = -rear_.R/z[17] - rear_.r;
  z[42] = rear_.a*z[1]*z[5] + rear_.b*z[1]*z[2];
  z[43] = rear_.a*z[4]*z[5] + rear_.b*z[2]*z[4];
  z[44] = -z[34];
  z[45] = -z[11] - z[14];
  z[46] = state_[13]*z[6] + z[20];
  z[47] = state_[11]*z[2] - state_[13]*z[3]*z[5] + state_[9];
  z[48] = front_.R*state_[11]*z[1]/z[17];
  z[49] = z[1]*z[3] - z[2]*z[4]*z[6];
  z[50] = rear_.Ixx*z[2]*z[4] - rear_.Ixz*z[4]*z[5];
  z[51] = rear_.Ixz*z[2]*z[4] - rear_.Izz*z[4]*z[5];
  z[52] = rear_.a*z[2]*z[4] - rear_.b*z[4]*z[5];
  z[53] = state_[10]*z[1]*z[2] - state_[9]*z[4]*z[5];
  z[54] = state_[10]*z[2]*z[3] - state_[11]*z[5]*z[6];
  z[55] = state_[10]*z[4]*z[5] - state_[9]*z[1]*z[2];
  z[56] = -state_[11]*z[1]*z[3] + state_[9]*z[4]*z[6];
  z[57] = pow(z[39], -z[0]);
  z[58] = z[1]*z[2]*z[3] - z[4]*z[6];
  z[59] = rear_.R*z[2]*z[4]/z[17] + rear_.a;
  z[60] = -front_.b*z[12] - front_.b*z[15];
  z[61] = -z[1]*z[6] - z[2]*z[3]*z[4];
  z[62] = -state_[10]*z[2]*z[4] - state_[9]*z[1]*z[5];
  z[63] = -z[1]*z[2]*z[6] - z[3]*z[4];
  z[64] = -z[0]*z[1]*z[2]*z[6] - z[0]*z[3]*z[4];
  z[65] = rear_.a*state_[8]*z[1]*z[5] + rear_.b*state_[8]*z[1]*z[2];
  z[66] = state_[10]*state_[13]*z[2]*z[6] + state_[11]*state_[13]*z[3]*z[5];
  z[67] = state_[10]*state_[8]*z[1]*z[5] + state_[8]*state_[9]*z[2]*z[4];
  z[68] = front_.a*z[2]*z[4] - front_.b*z[4]*z[5]*z[6];
  z[69] = state_[11]*z[1]*z[2] - state_[13]*z[1]*z[3]*z[5];
  z[70] = pow(z[58], -z[0]);
  z[71] = rear_.Ixx*state_[8]*z[1]*z[2] - rear_.Ixz*state_[8]*z[1]*z[5];
  z[72] = rear_.Ixz*state_[8]*z[1]*z[2] - rear_.Izz*state_[8]*z[1]*z[5];
  z[73] = rear_.R*z[4]*z[5]/z[17] - rear_.b;
  z[74] = state_[10]*state_[8]*z[1]*z[2] - state_[8]*state_[9]*z[4]*z[5];
  z[75] = -state_[11] - z[34];
  z[76] = state_[13]*z[3] + z[39];
  z[77] = state_[10]*z[3]*z[4]*z[5] + state_[11]*z[2]*z[4]*z[6];
  z[78] = -state_[8]*z[3]*z[4]*z[5] - state_[9]*z[2]*z[3];
  z[79] = -state_[8]*z[4]*z[5]*z[6] - state_[9]*z[2]*z[6];
  z[80] = rear_.R*z[17]*z[2] + rear_.a*z[4];
  z[81] = rear_.R*z[17]*z[5] - rear_.b*z[4];
  z[82] = rear_.R*z[1]*z[4]*z[5]/z[17] - rear_.b*z[1];
  z[83] = -rear_.R*z[1]*z[2]*z[4]/z[17] - rear_.a*z[1];
  z[84] = state_[11]*z[6] + z[79];
  z[85] = -state_[10]*state_[11]*z[2] + state_[10]*state_[13]*z[3]*z[5] + state_[11]*state_[13]*z[2]*z[6];
  z[86] = state_[10]*state_[11]*z[5] + state_[10]*state_[13]*z[2]*z[3] - state_[11]*state_[13]*z[5]*z[6];
  z[87] = front_.a*z[1]*z[5] - front_.b*z[63];
  z[88] = -state_[10]*state_[8]*z[2]*z[4] + state_[10]*state_[9]*z[5] - state_[8]*state_[9]*z[1]*z[5];
  z[89] = -state_[10]*state_[8]*z[4]*z[5] - state_[10]*state_[9]*z[2] + state_[8]*state_[9]*z[1]*z[2];
  z[90] = front_.Ixx*z[49] + front_.Ixz*z[4]*z[5];
  z[91] = front_.Ixz*z[49] + front_.Izz*z[4]*z[5];
  z[92] = rear_.a*z[0]*z[20]*z[5] + rear_.b*z[0]*z[2]*z[20];
  z[93] = z[1]*z[58] - z[2]*z[3];
  z[94] = front_.a*z[4]*z[5] - front_.b*z[49];
  z[95] = front_.a*state_[8]*z[1]*z[5] - front_.b*state_[8]*z[63];
  z[96] = -front_.a*z[2]*z[6] + front_.b*z[12]*z[5] + front_.b*z[15]*z[5];
  z[97] = state_[10]*z[1]*z[5]*z[6] - state_[11]*z[1]*z[2]*z[3] + state_[11]*z[4]*z[6];
  z[98] = -z[20]*z[6] + z[3]*z[39];
  z[99] = -front_.Ixx*state_[8]*z[63] - front_.Ixz*state_[8]*z[1]*z[5];
  z[100] = -front_.Ixz*state_[8]*z[63] - front_.Izz*state_[8]*z[1]*z[5];
  z[101] = front_.b*z[12]*z[5] - z[35]*z[6];
  z[102] = -state_[15]*z[4]/z[17] + state_[9]*z[41];
  z[103] = state_[11]*z[1]*z[6] + state_[9]*z[3]*z[4] + state_[9]*z[3]*z[9]/z[4];
  z[104] = -z[20]*z[3] - z[39]*z[6];
  z[105] = -front_.b*z[3]*z[5]*z[6] - z[3]*z[35];
  z[106] = z[12]*z[14] + z[70];
  z[107] = state_[9]*z[6]*z[9]/z[4] + z[56];
  z[108] = -state_[10]*z[1]*z[3]*z[5] - state_[11]*z[1]*z[2]*z[6] - state_[11]*z[3]*z[4];
  z[109] = -rear_.R*state_[9]*z[1]/z[17] - state_[9]*z[1]*z[41];
  z[110] = state_[10]*z[1]*z[2]*z[3] - state_[11]*z[1]*z[5]*z[6] - state_[9]*z[3]*z[4]*z[5];
  z[111] = -state_[10]*z[1] - state_[11]*z[4]*z[5] + state_[13]*z[61];
  z[112] = -rear_.a*z[44] + rear_.b*z[39];
  z[113] = sqrt(z[106]);
  z[114] = pow(z[106], 3.0/2.0);
  z[115] = pow(z[106], 5.0/2.0);
  z[116] = -state_[10]*z[6] + state_[8]*z[61] + state_[9]*z[3]*z[5];
  z[117] = -state_[11]*state_[13]*z[6] + z[89];
  z[118] = -rear_.Ixx*z[39] - rear_.Ixz*z[44];
  z[119] = -rear_.Ixz*z[39] - rear_.Izz*z[44];
  z[120] = rear_.a*z[39] + rear_.b*z[44];
  z[121] = -z[1]*z[14]*z[3] - z[2]*z[58];
  z[122] = -z[1]*z[2]*z[58] - z[14]*z[3];
  z[123] = front_.R*state_[9]*z[4]/z[17] + front_.R*state_[9]*z[9]/(z[17]*z[4]);
  z[124] = -state_[10]*z[1] - state_[11]*z[4]*z[5] + state_[13]*z[61];
  z[125] = state_[10]*z[4] - state_[11]*z[1]*z[5] - state_[13]*z[58];
  z[126] = state_[10]*z[2]*z[6] + state_[11]*z[3]*z[5] + state_[8]*z[63];
  z[127] = z[125];
  z[128] = rear_.Ixx*z[44] - rear_.Ixz*z[39];
  z[129] = rear_.Ixz*z[44] - rear_.Izz*z[39];
  z[130] = -state_[10]*z[3] - state_[8]*z[49] - state_[9]*z[5]*z[6];
  z[131] = -z[3]*z[5]*z[93];
  z[132] = front_.R*state_[13]*z[1]*z[6]/z[17] + front_.R*z[1]*z[20]/z[17];
  z[133] = -state_[8]*z[58] + z[54];
  z[134] = state_[14]*z[4]/z[17] + z[25]*z[41];
  z[135] = -z[1]*z[3]*z[5]*z[58] + z[12]*z[2]*z[5];
  z[136] = -rear_.R*z[0]*z[8]*z[9]/pow(z[13], 3.0/2.0) + rear_.R*z[8]/z[17];
  z[137] = -front_.a*z[39] - front_.b*z[79];
  z[138] = z[135];
  z[139] = front_.Ixx*z[79] - front_.Ixz*z[39];
  z[140] = front_.Ixz*z[79] - front_.Izz*z[39];
  z[141] = z[3]*z[63] + z[58]*z[6];
  z[142] = -front_.R*z[11]*z[9]/z[17] - front_.R*z[14]*z[9]/z[17];
  z[143] = -front_.R*z[1]*z[11]*z[4]/z[17] - front_.R*z[1]*z[14]*z[4]/z[17];
  z[144] = -rear_.Iyy*z[20]*z[44] + rear_.J*state_[12]*z[44];
  z[145] = z[1]*z[11]*z[40] + z[1]*z[14]*z[40];
  z[146] = z[4]*z[5]*z[6]/z[113];
  z[147] = z[14]*z[3]*z[6] - z[58]*z[63];
  z[148] = front_.a*z[2]*z[3]*z[5] - front_.b*z[14]*z[3]*z[6] - z[3]*z[35]*z[5];
  z[149] = -state_[10]*z[4]*z[5]*z[6] + state_[11]*z[1]*z[6] + state_[11]*z[2]*z[3]*z[4] - state_[9]*z[63];
  z[150] = state_[9]*z[1]*z[3] - state_[9]*z[2]*z[4]*z[6] - z[97];
  z[151] = state_[9]*z[1]*z[2]*z[3] - z[56] - z[77];
  z[152] = z[14]*z[3]*z[6] + z[58]*z[64]/2;
  z[153] = -z[0]*z[14]*z[3]*z[6] + z[58]*z[64];
  z[154] = -state_[11]*z[1]*z[3] - state_[9]*z[58] + z[77];
  z[155] = state_[10]*state_[8]*z[2]*z[4]*z[6] - state_[10]*state_[9]*z[5]*z[6] - state_[11]*z[3]*z[44] + state_[8]*state_[9]*z[1]*z[5]*z[6];
  z[156] = -state_[9]*z[1]*z[6] - state_[9]*z[2]*z[3]*z[4] + z[108];
  z[157] = -state_[10]*z[0]*z[1]*z[3]*z[5] - state_[11]*z[0]*z[1]*z[2]*z[6] - state_[11]*z[0]*z[3]*z[4] - state_[9]*z[0]*z[1]*z[6] - state_[9]*z[0]*z[2]*z[3]*z[4];
  z[158] = -state_[10]*z[0]*z[1]*z[5]*z[6] + state_[11]*z[0]*z[1]*z[2]*z[3] - state_[11]*z[0]*z[4]*z[6] + state_[9]*z[0]*z[1]*z[3] - state_[9]*z[0]*z[2]*z[4]*z[6];
  z[159] = -state_[10]*state_[8]*z[2]*z[3]*z[4] + state_[10]*state_[9]*z[3]*z[5] - state_[11]*z[44]*z[6] - state_[8]*state_[9]*z[1]*z[3]*z[5];
  z[160] = -state_[10]*state_[8]*z[1]*z[3]*z[5] - state_[11]*state_[8]*z[1]*z[2]*z[6] - state_[11]*state_[8]*z[3]*z[4] + state_[8]*state_[9]*z[61];
  z[161] = -front_.Ixx*z[130] - front_.Ixz*z[75];
  z[162] = -front_.Ixz*z[130] - front_.Izz*z[75];
  z[163] = front_.a*z[1]*z[5]*z[6] + front_.b*z[3]*z[58] - front_.b*z[6]*z[63];
  z[164] = state_[10]*state_[11]*z[1]*z[5] + state_[11]*state_[9]*z[2]*z[4] + state_[13]*z[110];
  z[165] = -front_.a*z[75] + front_.b*z[130];
  z[166] = -front_.b*z[3]*z[61] + z[6]*z[94];
  z[167] = front_.R*z[1]*z[44]/z[17] - front_.R*z[1]*z[75]/z[17];
  z[168] = rear_.R*z[1]*z[25]/(z[17]*z[4]) + z[24]*z[41];
  z[169] = state_[10]*state_[8]*z[1]*z[5]*z[6] - state_[11]*state_[8]*z[1]*z[2]*z[3] + state_[11]*state_[8]*z[4]*z[6] - state_[8]*state_[9]*z[49];
  z[170] = -front_.b*z[6]*z[61] - z[3]*z[94];
  z[171] = -z[1]*z[14]*z[40]*z[6] + z[2]*z[40]*z[63];
  z[172] = front_.R*state_[11]*z[1]*z[6]/z[17] + front_.R*state_[9]*z[3]*z[4]/z[17] + front_.R*state_[9]*z[3]*z[9]/(z[17]*z[4]);
  z[173] = -state_[10]*state_[8]*z[1]*z[3]*z[5] - state_[11]*state_[8]*z[1]*z[2]*z[6] - state_[11]*state_[8]*z[3]*z[4] + state_[8]*state_[9]*z[61];
  z[174] = z[1]*z[2]*z[40]*z[5]*z[6] + z[40]*z[5]*z[63];
  z[175] = z[2]*z[83] - z[5]*z[82];
  z[176] = z[1]*z[2]*z[3]*z[40]*z[5] - z[40]*z[5]*z[58];
  z[177] = -rear_.R*z[11]*z[9]/z[17] - rear_.R*z[14]*z[9]/z[17] + z[28]*z[4];
  z[178] = z[1]*z[14]*z[3]*z[40] + z[2]*z[40]*z[58];
  z[179] = front_.R*z[1]*z[39]/z[17] - front_.R*z[1]*z[76]/z[17];
  z[180] = -front_.R*state_[11]*state_[13]*z[1]*z[3]/z[17] + front_.R*state_[13]*state_[9]*z[4]*z[6]/z[17] + front_.R*state_[13]*state_[9]*z[6]*z[9]/(z[17]*z[4]);
  z[181] = z[116] + z[98];
  z[182] = -rear_.R*z[1]*z[8]/(z[17]*z[4]) - state_[8]*z[134];
  z[183] = -z[39]*z[75] + z[44]*z[76];
  z[184] = rear_.Ixx*z[44] + rear_.Ixz*z[0]*z[39] + rear_.Iyy*z[44] - rear_.Izz*z[44];
  z[185] = z[121]/z[113];
  z[186] = z[122]/z[113];
  z[187] = front_.a*z[104] - front_.a*z[130];
  z[188] = front_.b*z[116] + front_.b*z[98];
  z[189] = -z[3]*z[40]*z[5]*z[63] - z[40]*z[5]*z[58]*z[6];
  z[190] = rear_.Ixx*z[39] - rear_.Ixz*z[0]*z[44] - rear_.Iyy*z[39] - rear_.Izz*z[39];
  z[191] = -front_.a*z[1]*z[14]*z[3] + front_.b*z[3]*z[5]*z[63] - z[35]*z[58];
  z[192] = -state_[10]*state_[11]*z[1]*z[2] + state_[10]*state_[9]*z[1] + state_[11]*state_[9]*z[4]*z[5] - state_[13]*z[156];
  z[193] = -rear_.Ixz*z[36] - rear_.Iyy*z[20]*z[5] + rear_.Izz*z[37] + rear_.J*state_[12]*z[5] + z[20]*z[21];
  z[194] = state_[10]*state_[8]*z[3]*z[4]*z[5] + state_[10]*state_[9]*z[2]*z[3] + state_[11]*z[20]*z[3] + state_[11]*z[39]*z[6] - state_[8]*state_[9]*z[58];
  z[195] = state_[10]*state_[8]*z[4]*z[5]*z[6] + state_[10]*state_[9]*z[2]*z[6] + state_[11]*z[20]*z[6] - state_[11]*z[3]*z[39] + state_[8]*state_[9]*z[63];
  z[196] = -rear_.Ixx*z[36] + rear_.Ixz*z[37] + rear_.Iyy*z[2]*z[20] - rear_.J*state_[12]*z[2] - z[20]*z[22];
  z[197] = -front_.R*z[1]*(z[39]*z[76] + z[44]*z[75])/z[17];
  z[198] = z[2]*z[44] + z[2]*z[75] + z[39]*z[5] + z[5]*z[76];
  z[199] = -z[1]*z[2]*z[82] - z[1]*z[5]*z[83] + z[4]*z[43];
  z[200] = -z[141]*z[5]/z[113];
  z[201] = front_.a*z[2]*z[61] - front_.b*z[5]*z[6]*z[61] - z[3]*z[5]*z[94];
  z[202] = -z[147]/z[113];
  z[203] = -front_.R*state_[9]*z[1]*z[3]*z[5]/(z[17]*z[4]) - state_[8]*z[40]*z[58] - z[40]*z[54];
  z[204] = -front_.R*z[1]*z[39]*z[75]/z[17] + front_.R*z[1]*z[44]*z[76]/z[17];
  z[205] = front_.a*z[0]*z[116]*z[6] + front_.b*z[3]*z[75] - front_.b*(-state_[11]*z[3] - z[78]);
  z[206] = -front_.R*z[1]*z[39]*z[76]/z[17] - front_.R*z[1]*z[44]*z[75]/z[17];
  z[207] = -front_.a*z[0]*z[75] - front_.b*z[104] - front_.b*z[130];
  z[208] = rear_.Iyy*state_[9]*z[4] + z[118]*z[4]*z[5] + z[119]*z[2]*z[4];
  z[209] = -rear_.R*state_[9]*z[1]*z[25]/(z[17]*z[4]) + state_[8]*z[102] - z[33]*z[41];
  z[210] = state_[10]*z[12]*z[2]*z[5] - state_[11]*z[14]*z[3]*z[6] + z[156]*z[58];
  z[211] = -front_.R*(state_[9]*z[13]*z[2] + state_[9]*z[2]*z[9] + z[1]*z[20]*z[4]*z[5] + z[1]*z[55] + z[75]*z[9])/z[17];
  z[212] = z[207];
  z[213] = -front_.R*(state_[9]*z[13]*z[5] + state_[9]*z[5]*z[9] - z[1]*z[2]*z[20]*z[4] + z[1]*z[62] + z[76]*z[9])/z[17];
  z[214] = -front_.R*z[1]*z[4]*(z[2]*z[39] + z[2]*z[76] - z[44]*z[5] - z[5]*z[75])/z[17];
  z[215] = -state_[8]*z[168] + z[136];
  z[216] = -rear_.Iyy*state_[8]*state_[9]*z[1] - state_[8]*z[1]*z[118]*z[5] - state_[8]*z[1]*z[119]*z[2];
  z[217] = -state_[10]*z[0]*z[12]*z[2]*z[5] + state_[11]*z[0]*z[14]*z[3]*z[6] - z[157]*z[58];
  z[218] = state_[10]*z[12]*z[2]*z[5] - state_[11]*z[14]*z[3]*z[6] - z[157]*z[58]/2;
  z[219] = state_[9]*z[2]*z[4] + state_[9]*z[2]*z[9]/z[4] + z[1]*z[20]*z[5] + z[1]*z[37] - z[4]*z[75] - z[75]*z[9]/z[4];
  z[220] = state_[9]*z[39]*z[4] + state_[9]*z[39]*z[9]/z[4] - z[1]*z[20]*z[44] - z[1]*z[89];
  z[221] = -front_.R*z[1]*z[125]/(z[17]*z[4]) + z[124]*z[40];
  z[222] = -front_.a*z[1]*z[5]*z[61] + front_.b*z[61]*z[63] - z[58]*z[94];
  z[223] = -rear_.a*z[20]*z[44] + rear_.a*z[89] + rear_.b*z[20]*z[39] + rear_.b*z[88];
  z[224] = front_.Ixx*z[98] + front_.Iyy*z[116] - front_.Izz*z[116] - front_.J*state_[13];
  z[225] = state_[9]*z[4]*z[5] + state_[9]*z[5]*z[9]/z[4] - z[1]*z[2]*z[20] - z[1]*z[36] - z[4]*z[76] - z[76]*z[9]/z[4];
  z[226] = -front_.R*(-state_[9]*z[4]*z[44] - state_[9]*z[44]*z[9]/z[4] - z[1]*z[20]*z[39] + z[1]*z[88])/z[17];
  z[227] = front_.a*pow(-z[116], -z[0]) - front_.b*z[194];
  z[228] = -front_.R*state_[9]*z[1]*z[58]/(z[17]*z[4]) + state_[8]*z[3]*z[40]*z[5] - z[156]*z[40];
  z[229] = front_.R*z[1]*z[2]*z[58]/(z[17]*z[4]) + front_.R*z[14]*z[3]*z[9]/(z[17]*z[4]) - z[14]*z[3]*z[4]*z[40] + z[2]*z[40]*z[61];
  z[230] = -rear_.R*z[0]*z[1]*z[2]*z[44]/z[17] - rear_.R*z[0]*z[1]*z[39]*z[5]/z[17] - rear_.a*z[20]*z[5] + rear_.a*z[37] - rear_.b*z[2]*z[20] + rear_.b*z[36];
  z[231] = -front_.R*(-state_[9]*z[4]*z[75] - state_[9]*z[75]*z[9]/z[4] - z[1]*z[20]*z[76] + z[1]*z[88])/z[17];
  z[232] = front_.R*z[1]*z[2]*z[44]/z[17] + front_.R*z[1]*z[2]*z[75]/z[17] + front_.R*z[1]*z[39]*z[5]/z[17] + front_.R*z[1]*z[5]*z[76]/z[17];
  z[233] = -front_.R*state_[9]*z[17]*z[2] - front_.R*state_[9]*z[2]*z[9]/z[17] - front_.R*z[1]*z[20]*z[4]*z[5]/z[17] - front_.R*z[1]*z[55]/z[17] - front_.R*z[75]*z[9]/z[17];
  z[234] = -front_.Ixx*z[130] + front_.Ixz*z[0]*z[75] - front_.Iyy*z[104] + front_.Izz*z[130];
  z[235] = state_[13]*z[40]*z[63] + state_[17]*z[63]/z[113] - state_[18]*z[5]*z[6]/z[113];
  z[236] = -state_[17]*z[3]*z[5]/z[113] + state_[18]*z[58]/z[113] + z[40]*z[47];
  z[237] = -z[151]*z[58] + z[156]*z[61];
  z[238] = -front_.R*state_[9]*z[17]*z[5] - front_.R*state_[9]*z[5]*z[9]/z[17] + front_.R*z[1]*z[2]*z[20]*z[4]/z[17] - front_.R*z[1]*z[62]/z[17] - front_.R*z[76]*z[9]/z[17];
  z[239] = -front_.R*(state_[9]*z[4]*z[76] + state_[9]*z[76]*z[9]/z[4] - z[1]*z[117] - z[1]*z[20]*z[75])/z[17];
  z[240] = front_.a*z[0]*z[116]*z[3]*z[5] - z[165]*z[2] + z[35]*z[75];
  z[241] = front_.R*state_[9]*z[39]*z[4]/z[17] + front_.R*state_[9]*z[39]*z[9]/(z[17]*z[4]) - front_.R*z[1]*z[20]*z[44]/z[17] - front_.R*z[1]*z[89]/z[17];
  z[242] = -front_.R*z[1]*z[2]*z[39]*z[4]/z[17] - front_.R*z[1]*z[2]*z[4]*z[76]/z[17] + front_.R*z[1]*z[4]*z[44]*z[5]/z[17] + front_.R*z[1]*z[4]*z[5]*z[75]/z[17];
  z[243] = front_.R*state_[9]*z[4]*z[44]/z[17] + front_.R*state_[9]*z[44]*z[9]/(z[17]*z[4]) + front_.R*z[1]*z[20]*z[39]/z[17] - front_.R*z[1]*z[88]/z[17];
  z[244] = rear_.Iyy*state_[8]*z[4] + z[118]*z[2] - z[119]*z[5] - z[21]*z[44] + z[22]*z[39];
  z[245] = -front_.Ixx*z[3]*z[75] + front_.Ixz*z[130]*z[3] + front_.Iyy*(-state_[11]*z[3] - z[78]) - z[162]*z[3];
  z[246] = front_.R*state_[9]*z[4]*z[75]/z[17] + front_.R*state_[9]*z[75]*z[9]/(z[17]*z[4]) + front_.R*z[1]*z[20]*z[76]/z[17] - front_.R*z[1]*z[88]/z[17];
  z[247] = front_.a*z[116]*z[3] + front_.a*z[130]*z[6] + front_.a*z[39] + front_.b*z[6]*z[75] + front_.b*z[84];
  z[248] = -rear_.Ixx*z[88] + rear_.Ixz*z[89] - rear_.Iyy*z[20]*z[39] + rear_.J*state_[12]*z[39] - z[129]*z[20];
  z[249] = rear_.Ixx*z[89] + rear_.Ixz*z[88] - z[119]*z[20] + z[144];
  z[250] = -state_[10]*z[11]*z[12] + state_[10]*z[12]*z[14] - state_[11]*z[0]*z[2]*z[3]*z[5]*z[6] + z[1]*z[156]*z[3]*z[5] + z[110]*z[58];
  z[251] = -state_[17]*z[58]/z[113] - state_[18]*z[3]*z[5]/z[113] + z[125]*z[40];
  z[252] = -rear_.Ixz*z[88] + rear_.Izz*z[89] + z[128]*z[20] + z[144];
  z[253] = -state_[17]*z[58]/z[113] - state_[18]*z[3]*z[5]/z[113] + z[125]*z[40];
  z[254] = rear_.Ixz*z[89] + rear_.Iyy*z[20]*z[39] + rear_.Izz*z[88] - rear_.J*state_[12]*z[39] + z[118]*z[20];
  z[255] = front_.R*state_[9]*z[2]*z[4]/z[17] + front_.R*state_[9]*z[2]*z[9]/(z[17]*z[4]) + front_.R*z[1]*z[20]*z[5]/z[17] + front_.R*z[1]*z[37]/z[17] - front_.R*z[4]*z[75]/z[17] - front_.R*z[75]*z[9]/(z[17]*z[4]);
  z[256] = front_.b*z[0]*z[116]*z[3]*z[5] - z[130]*z[35] + z[165]*z[5]*z[6];
  z[257] = -rear_.Ixx*z[55] + rear_.Ixz*z[62] + rear_.Iyy*z[1]*z[44] + rear_.Iyy*z[20]*z[4]*z[5] - rear_.J*state_[12]*z[4]*z[5] + z[1]*z[119] + z[20]*z[51];
  z[258] = -rear_.Ixz*z[55] - rear_.Iyy*z[1]*z[39] + rear_.Iyy*z[2]*z[20]*z[4] + rear_.Izz*z[62] - rear_.J*state_[12]*z[2]*z[4] - z[1]*z[118] - z[20]*z[50];
  z[259] = -front_.R*state_[9]*z[4]*z[76]/z[17] - front_.R*state_[9]*z[76]*z[9]/(z[17]*z[4]) + front_.R*z[1]*z[117]/z[17] + front_.R*z[1]*z[20]*z[75]/z[17];
  z[260] = state_[10]*z[0]*z[11]*z[12] - state_[10]*z[0]*z[12]*z[14] + 4*state_[11]*z[2]*z[3]*z[5]*z[6] - z[1]*z[157]*z[3]*z[5] - z[58]*(state_[10]*z[0]*z[1]*z[2]*z[3] - state_[11]*z[0]*z[1]*z[5]*z[6] - state_[9]*z[0]*z[3]*z[4]*z[5]);
  z[261] = rear_.Ixx*z[67] + rear_.Ixz*z[74] - rear_.Iyy*state_[8]*z[1]*z[20]*z[5] + rear_.Iyy*state_[8]*z[4]*z[44] + rear_.J*state_[12]*state_[8]*z[1]*z[5] + state_[8]*z[119]*z[4] - z[20]*z[72];
  z[262] = front_.Ixz*z[155] + front_.Izz*z[89] + z[116]*z[139];
  z[263] = rear_.Ixz*z[67] - rear_.Iyy*state_[8]*z[1]*z[2]*z[20] - rear_.Iyy*state_[8]*z[39]*z[4] + rear_.Izz*z[74] + rear_.J*state_[12]*state_[8]*z[1]*z[2] - state_[8]*z[118]*z[4] + z[20]*z[71];
  z[264] = front_.a*state_[8]*z[0]*z[116]*z[58] + state_[8]*z[1]*z[165]*z[5] - z[75]*z[95];
  z[265] = front_.Ixx*z[84] - front_.Ixz*z[116]*z[3] - front_.Ixz*z[39] + front_.Iyy*z[6]*z[75] + z[162]*z[6];
  z[266] = front_.R*state_[9]*z[4]*z[5]/z[17] + front_.R*state_[9]*z[5]*z[9]/(z[17]*z[4]) - front_.R*z[1]*z[2]*z[20]/z[17] - front_.R*z[1]*z[36]/z[17] - front_.R*z[4]*z[76]/z[17] - front_.R*z[76]*z[9]/(z[17]*z[4]);
  z[267] = front_.a*(-state_[11]*z[3] - z[78]) + front_.b*z[0]*z[116]*z[6] - front_.b*z[130]*z[3] - z[165]*z[3];
  z[268] = rear_.R*z[1]*z[57]/z[17] + rear_.R*z[1]*pow(-z[44], -z[0])/z[17] - rear_.a*z[20]*z[39] - rear_.a*z[88] - rear_.b*z[20]*z[44] + rear_.b*z[89];
  z[269] = -rear_.R*state_[8]*state_[9]*z[1]/(z[17]*z[4]) + rear_.R*state_[9]*z[0]*z[25]*z[9]/pow(z[13], 3.0/2.0) + rear_.R*state_[9]*z[1]*z[24]/(z[17]*z[4]) - rear_.R*state_[9]*z[25]/z[17] + rear_.R*z[1]*z[33]/(z[17]*z[4]) - z[41]*(state_[10]*state_[9]*z[4] + state_[12]*state_[9]*z[4]);
  z[270] = -z[268];
  z[271] = -z[268];
  z[272] = state_[8]*z[58] + z[54] - z[210]*z[3]*z[5]/z[106];
  z[273] = -state_[10]*z[0]*z[2]*z[3]*z[5]*z[6] + state_[11]*z[12]*z[14] - state_[11]*z[14]*z[15] + z[150]*z[58] - z[156]*z[63];
  z[274] = front_.b*z[133] + z[240];
  z[275] = front_.b*z[133] + z[240];
  z[276] = rear_.R*z[0]*z[1]*z[2]*z[39]*z[4]/z[17] - rear_.R*z[0]*z[1]*z[4]*z[44]*z[5]/z[17] - rear_.a*z[1]*z[39] + rear_.a*z[2]*z[20]*z[4] + rear_.a*z[62] - rear_.b*z[1]*z[44] - rear_.b*z[20]*z[4]*z[5] + rear_.b*z[55];
  z[277] = z[276];
  z[278] = state_[8]*z[58] + z[54] - z[218]*z[3]*z[5]/z[106];
  z[279] = 4*state_[10]*z[2]*z[3]*z[5]*z[6] - state_[11]*z[0]*z[12]*z[14] + state_[11]*z[0]*z[14]*z[15] + z[157]*z[63] - z[158]*z[58];
  z[280] = -state_[10]*z[0]*z[2]*z[3]*z[5]*z[6] + state_[11]*z[12]*z[14] - state_[11]*z[14]*z[15] + z[157]*z[63]/2 - z[158]*z[58]/2;
  z[281] = -front_.R*state_[9]*z[5]*z[9]/(z[17]*z[4]) - state_[17]*z[63]/z[113] + state_[18]*z[5]*z[6]/z[113] - state_[8]*z[2]*z[40] - z[40]*(state_[13]*z[63] + z[53]);
  z[282] = rear_.R*state_[9]*z[39]*z[4]/z[17] + rear_.R*state_[9]*z[39]*z[9]/(z[17]*z[4]) - rear_.R*z[1]*z[20]*z[44]/z[17] - rear_.R*z[1]*z[89]/z[17] + z[112]*z[39];
  z[283] = rear_.R*state_[9]*z[4]*z[44]/z[17] + rear_.R*state_[9]*z[44]*z[9]/(z[17]*z[4]) + rear_.R*z[1]*z[20]*z[39]/z[17] - rear_.R*z[1]*z[88]/z[17] + z[112]*z[44];
  z[284] = state_[17]*z[147]*z[58]/z[114] + state_[18]*z[147]*z[3]*z[5]/z[114];
  z[285] = -z[165]*z[75] + z[227];
  z[286] = -z[1]*z[61] + z[1]*z[61]*z[70]/z[106] + z[4]*z[58] - z[2]*z[3]*z[58]*z[61]/z[106];
  z[287] = -z[285];
  z[288] = front_.b*state_[8]*z[0]*z[116]*z[58] - state_[8]*z[165]*z[63] + z[130]*z[95];
  z[289] = -front_.a*z[133] + z[256];
  z[290] = -front_.a*z[133] + z[256];
  z[291] = -front_.a*z[116]*z[5]*z[6] + front_.a*z[130]*z[3]*z[5] + front_.a*z[37] - front_.b*z[116]*z[2] + front_.b*z[126] + front_.b*z[3]*z[5]*z[75];
  z[292] = -state_[17]*z[61]*z[70]/z[114] + state_[17]*z[61]/z[113] - state_[18]*z[3]*z[5]*z[58]*z[61]/z[114];
  z[293] = -front_.a*z[0]*z[116]*z[130] + front_.b*z[116]*z[75] + front_.b*z[195];
  z[294] = front_.Iyy*state_[8]*z[116]*z[63] + front_.Iyy*state_[8]*z[130]*z[58] - front_.J*state_[13]*state_[8]*z[63] + state_[8]*z[161]*z[58];
  z[295] = front_.a*z[116]*(state_[10]*z[0]*z[3] + state_[8]*z[0]*z[49] + state_[9]*z[0]*z[5]*z[6]) + front_.b*z[116]*z[75] + front_.b*z[195];
  z[296] = -state_[8]*z[3]*z[5] + z[156] - z[210]*z[58]/z[106];
  z[297] = -z[118]*z[39] - z[119]*z[44] - z[128]*z[44] + z[129]*z[39];
  z[298] = -rear_.a*state_[8]*state_[9]*z[4] - rear_.b*z[19] - z[282];
  z[299] = -front_.a*z[194] - front_.b*pow(-z[116], -z[0]) - z[130]*z[165];
  z[300] = -rear_.a*z[19] + rear_.b*state_[8]*state_[9]*z[4] + z[283];
  z[301] = z[299];
  z[302] = -rear_.a*state_[8]*state_[9]*z[4] - rear_.b*z[19] - z[282];
  z[303] = -rear_.R*state_[9]*z[17]*z[5] - rear_.R*state_[9]*z[5]*z[9]/z[17] + rear_.R*z[1]*z[2]*z[20]*z[4]/z[17] - rear_.R*z[1]*z[62]/z[17] - rear_.R*z[39]*z[9]/z[17] - rear_.a*z[0]*z[1]*z[20] + rear_.b*state_[9]*z[4] - z[112]*z[4]*z[5] + z[43]*z[44];
  z[304] = front_.a*z[0]*z[116]*z[61] + front_.b*z[154] - z[165]*z[4]*z[5] + z[75]*z[94];
  z[305] = z[304];
  z[306] = -rear_.R*state_[9]*z[17]*z[2] - rear_.R*state_[9]*z[2]*z[9]/z[17] - rear_.R*z[1]*z[20]*z[4]*z[5]/z[17] - rear_.R*z[1]*z[55]/z[17] - rear_.R*z[44]*z[9]/z[17] - rear_.a*state_[9]*z[4] - rear_.b*z[0]*z[1]*z[20] - z[112]*z[2]*z[4] - z[39]*z[43];
  z[307] = -rear_.R*state_[9]*z[17]*z[5] - rear_.R*state_[9]*z[5]*z[9]/z[17] + rear_.R*z[1]*z[2]*z[20]*z[4]/z[17] - rear_.R*z[1]*z[62]/z[17] - rear_.R*z[39]*z[9]/z[17] - rear_.a*z[0]*z[1]*z[20] + rear_.b*state_[9]*z[4] - z[112]*z[4]*z[5] + z[43]*z[44];
  z[308] = -(-state_[10]*z[0]*z[2]*z[3] + state_[11]*z[0]*z[5]*z[6] - state_[8]*z[0]*z[58] - z[217]*z[3]*z[5]/z[106])/(2*z[113]);
  z[309] = front_.b*z[160] + z[264];
  z[310] = -rear_.R*state_[9]*z[17]*z[2] - rear_.R*state_[9]*z[2]*z[9]/z[17] - rear_.R*z[1]*z[20]*z[4]*z[5]/z[17] - rear_.R*z[1]*z[55]/z[17] - rear_.R*z[44]*z[9]/z[17] - rear_.a*state_[9]*z[4] - rear_.b*z[0]*z[1]*z[20] - z[112]*z[2]*z[4] - z[39]*z[43];
  z[311] = front_.b*z[173] + z[264];
  z[312] = -(z[1]*z[14]*z[3]*z[58]*z[61]/z[106] + z[14]*z[3]*z[4] - z[2]*z[61] + z[2]*z[61]*z[70]/z[106])/z[113];
  z[313] = -rear_.R*state_[9]*z[2]*z[4]/z[17] - rear_.R*state_[9]*z[2]*z[9]/(z[17]*z[4]) - rear_.R*z[1]*z[20]*z[5]/z[17] - rear_.R*z[1]*z[37]/z[17] + rear_.R*z[4]*z[44]/z[17] + rear_.R*z[44]*z[9]/(z[17]*z[4]) + rear_.b*state_[8]*z[4] - z[112]*z[2] + z[28]*z[44];
  z[314] = front_.a*z[116]*z[130] + front_.a*z[88] + front_.b*z[116]*z[75] + front_.b*z[195];
  z[315] = -z[1]*z[14]*z[6] + z[1]*z[14]*z[147]*z[3]/z[106] + z[2]*z[63] + z[147]*z[2]*z[58]/z[106];
  z[316] = front_.Ixx*z[116]*z[3] + front_.Ixz*z[84] - front_.Iyy*z[116]*z[3] - front_.Iyy*z[130]*z[6] - front_.Izz*z[39] + front_.J*state_[13]*z[3] - z[161]*z[6];
  z[317] = -rear_.R*state_[9]*z[2]*z[4]/z[17] - rear_.R*state_[9]*z[2]*z[9]/(z[17]*z[4]) - rear_.R*z[1]*z[20]*z[5]/z[17] - rear_.R*z[1]*z[37]/z[17] + rear_.R*z[4]*z[44]/z[17] + rear_.R*z[44]*z[9]/(z[17]*z[4]) + rear_.b*state_[8]*z[4] - z[112]*z[2] + z[28]*z[44];
  z[318] = rear_.R*state_[9]*z[4]*z[5]/z[17] + rear_.R*state_[9]*z[5]*z[9]/(z[17]*z[4]) - rear_.R*z[1]*z[2]*z[20]/z[17] - rear_.R*z[1]*z[36]/z[17] - rear_.R*z[39]*z[4]/z[17] - rear_.R*z[39]*z[9]/(z[17]*z[4]) - rear_.a*state_[8]*z[4] + z[112]*z[5] - z[28]*z[39];
  z[319] = z[318];
  z[320] = -front_.Ixx*z[126] + front_.Ixz*z[37] + front_.Iyy*z[116]*z[2] - front_.Iyy*z[3]*z[5]*z[75] - front_.J*state_[13]*z[2] - z[116]*z[32] - z[162]*z[3]*z[5];
  z[321] = front_.R*z[1]*z[47]/(z[17]*z[4]) + state_[17]*z[3]*z[5]*z[58]*z[61]/z[114] - state_[18]*z[61]*z[70]/z[114] + state_[18]*z[61]/z[113];
  z[322] = front_.Iyy*z[194] + z[130]*z[162] - z[161]*z[75];
  z[323] = front_.Iyy*z[133] + z[130]*z[32] + z[161]*z[2] - z[162]*z[5]*z[6] - z[31]*z[75];
  z[324] = -z[120]*z[44] + z[282];
  z[325] = front_.a*z[0]*z[116]*z[78] + front_.b*z[159] + z[137]*z[75] + z[165]*z[39];
  z[326] = -front_.Ixz*z[126] - front_.Iyy*z[116]*z[5]*z[6] + front_.Iyy*z[130]*z[3]*z[5] + front_.J*state_[13]*z[5]*z[6] + z[116]*z[31] + z[161]*z[3]*z[5];
  z[327] = z[1]*z[138]*z[5]*z[58]/z[106] + z[11]*z[3] + z[122] + z[14]*z[3]*z[9] - z[138]*z[2]*z[3]*z[5]/z[106];
  z[328] = -z[120]*z[44] + z[282];
  z[329] = z[120]*z[39] + z[283];
  z[330] = z[325];
  z[331] = -front_.a*z[154] + front_.b*z[0]*z[116]*z[61] - z[130]*z[94] + z[165]*z[49];
  z[332] = -front_.a*pow(z[130], 2) - front_.b*z[130]*z[75] + z[227];
  z[333] = front_.R*state_[9]*z[1]*z[47]/(z[17]*z[4]) - state_[10]*state_[17]*z[2]*z[3]/z[113] + state_[11]*state_[17]*z[5]*z[6]/z[113] + state_[18]*z[156]/z[113] - z[40]*z[86];
  z[334] = z[331];
  z[335] = -front_.a*z[116]*z[49] + front_.a*z[130]*z[61] + front_.a*z[62] - front_.b*z[116]*z[4]*z[5] - front_.b*z[149] + front_.b*z[61]*z[75];
  z[336] = -(-z[1]*z[2]*z[3]*z[5] + z[1]*z[135]*z[14]*z[3]/z[106] + z[5]*z[58] + z[135]*z[2]*z[58]/z[106])/z[113];
  z[337] = -(-state_[8]*z[0]*z[3]*z[5] + z[157] + z[217]*z[58]/z[106])/(2*z[113]);
  z[338] = -front_.a*z[160] + z[288];
  z[339] = -front_.a*z[173] + z[288];
  z[340] = front_.R*state_[9]*z[1]/(z[17]*z[4]) + z[321];
  z[341] = front_.Izz*z[37] + z[326];
  z[342] = state_[8]*z[2]*z[39]*z[9] + state_[8]*z[2]*z[76]*z[9] - state_[8]*z[44]*z[5]*z[9] - state_[8]*z[5]*z[75]*z[9] - z[39]*z[4]*z[76] - z[39]*z[76]*z[9]/z[4] - z[4]*z[44]*z[75] - z[44]*z[75]*z[9]/z[4];
  z[343] = -front_.a*z[159] + front_.b*z[0]*z[116]*z[78] - z[130]*z[137] + z[165]*z[79];
  z[344] = z[343];
  z[345] = front_.Ixx*z[194] + front_.Ixz*pow(-z[116], -z[0]) + front_.Iyy*z[130]*z[75] + z[130]*z[162];
  z[346] = -state_[17]*z[1]*z[3]*z[5]/z[113] - state_[17]*z[135]*z[58]/z[114] - state_[18]*z[135]*z[3]*z[5]/z[114] + state_[18]*z[2]*z[3]/z[113];
  z[347] = -front_.Ixx*z[195] + front_.Ixz*z[88] - front_.Iyy*z[116]*z[75] + front_.J*state_[13]*z[75] - z[116]*z[162];
  z[348] = -z[5]*(-z[0]*z[1]*z[63] - z[0]*z[2]*z[6] + z[1]*z[153]*z[58]/z[106] - z[153]*z[2]*z[3]/z[106])/(2*z[113]);
  z[349] = front_.a*state_[8]*z[116]*z[63] + front_.a*state_[8]*z[130]*z[58] + front_.a*z[74] + front_.b*state_[8]*z[1]*z[116]*z[5] + front_.b*state_[8]*z[58]*z[75] - front_.b*z[169];
  z[350] = front_.a*state_[8]*z[116]*z[63] + front_.a*state_[8]*z[130]*z[58] + front_.a*z[74] + front_.b*state_[8]*z[1]*z[116]*z[5] + front_.b*state_[8]*z[58]*z[75] - front_.b*z[169];
  z[351] = -front_.a*z[116]*z[79] + front_.a*z[130]*z[78] + front_.a*z[89] + front_.b*z[116]*z[39] - front_.b*z[155] + front_.b*z[75]*z[78];
  z[352] = -front_.a*z[116]*z[79] + front_.a*z[130]*z[78] + front_.a*z[89] + front_.b*z[116]*z[39] - front_.b*z[155] + front_.b*z[75]*z[78];
  z[353] = -state_[17]*z[147]*z[3]*z[5]/z[114] + state_[17]*z[5]*z[6]/z[113] + state_[18]*z[147]*z[58]/z[114] + state_[18]*z[63]/z[113];
  z[354] = front_.Ixx*z[116]*z[75] - front_.Ixz*z[116]*z[130] + front_.Iyy*z[195] + z[116]*z[162];
  z[355] = state_[8]*state_[9]*z[1]*z[2]*z[4] + state_[8]*state_[9]*z[10]*z[2]/z[4] - state_[8]*z[1]*z[4]*z[75] + state_[8]*z[20]*z[5]*z[9] + state_[9]*z[0]*z[1]*z[76] + state_[9]*z[0]*z[10]*z[76]/z[13] + z[1]*z[67] + z[117]*z[4] + z[117]*z[9]/z[4] + z[20]*z[4]*z[75] + z[20]*z[75]*z[9]/z[4];
  z[356] = front_.Ixx*z[149] + front_.Ixz*z[62] + front_.Iyy*z[116]*z[4]*z[5] - front_.Iyy*z[61]*z[75] - front_.J*state_[13]*z[4]*z[5] - z[116]*z[91] - z[162]*z[61];
  z[357] = state_[17]*z[135]*z[3]*z[5]/z[114] - state_[17]*z[2]*z[3]/z[113] - state_[18]*z[1]*z[3]*z[5]/z[113] - state_[18]*z[135]*z[58]/z[114] - z[30]*z[40];
  z[358] = front_.Iyy*z[154] + z[130]*z[91] + z[161]*z[4]*z[5] - z[162]*z[49] - z[75]*z[90];
  z[359] = -front_.R*(-state_[8]*state_[9]*z[1]*z[4]*z[5] - state_[8]*state_[9]*z[10]*z[5]/z[4] + state_[8]*z[1]*z[4]*z[76] + state_[8]*z[2]*z[20]*z[9] + state_[9]*z[0]*z[1]*z[75] + state_[9]*z[0]*z[10]*z[75]/z[13] + z[1]*z[74] - z[20]*z[4]*z[76] - z[20]*z[76]*z[9]/z[4] + z[4]*z[88] + z[88]*z[9]/z[4])/z[17];
  z[360] = z[346] + z[40]*z[69];
  z[361] = -front_.Ixz*z[195] + front_.Iyy*z[116]*z[130] + front_.Izz*z[88] - front_.J*state_[13]*z[130] + z[116]*z[161];
  z[362] = front_.Ixx*z[169] + front_.Ixz*z[74] - front_.Iyy*state_[8]*z[1]*z[116]*z[5] - front_.Iyy*state_[8]*z[58]*z[75] + front_.J*state_[13]*state_[8]*z[1]*z[5] - state_[8]*z[162]*z[58] - z[100]*z[116];
  z[363] = front_.Iyy*z[173] - state_[8]*z[1]*z[161]*z[5] + state_[8]*z[162]*z[63] + z[100]*z[130] - z[75]*z[99];
  z[364] = state_[8]*z[4]*z[40] + z[357];
  z[365] = -front_.a*z[195] - front_.b*z[0]*z[116]*z[130] - front_.b*z[116]*z[130] - z[116]*z[165];
  z[366] = z[365];
  z[367] = -front_.R*state_[9]*z[1]/z[17] + z[346] - z[40]*(state_[9]*z[1] - z[69]);
  z[368] = -rear_.R*state_[8]*z[0]*z[2]*z[39]*z[9]/z[17] + rear_.R*state_[8]*z[0]*z[44]*z[5]*z[9]/z[17] - rear_.R*z[4]*z[57]/z[17] - rear_.R*z[4]*pow(-z[44], -z[0])/z[17] - rear_.R*z[57]*z[9]/(z[17]*z[4]) - rear_.R*z[9]*pow(-z[44], -z[0])/(z[17]*z[4]) - rear_.a*state_[8]*z[1]*z[2]*z[20] - rear_.a*state_[8]*z[39]*z[4] + rear_.a*z[74] + rear_.b*state_[8]*z[1]*z[20]*z[5] - rear_.b*state_[8]*z[4]*z[44] - rear_.b*z[67];
  z[369] = state_[8]*z[40] + z[221] + z[292];
  z[370] = -rear_.R*state_[8]*z[0]*z[2]*z[39]*z[9]/z[17] + rear_.R*state_[8]*z[0]*z[44]*z[5]*z[9]/z[17] - rear_.R*z[4]*z[57]/z[17] - rear_.R*z[4]*pow(-z[44], -z[0])/z[17] - rear_.R*z[57]*z[9]/(z[17]*z[4]) - rear_.R*z[9]*pow(-z[44], -z[0])/(z[17]*z[4]) - rear_.a*state_[8]*z[1]*z[2]*z[20] - rear_.a*state_[8]*z[39]*z[4] + rear_.a*z[74] + rear_.b*state_[8]*z[1]*z[20]*z[5] - rear_.b*state_[8]*z[4]*z[44] - rear_.b*z[67];
  z[371] = front_.R*state_[8]*z[2]*z[39]*z[9]/z[17] + front_.R*state_[8]*z[2]*z[76]*z[9]/z[17] - front_.R*state_[8]*z[44]*z[5]*z[9]/z[17] - front_.R*state_[8]*z[5]*z[75]*z[9]/z[17] - front_.R*z[39]*z[4]*z[76]/z[17] - front_.R*z[39]*z[76]*z[9]/(z[17]*z[4]) - front_.R*z[4]*z[44]*z[75]/z[17] - front_.R*z[44]*z[75]*z[9]/(z[17]*z[4]);
  z[372] = front_.Ixz*z[149] - front_.Iyy*z[116]*z[49] + front_.Iyy*z[130]*z[61] + front_.Izz*z[62] + front_.J*state_[13]*z[49] + z[116]*z[90] + z[161]*z[61];
  z[373] = front_.Iyy*z[159] + z[130]*z[140] - z[139]*z[75] - z[161]*z[39] - z[162]*z[79];
  z[374] = front_.Ixx*z[155] + front_.Ixz*z[89] - front_.Iyy*z[116]*z[39] - front_.Iyy*z[75]*z[78] + front_.J*state_[13]*z[39] - z[116]*z[140] - z[162]*z[78];
  z[375] = front_.Ixz*z[169] + front_.Izz*z[74] + z[116]*z[99] + z[294];
  z[376] = front_.R*state_[9]*z[1]*z[2]/(z[17]*z[4]) - state_[8]*z[1]*z[40]*z[5] + z[353] - z[40]*(state_[10]*z[5] - state_[13]*z[5]*z[6]);
  z[377] = -front_.Ixx*pow(-z[116], -z[0]) + front_.Ixz*z[194] - front_.Iyy*pow(z[130], 2) + front_.Iyy*pow(-z[116], -z[0]) - front_.J*state_[13]*z[116] - z[130]*z[161];
  z[378] = -front_.Iyy*z[116]*z[79] + front_.Iyy*z[130]*z[78] + front_.J*state_[13]*z[79] + z[161]*z[78] + z[262];
  z[379] = front_.R*state_[8]*state_[9]*z[1]*z[4]*z[5]/z[17] + front_.R*state_[8]*state_[9]*z[10]*z[5]/(z[17]*z[4]) - front_.R*state_[8]*z[1]*z[4]*z[76]/z[17] - front_.R*state_[8]*z[2]*z[20]*z[9]/z[17] - front_.R*state_[9]*z[0]*z[1]*z[75]/z[17] - front_.R*state_[9]*z[0]*z[10]*z[75]/pow(z[13], 3.0/2.0) - front_.R*z[1]*z[74]/z[17] + front_.R*z[20]*z[4]*z[76]/z[17] + front_.R*z[20]*z[76]*z[9]/(z[17]*z[4]) - front_.R*z[4]*z[88]/z[17] - front_.R*z[88]*z[9]/(z[17]*z[4]);
  z[380] = -z[281] + z[284];
  z[381] = front_.R*state_[8]*state_[9]*z[1]*z[2]*z[4]/z[17] + front_.R*state_[8]*state_[9]*z[10]*z[2]/(z[17]*z[4]) - front_.R*state_[8]*z[1]*z[4]*z[75]/z[17] + front_.R*state_[8]*z[20]*z[5]*z[9]/z[17] + front_.R*state_[9]*z[0]*z[1]*z[76]/z[17] + front_.R*state_[9]*z[0]*z[10]*z[76]/pow(z[13], 3.0/2.0) + front_.R*z[1]*z[67]/z[17] + front_.R*z[117]*z[4]/z[17] + front_.R*z[117]*z[9]/(z[17]*z[4]) + front_.R*z[20]*z[4]*z[75]/z[17] + front_.R*z[20]*z[75]*z[9]/(z[17]*z[4]);
  z[382] = state_[17]*z[152]*z[58]/z[114] + state_[18]*z[152]*z[3]*z[5]/z[114] - z[281];
  z[383] = rear_.R*state_[8]*state_[9]*z[1]*z[2]*z[4]/z[17] + rear_.R*state_[8]*state_[9]*z[10]*z[2]/(z[17]*z[4]) - rear_.R*state_[8]*z[1]*z[4]*z[44]/z[17] + rear_.R*state_[8]*z[20]*z[5]*z[9]/z[17] + rear_.R*state_[9]*z[0]*z[1]*z[39]/z[17] + rear_.R*state_[9]*z[0]*z[10]*z[39]/pow(z[13], 3.0/2.0) + rear_.R*z[1]*z[67]/z[17] + rear_.R*z[20]*z[4]*z[44]/z[17] + rear_.R*z[20]*z[44]*z[9]/(z[17]*z[4]) + rear_.R*z[4]*z[89]/z[17] + rear_.R*z[89]*z[9]/(z[17]*z[4]) + rear_.a*state_[8]*state_[9]*z[1] - rear_.b*state_[8]*z[0]*z[20]*z[4] + state_[8]*z[1]*z[112]*z[2] + z[39]*z[65];
  z[384] = rear_.R*state_[8]*state_[9]*z[1]*z[4]*z[5]/z[17] + rear_.R*state_[8]*state_[9]*z[10]*z[5]/(z[17]*z[4]) - rear_.R*state_[8]*z[1]*z[39]*z[4]/z[17] - rear_.R*state_[8]*z[2]*z[20]*z[9]/z[17] - rear_.R*state_[9]*z[0]*z[1]*z[44]/z[17] - rear_.R*state_[9]*z[0]*z[10]*z[44]/pow(z[13], 3.0/2.0) - rear_.R*z[1]*z[74]/z[17] + rear_.R*z[20]*z[39]*z[4]/z[17] + rear_.R*z[20]*z[39]*z[9]/(z[17]*z[4]) - rear_.R*z[4]*z[88]/z[17] - rear_.R*z[88]*z[9]/(z[17]*z[4]) - rear_.a*state_[8]*z[0]*z[20]*z[4] - rear_.b*state_[8]*state_[9]*z[1] + state_[8]*z[1]*z[112]*z[5] - z[44]*z[65];
  z[385] = -z[2]*z[300]*z[4]*z[41] + z[302]*z[4]*z[41]*z[5];
  z[386] = z[384];
  z[387] = -z[2]*z[246]*z[4]*z[40] + z[259]*z[4]*z[40]*z[5] + z[299]*z[4]*z[40]*z[5];
  z[388] = -front_.R*state_[13]*state_[9]*z[1]*z[63]/(z[17]*z[4]) - state_[10]*state_[18]*z[147]*z[2]*z[3]/z[114] + state_[10]*state_[18]*z[2]*z[6]/z[113] + state_[11]*state_[18]*z[147]*z[5]*z[6]/z[114] + state_[11]*state_[18]*z[3]*z[5]/z[113] + state_[13]*z[150]*z[40] - state_[17]*z[147]*z[156]/z[114] + state_[17]*z[150]/z[113];
  z[389] = -state_[17]*z[210]*z[3]*z[5]/z[114] + state_[18]*z[210]*z[58]/z[114] - state_[8]*z[253] - z[333];
  z[390] = state_[17]*z[218]*z[3]*z[5]/z[114] - state_[18]*z[218]*z[58]/z[114] + state_[8]*z[251] + z[333];
  z[391] = -front_.R*state_[9]*z[1]*z[125]/(z[17]*z[4]) + state_[10]*state_[18]*z[2]*z[3]/z[113] - state_[11]*state_[18]*z[5]*z[6]/z[113] - state_[17]*z[210]*z[58]/z[114] + state_[17]*z[156]/z[113] - state_[18]*z[210]*z[3]*z[5]/z[114] + state_[8]*z[236] - z[192]*z[40];
  z[392] = -front_.R*state_[9]*z[1]*z[125]/(z[17]*z[4]) + state_[10]*state_[18]*z[2]*z[3]/z[113] - state_[11]*state_[18]*z[5]*z[6]/z[113] - state_[17]*z[217]*z[58]/(2*z[114]) + state_[17]*z[156]/z[113] - state_[18]*z[217]*z[3]*z[5]/(2*z[114]) + state_[8]*z[236] - z[192]*z[40];
  z[393] = -front_.R*state_[9]*z[0]*z[47]*z[9]/pow(z[13], 3.0/2.0) + front_.R*state_[9]*z[47]/z[17] + front_.R*z[1]*z[86]/(z[17]*z[4]) - state_[10]*state_[17]*z[2]*z[3]*z[58]*z[61]/z[114] + state_[11]*state_[17]*z[5]*z[58]*z[6]*z[61]/z[114] - state_[17]*z[237]*z[3]*z[5]/z[114] + state_[18]*z[156]*z[58]*z[61]/z[114] + state_[18]*z[237]*z[58]/z[114] + state_[18]*z[151]/z[113];
  z[394] = -rear_.R*z[1]*z[2]*z[302]/z[17] - rear_.R*z[1]*z[300]*z[5]/z[17] - z[1]*z[2]*z[302]*z[41] - z[1]*z[300]*z[41]*z[5];
  z[395] = front_.R*z[1]*z[192]/(z[17]*z[4]) + state_[10]*state_[18]*z[2]*z[3]*z[58]*z[61]/z[114] - state_[11]*state_[18]*z[5]*z[58]*z[6]*z[61]/z[114] + state_[17]*z[156]*z[58]*z[61]/z[114] + state_[17]*z[237]*z[58]/z[114] + state_[17]*z[151]/z[113] + state_[18]*z[237]*z[3]*z[5]/z[114] - state_[8]*z[321] + z[40]*(state_[10]*state_[11]*z[2]*z[4] - state_[10]*state_[9]*z[4] + state_[11]*state_[9]*z[1]*z[5] + state_[13]*z[151]);
  z[396] = front_.a*z[1]*z[3]*z[389]*z[5] + front_.a*z[2]*z[3]*z[391];
  z[397] = 3*state_[17]*z[210]*z[3]*z[5]*z[58]*z[61]/z[115] - 3*state_[18]*z[210]*z[61]*z[70]/z[115] + state_[18]*z[210]*z[61]/z[114] + state_[8]*(z[221] + z[292]) + z[393];
  z[398] = 3*state_[17]*z[218]*z[3]*z[5]*z[58]*z[61]/z[115] - 3*state_[18]*z[218]*z[61]*z[70]/z[115] + state_[18]*z[218]*z[61]/z[114] + state_[8]*(-front_.R*z[1]*z[127]/(z[17]*z[4]) + z[111]*z[40] + z[292]) + z[393];
  z[399] = front_.R*state_[9]*z[0]*z[125]*z[9]/pow(z[13], 3.0/2.0) - front_.R*state_[9]*z[1]*z[124]/(z[17]*z[4]) - front_.R*state_[9]*z[125]/z[17] - 3*state_[17]*z[210]*z[61]*z[70]/z[115] + state_[17]*z[210]*z[61]/z[114] - 3*state_[18]*z[210]*z[3]*z[5]*z[58]*z[61]/z[115] + z[395];
  z[400] = front_.R*state_[9]*z[0]*z[127]*z[9]/pow(z[13], 3.0/2.0) - front_.R*state_[9]*z[1]*z[111]/(z[17]*z[4]) - front_.R*state_[9]*z[127]/z[17] - 3*state_[17]*z[218]*z[61]*z[70]/z[115] + state_[17]*z[218]*z[61]/z[114] - 3*state_[18]*z[218]*z[3]*z[5]*z[58]*z[61]/z[115] + z[395];
  z[401] = front_.R*state_[9]*z[1]*z[30]/(z[17]*z[4]) - state_[10]*state_[17]*z[135]*z[2]*z[3]/z[114] - state_[10]*state_[17]*z[3]*z[5]/z[113] + state_[11]*state_[17]*z[135]*z[5]*z[6]/z[114] - state_[11]*state_[17]*z[2]*z[6]/z[113] + 3*state_[17]*z[135]*z[210]*z[3]*z[5]/z[115] - state_[17]*z[2]*z[210]*z[3]/z[114] + state_[17]*z[250]*z[3]*z[5]/z[114] - state_[18]*z[1]*z[210]*z[3]*z[5]/z[114] + state_[18]*z[110]/z[113] - 3*state_[18]*z[135]*z[210]*z[58]/z[115] + state_[18]*z[135]*z[156]/z[114] - state_[18]*z[250]*z[58]/z[114] + state_[8]*z[360] - z[40]*z[85];
  z[402] = -front_.R*state_[9]*z[1]*z[69]/(z[17]*z[4]) + state_[10]*state_[18]*z[135]*z[2]*z[3]/z[114] + state_[10]*state_[18]*z[3]*z[5]/z[113] - state_[11]*state_[18]*z[135]*z[5]*z[6]/z[114] + state_[11]*state_[18]*z[2]*z[6]/z[113] - state_[17]*z[1]*z[210]*z[3]*z[5]/z[114] + state_[17]*z[110]/z[113] - 3*state_[17]*z[135]*z[210]*z[58]/z[115] + state_[17]*z[135]*z[156]/z[114] - state_[17]*z[250]*z[58]/z[114] - 3*state_[18]*z[135]*z[210]*z[3]*z[5]/z[115] + state_[18]*z[2]*z[210]*z[3]/z[114] - state_[18]*z[250]*z[3]*z[5]/z[114] - state_[8]*z[357] + z[164]*z[40];
  z[403] = front_.R*state_[9]*z[1]*z[30]/(z[17]*z[4]) - state_[10]*state_[17]*z[135]*z[2]*z[3]/z[114] - state_[10]*state_[17]*z[3]*z[5]/z[113] + state_[11]*state_[17]*z[135]*z[5]*z[6]/z[114] - state_[11]*state_[17]*z[2]*z[6]/z[113] + 3*state_[17]*z[135]*z[217]*z[3]*z[5]/(2*z[115]) - state_[17]*z[2]*z[217]*z[3]/(2*z[114]) + state_[17]*z[260]*z[3]*z[5]/(2*z[114]) - state_[18]*z[1]*z[217]*z[3]*z[5]/(2*z[114]) + state_[18]*z[110]/z[113] - 3*state_[18]*z[135]*z[217]*z[58]/(2*z[115]) + state_[18]*z[135]*z[156]/z[114] - state_[18]*z[260]*z[58]/(2*z[114]) + state_[8]*z[360] - z[40]*z[85];
  z[404] = -front_.R*state_[9]*z[1]*z[69]/(z[17]*z[4]) + state_[10]*state_[18]*z[135]*z[2]*z[3]/z[114] + state_[10]*state_[18]*z[3]*z[5]/z[113] - state_[11]*state_[18]*z[135]*z[5]*z[6]/z[114] + state_[11]*state_[18]*z[2]*z[6]/z[113] - state_[17]*z[1]*z[217]*z[3]*z[5]/(2*z[114]) + state_[17]*z[110]/z[113] - 3*state_[17]*z[135]*z[217]*z[58]/(2*z[115]) + state_[17]*z[135]*z[156]/z[114] - state_[17]*z[260]*z[58]/(2*z[114]) - 3*state_[18]*z[135]*z[217]*z[3]*z[5]/(2*z[115]) + state_[18]*z[2]*z[217]*z[3]/(2*z[114]) - state_[18]*z[260]*z[3]*z[5]/(2*z[114]) - state_[8]*z[357] + z[164]*z[40];
  z[405] = -front_.R*state_[13]*state_[9]*z[1]*z[5]*z[6]/(z[17]*z[4]) + state_[10]*state_[17]*z[147]*z[2]*z[3]/z[114] - state_[10]*state_[17]*z[2]*z[6]/z[113] - state_[11]*state_[17]*z[147]*z[5]*z[6]/z[114] - state_[11]*state_[17]*z[3]*z[5]/z[113] - 3*state_[17]*z[147]*z[210]*z[3]*z[5]/z[115] + state_[17]*z[210]*z[5]*z[6]/z[114] + state_[17]*z[273]*z[3]*z[5]/z[114] + 3*state_[18]*z[147]*z[210]*z[58]/z[115] - state_[18]*z[147]*z[156]/z[114] + state_[18]*z[210]*z[63]/z[114] - state_[18]*z[273]*z[58]/z[114] + state_[18]*z[150]/z[113] + state_[8]*(z[235] + z[284]) - z[40]*z[66];
  z[406] = 3*state_[17]*z[147]*z[210]*z[58]/z[115] + state_[17]*z[210]*z[63]/z[114] - state_[17]*z[273]*z[58]/z[114] + 3*state_[18]*z[147]*z[210]*z[3]*z[5]/z[115] - state_[18]*z[210]*z[5]*z[6]/z[114] - state_[18]*z[273]*z[3]*z[5]/z[114] - state_[8]*(state_[13]*z[40]*z[5]*z[6] + z[353]) + z[388];
  z[407] = -front_.R*state_[13]*state_[9]*z[1]*z[5]*z[6]/(z[17]*z[4]) + state_[10]*state_[17]*z[153]*z[2]*z[3]/(2*z[114]) - state_[10]*state_[17]*z[2]*z[6]/z[113] - state_[11]*state_[17]*z[153]*z[5]*z[6]/(2*z[114]) - state_[11]*state_[17]*z[3]*z[5]/z[113] - 3*state_[17]*z[153]*z[217]*z[3]*z[5]/(4*z[115]) + state_[17]*z[217]*z[5]*z[6]/(2*z[114]) + state_[17]*z[279]*z[3]*z[5]/(2*z[114]) + 3*state_[18]*z[153]*z[217]*z[58]/(4*z[115]) - state_[18]*z[153]*z[156]/(2*z[114]) + state_[18]*z[217]*z[63]/(2*z[114]) - state_[18]*z[279]*z[58]/(2*z[114]) + state_[18]*z[150]/z[113] + state_[8]*(state_[17]*z[152]*z[58]/z[114] + state_[18]*z[152]*z[3]*z[5]/z[114] + z[235]) - z[40]*z[66];
  z[408] = -front_.R*z[1]*z[2]*z[259]/z[17] - front_.R*z[1]*z[2]*z[299]/z[17] - front_.R*z[1]*z[246]*z[5]/z[17] + front_.R*z[1]*z[285]*z[5]*z[6]/z[17] + front_.R*z[1]*z[3]*z[314]*z[5]/z[17] - z[1]*z[2]*z[259]*z[40] - z[1]*z[2]*z[299]*z[40] - z[1]*z[246]*z[40]*z[5] + z[1]*z[285]*z[40]*z[5]*z[6] + z[1]*z[3]*z[314]*z[40]*z[5];
  z[409] = 3*state_[17]*z[147]*z[218]*z[58]/z[115] + state_[17]*z[218]*z[63]/z[114] - state_[17]*z[280]*z[58]/z[114] + 3*state_[18]*z[147]*z[218]*z[3]*z[5]/z[115] - state_[18]*z[218]*z[5]*z[6]/z[114] - state_[18]*z[280]*z[3]*z[5]/z[114] - state_[8]*(state_[13]*z[40]*z[5]*z[6] - state_[17]*z[152]*z[3]*z[5]/z[114] + state_[17]*z[5]*z[6]/z[113] + state_[18]*z[152]*z[58]/z[114] + state_[18]*z[63]/z[113]) + z[388];
  z[410] = -front_.Ixx;
  z[411] = -front_.Iyy;
  z[412] = -front_.a;
  z[413] = -rear_.a;
  z[414] = -front_.b;
  z[415] = -rear_.b;
  z[416] = -front_.m;
  z[417] = -rear_.m;
  z[418] = -state_[10];
  z[419] = -state_[11];
  z[420] = -state_[13];
  z[421] = -state_[8];
  z[422] = -state_[9];
  z[423] = z[0]*z[422];
  z[424] = -front_.J*z[420];
  z[425] = -rear_.J*z[421];
  z[426] = z[417]*z[421];
  z[427] = -z[2]*z[412];
  z[428] = -z[3]*z[412];
  z[429] = -z[412]*z[5];
  z[430] = -z[412]*z[6];
  z[431] = -z[1]*z[413];
  z[432] = -z[3]*z[414];
  z[433] = -z[414]*z[5];
  z[434] = -z[414]*z[6];
  z[435] = -z[1]*z[415];
  z[436] = -z[419]*z[5];
  z[437] = -z[3]*z[420];
  z[438] = -z[420]*z[5];
  z[439] = -z[420]*z[6];
  z[440] = -z[4]*z[421];
  z[441] = -z[1]*z[422];
  z[442] = -z[4]*z[422];
  z[443] = -z[1];
  z[444] = -z[2];
  z[445] = z[0]*z[444];
  z[446] = -z[3];
  z[447] = z[0]*z[446];
  z[448] = -z[4];
  z[449] = -z[5];
  z[450] = z[0]*z[449];
  z[451] = -z[6];
  z[452] = z[1]*z[421];
  z[453] = z[443]*z[444];
  z[454] = z[443]*z[446];
  z[455] = z[443]*z[448];
  z[456] = z[443]*z[449];
  z[457] = z[443]*z[451];
  z[458] = z[444]*z[446];
  z[459] = z[444]*z[448];
  z[460] = z[444]*z[451];
  z[461] = z[446]*z[448];
  z[462] = z[446]*z[449];
  z[463] = z[448]*z[449];
  z[464] = z[448]*z[451];
  z[465] = z[449]*z[451];
  z[466] = -z[15]*z[414];
  z[467] = -z[9];
  z[468] = -z[11];
  z[469] = z[0]*z[468];
  z[470] = 1.0/z[448];
  z[471] = -z[13];
  z[472] = -z[14];
  z[473] = z[0]*z[472];
  z[474] = z[443]*z[470];
  z[475] = z[449]*z[467];
  z[476] = -z[12]*z[449];
  z[477] = z[451]*z[472];
  z[478] = rear_.R/z[17];
  z[479] = -z[417]/z[17];
  z[480] = -z[446]*z[472];
  z[481] = z[12]*z[414]*z[444];
  z[482] = z[12]*z[433];
  z[483] = z[15]*z[433];
  z[484] = -front_.R/z[17];
  z[485] = z[20]*z[443];
  z[486] = z[20]*z[444];
  z[487] = z[20]/z[470];
  z[488] = z[20]*z[451];
  z[489] = -1/(z[17]*z[470]);
  z[490] = z[467]*z[468];
  z[491] = z[467]*z[470];
  z[492] = -z[10]*z[470];
  z[493] = -z[12]*z[472];
  z[494] = z[451]*z[480];
  z[495] = z[20]*z[467];
  z[496] = z[41]*z[417];
  z[497] = z[41]*z[421];
  z[498] = z[467]*z[7]/z[471];
  z[499] = z[40]*z[443];
  z[500] = z[40]*z[444];
  z[501] = z[40]/z[470];
  z[502] = z[40]*z[449];
  z[503] = z[41]*z[443];
  z[504] = z[41]/z[470];
  z[505] = z[44]*z[443];
  z[506] = z[44]*z[446];
  z[507] = z[412]*z[61];
  z[508] = z[414]*z[61];
  z[509] = z[414]*z[63];
  z[510] = -z[39]*z[443];
  z[511] = -z[39]/z[470];
  z[512] = z[61]/z[470];
  z[513] = z[451]*z[61];
  z[514] = z[449]*z[63];
  z[515] = -z[443]*z[58];
  z[516] = -z[58]/z[470];
  z[517] = -z[449]*z[58];
  z[518] = -z[451]*z[58];
  z[519] = -z[434]*z[49];
  z[520] = -z[453]*z[58];
  z[521] = z[40]*z[44];
  z[522] = -z[39]*z[40];
  z[523] = z[40]*z[61];
  z[524] = z[40]*z[63];
  z[525] = -z[40]*z[49];
  z[526] = -z[40]*z[58];
  z[527] = -z[449]*z[93];
  z[528] = -z[58]*z[61];
  z[529] = -z[58]*z[63];
  z[530] = z[130]*z[411];
  z[531] = z[116]*z[411];
  z[532] = -front_.J*z[130];
  z[533] = -z[449]/z[114];
  z[534] = -z[446]/z[106];
  z[535] = -z[449]/z[113];
  z[536] = -z[132]*z[40];
  z[537] = z[58]/z[106];
  z[538] = z[58]/z[113];
  z[539] = z[70]/z[106];
  z[540] = z[147]*z[58];
  z[541] = z[93]/z[113];
  z[542] = -z[172]*z[40];
  z[543] = -z[61]*z[70]/z[114];
  z[544] = z[131]/z[114];
  z[545] = -z[180]*z[40];
  z[546] = z[135]/z[106];
  z[547] = z[147]/z[114];
  z[548] = z[147]/z[106];
  z[549] = z[109]*z[175];
  z[550] = -z[209]*z[443];
  z[551] = -z[203]*z[40];
  z[552] = -z[206]*z[40];
  z[553] = z[197]/z[114];
  z[554] = z[197]/z[113];
  z[555] = -z[253]*z[467];
  z[556] = -z[259]*z[412];
  z[557] = -z[259]*z[446];
  z[558] = -z[253]*z[40];
  z[559] = z[239]/z[113];
  z[560] = z[272]*z[467];
  z[561] = -z[267]*z[40];
  z[562] = z[272]*z[40];
  z[563] = -z[272]*z[58];
  z[564] = z[285]*z[451];
  z[565] = -z[299]*z[412];
  z[566] = -z[299]*z[446];
  z[567] = z[296]*z[58];
  z[568] = z[287]/z[113];
  z[569] = -z[314]*z[449];
  z[570] = -z[310]*z[41];
  z[571] = -z[318]*z[41];
  z[572] = -z[340]*z[467];
  z[573] = -z[347]*z[451];
  z[574] = -z[364]*z[467];
  z[575] = -z[364]*z[40];
  z[576] = -z[376]*z[467];
  z[577] = -z[384]*z[41];
  z[578] = z[389]*z[467];
  z[579] = z[389]*z[470];
  z[580] = z[389]*z[40];
  z[581] = z[390]/z[114];
  z[582] = z[390]/z[113];
  z[583] = z[390]*z[544];
  z[584] = z[392]/z[114];
  z[585] = z[392]/z[113];
  z[586] = -z[397]*z[467];
  z[587] = -z[401]*z[467];
  z[588] = -z[405]*z[467];

  m[0] = 0;
  m[1] = -z[249]*z[453] + z[254]*z[456] + z[261]*z[459] - z[263]*z[463] + z[322]*z[58] + z[347]*z[63] + z[361]*z[456] - z[362]*z[49] + z[363]*z[61] - z[375]*z[463] + z[416]*(front_.R*z[17]*z[246]*z[449] + front_.R*z[17]*z[259]*z[444] + front_.R*z[17]*z[285]*z[465] + front_.R*z[17]*z[299]*z[444] + front_.R*z[17]*z[314]*z[462] + z[143]*z[399] + z[166]*z[371] + z[170]*z[379] + z[201]*z[399] + z[206]*(-z[432]*z[58] + z[451]*z[87]) + z[222]*z[397] + z[246]*(-z[434]*z[58] - z[446]*z[87]) - z[285]*z[414]*z[58] + z[311]*z[455]*z[465]*z[484] + z[311]*z[508] - z[314]*z[87] - z[339]*z[453]*z[484]/z[470] - z[339]*z[507] - z[350]*z[454]*z[463]*z[484] + z[350]*z[94] - z[379]*z[449]*z[455]*z[484] - z[381]*z[453]*z[484]/z[470] - z[381]*z[507] - z[389]*(z[429]*z[512] - z[429]*z[515] - z[49]*z[508] - z[509]*z[58] + z[58]*z[87] + z[61]*z[94]) - z[391]*(-front_.R*z[17]*z[468] - front_.R*z[17]*z[472]) + z[391]*(z[427]*z[58] - z[433]*z[518] + z[462]*z[87]) + z[556]*z[58] + z[565]*z[58]) + z[417]*(z[175]*z[269] - z[182]*(z[42]/z[470] + z[43]*z[443] - z[453]*z[81] + z[456]*z[80] - z[459]*z[82] - z[463]*z[83]) + z[199]*z[215] + z[209]*(z[444]*z[80] + z[449]*z[81]) - z[271]*z[42] - z[300]*z[81] - z[302]*z[80] + z[370]*z[43] + z[383]*z[83] - z[384]*z[82]) + z[443]*(z[216] + z[39]*z[72] - z[44]*z[71]) - (-rear_.Iyy*z[4]*z[421]*z[422] + z[118]*z[44] - z[119]*z[39])/z[470];
  m[2] = z[248]*z[459] + z[249]*z[463] - z[252]*z[463] + z[254]*z[459] + z[297]*z[443] + z[322]*z[449]*z[461] + z[361]*z[459] + z[373]*z[61] - z[374]*z[49] - z[378]*z[463] + z[416]*(z[143]*z[402] + z[166]*z[204] + z[170]*z[241] + z[201]*z[402] + z[206]*(z[451]*z[68] - z[482]/z[470]) + z[222]*z[401] - z[241]*z[449]*z[455]*z[484] - z[243]*z[453]*z[484]/z[470] - z[243]*z[507] + z[246]*z[453]*z[484]/z[470] + z[246]*(-z[432]*z[451]*z[463] - z[446]*z[68]) - z[259]*z[428]*z[463] - z[259]*z[449]*z[455]*z[484] - z[285]*z[432]*z[463] + z[285]*z[453]*z[464]*z[484] - z[299]*z[428]*z[463] - z[299]*z[449]*z[455]*z[484] + z[314]*z[453]*z[461]*z[484] - z[314]*z[68] + z[325]*z[455]*z[465]*z[484] + z[325]*z[508] - z[343]*z[453]*z[484]/z[470] - z[343]*z[507] - z[352]*z[454]*z[463]*z[484] + z[352]*z[94] - z[389]*(-z[427]*z[443]*z[61] - z[428]*z[455]*z[472] - z[432]*z[463]*z[63] - z[433]*z[457]*z[61] + z[449]*z[454]*z[94] + z[58]*z[68]) + z[391]*(z[427]*z[449]*z[461] + z[429]*z[61] - z[432]*z[464]*z[472] - z[434]*z[444]*z[61] + z[458]*z[94] + z[462]*z[68])) + z[417]*(-z[182]*(z[453]*z[83] - z[456]*z[82] - z[467]*z[472]*z[478]/z[470] - z[478]*z[490]/z[470] + z[52]/z[470]) - z[209]*(z[444]*z[82] + z[449]*z[83]) + z[223]*z[43] - z[271]*z[52] - z[300]*z[453]*z[478]/z[470] + z[302]*z[449]*z[455]*z[478] - z[324]*z[82] + z[329]*z[83]) + z[463]*z[573];
  m[3] = z[322]*z[49] - z[345]*z[49] + z[347]*z[61] + z[354]*z[61] - z[377]*z[463] + z[416]*(z[143]*z[406] + z[166]*z[439]*z[484]*z[510] + z[170]*z[439]*z[484]*z[485] + z[180]*z[453]*z[484]/z[470] + z[180]*z[507] + z[201]*z[406] + z[206]*(-z[432]*z[49] + z[446]*z[94]) + z[222]*z[405] + z[246]*(z[451]*z[94] + z[519]) - z[285]*z[414]*z[49] + z[285]*z[454]*z[463]*z[484] + z[293]*z[455]*z[465]*z[484] + z[293]*z[508] - z[314]*z[455]*z[465]*z[484] - z[314]*z[508] - z[332]*z[454]*z[463]*z[484] + z[332]*z[94] - z[365]*z[453]*z[484]/z[470] - z[365]*z[507] - z[389]*(z[429]*z[443]*z[49] - z[49]*z[509] + z[63]*z[94]) + z[391]*(z[427]*z[49] + z[433]*z[451]*z[49] - z[465]*z[94]) + z[438]*z[488]*z[491]*z[7] + z[49]*z[556] + z[49]*z[565]);
  m[4] = 0;
  m[5] = 0;
  m[6] = 0;
  m[7] = 0;
  m[8] = z[257]*z[459] - z[258]*z[463] - z[356]*z[49] + z[358]*z[61] - z[372]*z[463] + z[416]*(z[143]*z[236] + z[166]*z[242] + z[170]*z[238] + z[201]*z[236] + z[222]*z[253] - z[233]*z[453]*z[484]/z[470] - z[233]*z[507] - z[238]*z[449]*z[455]*z[484] + z[304]*z[455]*z[465]*z[484] + z[304]*z[508] - z[331]*z[453]*z[484]/z[470] - z[331]*z[507] - z[335]*z[454]*z[463]*z[484] + z[335]*z[94]) + z[417]*(z[102]*z[175] + z[134]*z[199] + z[276]*z[43] - z[307]*z[82] + z[310]*z[83]) + z[443]*(z[208] - z[39]*z[51] + z[44]*z[50]);
  m[9] = -z[193]*z[463] + z[196]*z[459] + z[244]*z[443] - z[320]*z[49] + z[323]*z[61] - z[341]*z[463] + z[416]*(z[143]*z[369] + z[166]*z[232] - z[170]*z[255] + z[201]*z[369] + z[222]*z[340] + z[255]*z[449]*z[455]*z[484] - z[266]*z[453]*z[484]/z[470] - z[266]*z[507] + z[274]*z[455]*z[465]*z[484] + z[274]*z[508] - z[289]*z[453]*z[484]/z[470] - z[289]*z[507] - z[291]*z[454]*z[463]*z[484] + z[291]*z[94]) + z[417]*(z[175]*(-z[168] - z[497]) + z[199]*z[423]*z[474]*z[478] + z[230]*z[43] - z[317]*z[82] + z[318]*z[83]);
  m[10] = z[184]*z[459] - z[190]*z[463] + z[245]*z[61] - z[265]*z[49] - z[316]*z[463] + z[416]*(z[143]*z[367] - z[167]*z[453]*z[484]/z[470] - z[167]*z[507] + z[170]*z[179] - z[179]*z[449]*z[455]*z[484] + z[201]*z[367] - z[205]*z[455]*z[465]*z[484] - z[205]*z[508] + z[222]*z[364] + z[247]*z[454]*z[463]*z[484] - z[247]*z[94] + z[267]*z[453]*z[484]/z[470] + z[267]*z[507]) + z[417]*(z[0]*z[120]*z[43] - z[0]*z[20]*z[413]*z[82] + z[0]*z[20]*z[415]*z[83] + z[199]*z[41]*z[440] + z[549]);
  m[11] = -front_.Ixz*z[181]*z[463] - z[224]*z[49] + z[234]*z[61] + z[416]*(-z[123]*z[170] + z[123]*z[449]*z[455]*z[484] + z[132]*z[453]*z[484]/z[470] + z[132]*z[507] + z[143]*z[380] + z[166]*z[484]*z[505] - z[187]*z[453]*z[484]/z[470] - z[187]*z[507] + z[188]*z[454]*z[463]*z[484] - z[188]*z[94] + z[201]*z[380] + z[207]*z[455]*z[465]*z[484] + z[207]*z[508] + z[222]*z[376]);
  m[12] = rear_.J*z[39]*z[463] + rear_.J*z[44]*z[459] + z[417]*(z[199]*z[41]*z[440] + z[549]);
  m[13] = -front_.J*z[49]*z[75] + z[416]*(-z[143]*z[228] + z[166]*z[39]*z[454]*z[484] - z[170]*z[20]*z[454]*z[484] + z[172]*z[453]*z[484]/z[470] + z[172]*z[507] - z[20]*z[462]*z[491]*z[7] - z[201]*z[228] + z[203]*z[222]) - z[463]*z[532];
  m[14] = -z[426]*z[489]*(-z[23]*z[471] - z[444]*z[467]*z[73] + z[475]*z[59]);
  m[15] = z[426]*z[443]*z[489]*(-z[444]*z[59] - z[449]*z[73]);
  m[16] = 0;
  m[17] = z[416]*(z[201]*z[337] + z[222]*z[308] - z[337]*z[45]*z[455]*z[484]);
  m[18] = -z[416]*(-z[201]*z[272] - z[222]*z[296] + z[272]*z[45]*z[455]*z[484])/z[113];
  m[19] = 0;
  m[20] = 0;
  m[21] = z[261]*z[449] + z[263]*z[444] - z[362]*z[465] + z[363]*z[462] + z[375]*z[444] + z[416]*(-z[101]*z[371] + z[105]*z[379] + z[142]*z[397] + z[148]*z[399] + z[191]*z[397] + z[206]*z[443]*z[484] - z[206]*z[499] + z[246]*z[459]*z[484] - z[259]*z[463]*z[484] - z[285]*z[460]*z[484]*z[491] - z[285]*z[474]*z[484]*z[63] + z[285]*z[525] - z[299]*z[463]*z[484] + z[311]*z[432]*z[449] - z[311]*z[451]*z[453]*z[484] + z[311]*z[524] - z[314]*z[458]*z[484]*z[491] + z[314]*z[458]*z[484]/z[470] + z[314]*z[474]*z[484]*z[58] - z[314]*z[523] + z[339]*z[40]*z[456] - z[339]*z[428]*z[449] - z[339]*z[456]*z[484] + z[35]*z[350] + z[350]*z[446]*z[453]*z[484] - z[350]*z[526] + z[371]*z[501] - z[379]*z[40]*z[453] + z[379]*z[453]*z[484] + z[381]*z[40]*z[456] - z[381]*z[428]*z[449] - z[381]*z[456]*z[484] + z[387] + z[389]*z[474]*z[484] - z[389]*(z[35]*z[61] - z[428]*z[472]/z[470] - z[432]*z[449]*z[49]) + z[389]*(-z[455]*z[469]*z[484] - z[455]*z[473]*z[484] + z[468]*z[484]*z[492] + z[472]*z[484]*z[492]) - z[397]*z[40] + z[459]*z[484]*z[564]) + z[417]*(z[177]*z[215] - z[182]*z[474]*z[478] + z[182]*(-z[28]*z[443] + z[455]*z[469]*z[478] + z[455]*z[473]*z[478] - z[468]*z[478]*z[492] - z[472]*z[478]*z[492]) - z[215]*z[41] - z[271]*z[443]*z[478] - z[271]*z[503] + z[28]*z[370] - z[300]*z[459]*z[478] + z[302]*z[463]*z[478] + z[370]*z[504] + z[383]*z[41]*z[456] + z[383]*z[456]*z[478] - z[384]*z[453]*z[478] + z[385] + z[453]*z[577]);
  m[22] = z[248]*z[449] - z[249]*z[444] + z[252]*z[444] + z[254]*z[449] - z[322]*z[458] + z[347]*z[460] + z[361]*z[449] + z[373]*z[462] - z[374]*z[465] + z[378]*z[444] + z[416]*(-z[101]*z[204] + z[105]*z[241] + z[142]*z[401] + z[148]*z[402] + z[191]*z[401] + z[204]*z[501] + z[206]*(-z[29]*z[451] + z[481]) - z[241]*z[40]*z[453] + z[241]*z[453]*z[484] + z[243]*z[40]*z[456] - z[243]*z[428]*z[449] - z[243]*z[456]*z[484] + z[246]*(z[29]*z[446] + z[432]*z[460]) + z[285]*z[432]*z[444] + z[29]*z[314] + z[325]*z[432]*z[449] - z[325]*z[451]*z[453]*z[484] + z[325]*z[524] + z[343]*z[40]*z[456] - z[343]*z[428]*z[449] - z[343]*z[456]*z[484] + z[35]*z[352] + z[352]*z[446]*z[453]*z[484] - z[352]*z[526] - z[389]*(-z[29]*z[58] + z[35]*z[449]*z[454] + z[427]*z[447]*z[456] + z[432]*z[444]*z[63] + z[432]*z[457]*z[472]) + z[391]*(-z[29]*z[462] + z[35]*z[458] + z[428]*z[468] - z[428]*z[472] + z[432]*z[445]*z[465]) - z[40]*z[401] + z[408] - z[427]*z[557] - z[427]*z[566]) + z[417]*(z[182]*z[23]/z[470] + z[223]*z[28] + z[223]*z[504] + z[23]*z[271] - z[324]*z[41]*z[453] - z[324]*z[453]*z[478] + z[329]*z[41]*z[456] + z[329]*z[456]*z[478] + z[394]);
  m[23] = z[322]*z[465] - z[345]*z[465] + z[347]*z[462] + z[354]*z[462] + z[377]*z[444] + z[416]*(-z[101]*z[439]*z[484]*z[510] + z[105]*z[206] + z[105]*z[439]*z[484]*z[485] + z[142]*z[405] + z[148]*z[406] + z[180]*z[428]*z[449] + z[180]*z[456]*z[484] + z[191]*z[405] - z[246]*(-z[35]*z[451] + z[483]) - z[259]*z[429]*z[451] - z[285]*z[446]*z[453]*z[484] + z[285]*z[526] + z[293]*z[432]*z[449] - z[293]*z[451]*z[453]*z[484] + z[293]*z[524] - z[299]*z[429]*z[451] + z[314]*z[451]*z[453]*z[484] - z[314]*z[524] + z[332]*z[35] + z[332]*z[446]*z[453]*z[484] - z[332]*z[526] + z[365]*z[40]*z[456] - z[365]*z[428]*z[449] - z[365]*z[456]*z[484] - z[389]*(z[35]*z[63] - z[430]*z[443]*z[472] - z[433]*z[451]*z[63]) - z[391]*(z[35]*z[465] - z[427]*z[465] - z[466]*z[472]) - z[40]*z[405] + z[40]*z[439]*z[467]*z[484]*z[486] + z[432]*z[569] - z[433]*z[564] + z[439]*z[455]*z[484]*z[522] + z[439]*z[486]*z[498] + z[456]*z[545]);
  m[24] = 0;
  m[25] = 0;
  m[26] = 0;
  m[27] = 0;
  m[28] = z[257]*z[449] + z[258]*z[444] - z[356]*z[465] + z[358]*z[462] + z[372]*z[444] + z[416]*(-z[101]*z[242] + z[105]*z[238] + z[142]*z[253] + z[148]*z[236] + z[191]*z[253] + z[233]*z[40]*z[456] - z[233]*z[428]*z[449] - z[233]*z[456]*z[484] - z[238]*z[40]*z[453] + z[238]*z[453]*z[484] + z[242]*z[501] + z[304]*z[432]*z[449] - z[304]*z[451]*z[453]*z[484] + z[304]*z[524] + z[331]*z[40]*z[456] - z[331]*z[428]*z[449] - z[331]*z[456]*z[484] + z[335]*z[35] + z[335]*z[446]*z[453]*z[484] - z[335]*z[526] + z[558]) + z[417]*(z[134]*z[177] - z[134]*z[41] + z[276]*z[28] + z[276]*z[504] - z[307]*z[41]*z[453] - z[307]*z[453]*z[478] + z[310]*z[456]*z[478] - z[456]*z[570]);
  m[29] = z[193]*z[444] + z[196]*z[449] - z[320]*z[465] + z[323]*z[462] + z[341]*z[444] + z[416]*(-z[101]*z[232] - z[105]*z[255] + z[142]*z[340] + z[148]*z[369] + z[191]*z[340] + z[232]*z[501] + z[255]*z[40]*z[453] - z[255]*z[453]*z[484] + z[266]*z[40]*z[456] - z[266]*z[428]*z[449] - z[266]*z[456]*z[484] + z[274]*z[432]*z[449] - z[274]*z[451]*z[453]*z[484] + z[274]*z[524] + z[289]*z[40]*z[456] - z[289]*z[428]*z[449] - z[289]*z[456]*z[484] + z[291]*z[35] + z[291]*z[446]*z[453]*z[484] - z[291]*z[526] - z[340]*z[40]) + z[417]*(z[177]*z[423]*z[474]*z[478] + z[230]*z[28] + z[230]*z[504] - z[317]*z[41]*z[453] - z[317]*z[453]*z[478] + z[318]*z[456]*z[478] - z[41]*z[423]*z[474]*z[478] - z[456]*z[571]);
  m[30] = z[184]*z[449] + z[190]*z[444] + z[245]*z[462] - z[265]*z[465] + z[316]*z[444] + z[416]*(z[105]*z[179] + z[142]*z[364] + z[148]*z[367] + z[167]*z[40]*z[456] - z[167]*z[428]*z[449] - z[167]*z[456]*z[484] - z[179]*z[40]*z[453] + z[179]*z[453]*z[484] + z[191]*z[364] - z[205]*z[432]*z[449] + z[205]*z[451]*z[453]*z[484] - z[205]*z[524] - z[247]*z[35] - z[247]*z[446]*z[453]*z[484] + z[247]*z[526] + z[267]*z[428]*z[449] + z[267]*z[456]*z[484] + z[456]*z[561] + z[575]) + z[417]*(z[0]*z[120]*z[28] + z[0]*z[120]*z[504] + z[177]*z[41]*z[440] - z[20]*z[41]*z[431]*z[445] + z[20]*z[41]*z[435]*z[450] - z[20]*z[431]*z[445]*z[478] + z[20]*z[435]*z[450]*z[478] - z[440]*pow(-z[41], -z[0]));
  m[31] = -front_.Ixz*z[181]*z[2] - z[224]*z[465] + z[234]*z[462] + z[416]*(-z[101]*z[484]*z[505] - z[105]*z[123] + z[123]*z[40]*z[453] - z[123]*z[453]*z[484] + z[132]*z[428]*z[449] + z[132]*z[456]*z[484] + z[142]*z[376] + z[148]*z[380] + z[187]*z[40]*z[456] - z[187]*z[428]*z[449] - z[187]*z[456]*z[484] - z[188]*z[35] - z[188]*z[446]*z[453]*z[484] + z[188]*z[526] + z[191]*z[376] + z[207]*z[432]*z[449] - z[207]*z[451]*z[453]*z[484] + z[207]*z[524] - z[376]*z[40] + z[455]*z[484]*z[521] + z[456]*z[536]);
  m[32] = -rear_.J*z[39]*z[444] + rear_.J*z[44]*z[449] + z[41]*z[417]*z[440]*(z[177] - z[41]);
  m[33] = -front_.J*z[465]*z[75] + z[416]*(-z[101]*z[39]*z[454]*z[484] - z[105]*z[20]*z[454]*z[484] + z[142]*z[203] - z[148]*z[228] + z[172]*z[428]*z[449] + z[172]*z[456]*z[484] + z[191]*z[203] + z[39]*z[454]*z[484]*z[501] - z[40]*z[458]*z[484]*z[495] + z[456]*z[542] - z[458]*z[495]*z[7]/z[471] + z[551]) + z[444]*z[532];
  m[34] = -z[426]*z[489]*(z[177] - z[41]);
  m[35] = 0;
  m[36] = 0;
  m[37] = z[416]*(z[191]*z[308] - z[308]*z[40] + z[308]*z[45]*z[467]*z[484]);
  m[38] = -z[296]*z[416]*(-z[191] + z[40] - z[45]*z[467]*z[484])/z[113];
  m[39] = 0;
  m[40] = 0;
  m[41] = -z[216] - z[26]*z[44]*z[452] + z[27]*z[39]*z[452] + z[362]*z[446] + z[363]*z[451] + z[416]*(z[163]*z[397] - z[311]*z[40]*z[451]*z[463] + z[311]*z[434] + z[339]*z[40]*z[459] - z[339]*z[430] - z[350]*z[432] + z[350]*z[461]*z[502] + z[379]*z[40]*z[463] - z[379]*z[60] + z[381]*z[40]*z[459] - z[381]*z[430] - z[389]*(z[429]*z[464] - z[432]*z[61] + z[519]) - z[391]*z[443]*z[484] + z[391]*z[499] - z[399]*z[501] + z[399]*z[96] + z[408]) + z[417]*(-z[182]*z[43] + z[209]*z[503] + z[215]*z[42] - z[269]*z[28] - z[269]*z[504] + z[383]*z[41]*z[459] + z[383]*z[413] - z[384]*z[415] + z[394] - z[463]*z[577] - z[478]*z[550]);
  m[42] = -z[297] + z[373]*z[451] + z[374]*z[446] + z[416]*(z[163]*z[401] + z[241]*z[40]*z[463] - z[241]*z[60] + z[243]*z[40]*z[459] - z[243]*z[430] - z[314]*z[458]*z[501] - z[325]*z[40]*z[451]*z[463] + z[325]*z[434] + z[343]*z[40]*z[459] - z[343]*z[430] - z[352]*z[432] + z[352]*z[461]*z[502] + z[387] - z[389]*(-z[427]*z[457] - z[443]*z[482] - z[443]*z[483]) - z[391]*(-z[429]*z[451] - z[444]*z[466] + z[481]) - z[40]*z[459]*z[564] - z[402]*z[501] + z[402]*z[96]) + z[417]*(z[182]*(-z[431]*z[444] + z[435]*z[449]) - z[209]*z[23] + z[324]*z[41]*z[463] - z[324]*z[415] + z[329]*z[41]*z[459] + z[329]*z[413] + z[385]);
  m[43] = -z[322]*z[446] + z[345]*z[446] + z[354]*z[451] + z[416]*(z[163]*z[405] + z[180]*z[430] + z[259]*z[428] + z[285]*z[432] - z[285]*z[461]*z[502] - z[293]*z[40]*z[451]*z[463] + z[293]*z[434] + z[299]*z[428] + z[314]*z[40]*z[451]*z[463] - z[314]*z[434] - z[332]*z[432] + z[332]*z[461]*z[502] + z[365]*z[40]*z[459] - z[365]*z[430] + z[396] + z[40]*z[438]*z[455]*z[484]*z[488] - z[406]*z[501] + z[406]*z[96] - z[439]*z[484]*z[485]*z[60] + z[459]*z[545]) - z[573];
  m[44] = 0;
  m[45] = 0;
  m[46] = 0;
  m[47] = 0;
  m[48] = -z[208] + z[26]*z[44]/z[470] + z[27]*z[511] + z[356]*z[446] + z[358]*z[451] + z[416]*(z[163]*z[253] + z[233]*z[40]*z[459] - z[233]*z[430] - z[236]*z[501] + z[236]*z[96] + z[238]*z[40]*z[463] - z[238]*z[60] - z[304]*z[40]*z[451]*z[463] + z[304]*z[434] + z[331]*z[40]*z[459] - z[331]*z[430] - z[335]*z[432] + z[335]*z[461]*z[502]) + z[417]*(-z[102]*z[28] - z[102]*z[504] + z[134]*z[42] + z[307]*z[41]*z[463] - z[307]*z[415] + z[310]*z[413] - z[459]*z[570]);
  m[49] = -z[244] + z[320]*z[446] + z[323]*z[451] + z[416]*(z[163]*z[340] - z[255]*z[40]*z[463] + z[255]*z[60] + z[266]*z[40]*z[459] - z[266]*z[430] - z[274]*z[40]*z[451]*z[463] + z[274]*z[434] + z[289]*z[40]*z[459] - z[289]*z[430] - z[291]*z[432] + z[291]*z[461]*z[502] - z[369]*z[501] + z[369]*z[96]) + z[417]*(-z[28]*(-z[168] - z[497]) + z[317]*z[41]*z[463] - z[317]*z[415] + z[318]*z[413] + z[42]*z[423]*z[474]*z[478] - z[459]*z[571] - z[504]*(-z[168] - z[497]));
  m[50] = z[245]*z[451] + z[265]*z[446] + z[416]*(z[163]*z[364] + z[167]*z[40]*z[459] - z[167]*z[430] + z[179]*z[40]*z[463] - z[179]*z[60] + z[205]*z[40]*z[451]*z[463] - z[205]*z[434] + z[247]*z[432] - z[247]*z[461]*z[502] + z[267]*z[430] - z[367]*z[501] + z[367]*z[96] + z[459]*z[561]) + z[417]*(-z[0]*z[2]*z[41]*z[415]*z[487] - z[109]*z[28] - z[109]*z[504] - z[20]*z[4]*z[41]*z[413]*z[450] + z[41]*z[42]*z[440]);
  m[51] = z[224]*z[446] + z[234]*z[451] + z[416]*(-z[123]*z[40]*z[463] + z[123]*z[60] + z[132]*z[430] + z[163]*z[376] + z[187]*z[40]*z[459] - z[187]*z[430] + z[188]*z[432] - z[188]*z[461]*z[502] - z[207]*z[40]*z[451]*z[463] + z[207]*z[434] - z[380]*z[501] + z[380]*z[96] + z[459]*z[536]);
  m[52] = z[417]*z[443]*(-rear_.r*z[28]*z[422] - rear_.r*z[41]*z[442] - z[23]*z[41]*z[440]);
  m[53] = front_.J*z[446]*z[75] + z[416]*(z[163]*z[203] + z[172]*z[430] - z[20]*z[40]*z[454]*z[463]*z[484] + z[20]*z[454]*z[484]*z[60] + z[228]*z[501] - z[228]*z[96] + z[459]*z[542]);
  m[54] = -z[23]*z[426]*z[455]/z[17];
  m[55] = -z[426]*z[489]*(z[28] + z[504]);
  m[56] = 0;
  m[57] = z[416]*(z[163]*z[308] - z[337]*z[501] + z[337]*z[96]);
  m[58] = -z[416]*(-z[163]*z[296] + z[272]*z[501] - z[272]*z[96])/z[113];
  m[59] = 0;
  m[60] = 0;
  m[61] = front_.Ixz*z[421]*(z[422]*z[49] + z[97]) + front_.Izz*z[421]*z[53] + z[116]*z[421]*(-front_.Ixz*z[456] + z[410]*z[63]) - z[294] + z[416]*(-z[145]*z[379] + z[171]*z[311] + z[178]*z[350] - z[206]*z[453]*z[484] - z[229]*z[314] + z[246]*z[484]*z[491] + z[246]*(-z[468]*z[501] + z[470]*z[484]*z[490] + z[472]*z[484]*z[491] - z[472]*z[501]) - z[246]*z[484]/z[470] - z[285]*z[464]*z[484] - z[285]*(z[40]*z[464]*z[472] - z[453]*z[470]*z[484]*z[63] - z[477]*z[484]*z[491] - z[49]*z[500]) + z[311]*z[457]*z[484] + z[314]*z[446]*z[484]*z[491] - z[314]*z[461]*z[484] - z[350]*z[412] - z[350]*z[454]*z[484] - z[371]*z[40]*z[459] + z[371]*z[430] - z[379]*z[428] - z[379]*z[443]*z[484] + z[389]*z[444]*z[484]*z[492] - z[389]*z[445]*z[455]*z[484] + z[389]*z[507] - z[391]*z[40]*z[463] + z[391]*z[463]*z[484] + z[397]*z[412]*z[58] + z[397]*z[500] - z[399]*z[40]*z[456] + z[399]*z[428]*z[449] + z[399]*z[456]*z[484] - z[444]*z[484]*z[586] - z[453]*z[484]*z[579] - z[453]*z[552] + z[484]*z[491]*z[564]);
  m[62] = z[161]*z[506] - z[262] + z[416]*(-z[145]*z[241] + z[171]*z[325] - z[174]*z[285] - z[176]*z[314] + z[178]*z[352] - z[204]*z[40]*z[459] + z[204]*z[430] - z[241]*z[428] - z[241]*z[443]*z[484] + z[325]*z[457]*z[484] - z[352]*z[412] - z[352]*z[454]*z[484] - z[389]*z[475]*z[484] - z[389]*z[502] + z[391]*z[40]*z[453] - z[391]*z[453]*z[484] + z[396] - z[40]*z[402]*z[456] + z[401]*z[412]*z[58] + z[401]*z[500] + z[402]*z[428]*z[449] + z[402]*z[456]*z[484] - z[444]*z[484]*z[587] + z[463]*z[552]) + z[424]*z[44]*z[451] + z[44]*z[451]*z[531] - z[506]*z[530];
  m[63] = -z[377] + z[416]*(-z[145]*z[439]*z[484]*z[485] - z[15]*z[39]*z[412]*z[420]*z[443]*z[484] + z[171]*z[293] - z[171]*z[314] - z[178]*z[285] + z[178]*z[332] - z[206]*z[428] - z[246]*z[430] + z[285]*z[454]*z[484] + z[293]*z[457]*z[484] - z[314]*z[457]*z[484] - z[332]*z[412] - z[332]*z[454]*z[484] + z[389]*z[412]*z[63] + z[39]*z[439]*z[453]*z[484]*z[501] + z[391]*z[429]*z[451] - z[40]*z[406]*z[456] + z[405]*z[412]*z[58] + z[405]*z[500] + z[406]*z[428]*z[449] + z[406]*z[456]*z[484] - z[428]*z[439]*z[484]*z[485] - z[439]*z[495]*z[7]/z[471] - z[444]*z[484]*z[588]);
  m[64] = 0;
  m[65] = 0;
  m[66] = 0;
  m[67] = 0;
  m[68] = -z[372] + z[416]*(-z[145]*z[238] + z[171]*z[304] + z[178]*z[335] - z[236]*z[40]*z[456] + z[236]*z[428]*z[449] + z[236]*z[456]*z[484] - z[238]*z[428] - z[238]*z[443]*z[484] - z[242]*z[40]*z[459] + z[242]*z[430] + z[253]*z[412]*z[58] + z[253]*z[500] + z[304]*z[457]*z[484] - z[335]*z[412] - z[335]*z[454]*z[484] - z[444]*z[484]*z[555]);
  m[69] = front_.Izz*z[449]*(-z[418] + z[452]) - z[326] + z[416]*(z[145]*z[255] + z[171]*z[274] + z[178]*z[291] - z[232]*z[40]*z[459] + z[232]*z[430] + z[255]*z[428] + z[255]*z[443]*z[484] + z[274]*z[457]*z[484] - z[291]*z[412] - z[291]*z[454]*z[484] + z[340]*z[412]*z[58] + z[340]*z[500] - z[369]*z[40]*z[456] + z[369]*z[428]*z[449] + z[369]*z[456]*z[484] - z[444]*z[484]*z[572]);
  m[70] = -front_.Ixz*z[451]*(z[419] - z[44]) + front_.Izz*z[39] - z[116]*z[410]*z[446] - z[161]*z[451] + z[416]*(-z[145]*z[179] - z[171]*z[205] - z[178]*z[247] - z[179]*z[428] - z[179]*z[443]*z[484] - z[205]*z[457]*z[484] + z[247]*z[412] + z[247]*z[454]*z[484] + z[364]*z[412]*z[58] + z[364]*z[500] - z[367]*z[40]*z[456] + z[367]*z[428]*z[449] + z[367]*z[456]*z[484] - z[444]*z[484]*z[574]) + z[424]*z[446] + z[446]*z[531] + z[451]*z[530];
  m[71] = -front_.Ixz*z[116] - front_.Ixz*z[98] + z[416]*(z[123]*z[145] + z[123]*z[428] + z[123]*z[443]*z[484] + z[171]*z[207] - z[178]*z[188] + z[188]*z[412] + z[188]*z[454]*z[484] + z[207]*z[457]*z[484] + z[376]*z[412]*z[58] + z[376]*z[500] - z[380]*z[40]*z[456] + z[380]*z[428]*z[449] + z[380]*z[456]*z[484] + z[430]*z[484]*z[505] - z[44]*z[453]*z[484]*z[501] - z[444]*z[484]*z[576]);
  m[72] = 0;
  m[73] = z[416]*(z[12]*z[412]*z[484]*z[485] + z[145]*z[20]*z[454]*z[484] + z[20]*z[446]*z[498] + z[203]*z[412]*z[58] + z[203]*z[444]*z[467]*z[484] + z[203]*z[500] + z[228]*z[40]*z[456] - z[228]*z[428]*z[449] - z[228]*z[456]*z[484] + z[39]*z[428]*z[457]*z[484] + z[453]*z[461]*z[484]*z[522]) - z[532];
  m[74] = 0;
  m[75] = 0;
  m[76] = 0;
  m[77] = -z[416]*(z[272]*z[500] + z[296]*z[40]*z[456] - z[296]*z[428]*z[449] - z[296]*z[456]*z[484] - z[412]*z[563] + z[444]*z[484]*z[560])/z[113];
  m[78] = -z[416]*(-z[272]*z[428]*z[449] - z[272]*z[456]*z[484] - z[296]*z[444]*z[467]*z[484] - z[296]*z[500] - z[412]*z[567] + z[456]*z[562])/z[113];
  m[79] = 0;
  m[80] = 0;
  m[81] = z[417]*(z[209]*z[503] - z[269]*z[504] + z[383]*z[41]*z[459] + z[394] - z[463]*z[577] - z[478]*z[550]) + z[425]*z[441];
  m[82] = -z[417]*z[504]*(z[300]*z[444] - z[302]*z[449] - z[324]*z[449] - z[329]*z[444]);
  m[83] = 0;
  m[84] = 0;
  m[85] = 0;
  m[86] = 0;
  m[87] = 0;
  m[88] = -(rear_.J*z[422] - z[496]*(-z[102] + z[307]*z[449] + z[310]*z[444]))/z[470];
  m[89] = -(-z[425] - z[496]*(z[168] + z[317]*z[449] + z[318]*z[444] + z[497]))/z[470];
  m[90] = z[496]*(-z[18] + z[92])/z[470];
  m[91] = 0;
  m[92] = -z[18]*z[417]*z[504];
  m[93] = 0;
  m[94] = 0;
  m[95] = z[17]*z[41]*z[426];
  m[96] = 0;
  m[97] = 0;
  m[98] = 0;
  m[99] = 0;
  m[100] = 0;
  m[101] = front_.J*z[421]*(z[108] - z[422]*z[61]) + z[416]*(z[176]*z[379] - z[178]*z[339] - z[178]*z[381] + z[189]*z[311] - z[206]*z[449]*z[454]*z[484] + z[206]*z[454]*z[502] + z[229]*z[259] + z[229]*z[299] + z[246]*(z[40]*z[458]*z[463] + z[456]*z[470]*z[484]*z[58] - z[458]*z[470]*z[475]*z[484] - z[502]*z[61]) + z[259]*z[461]*z[484] - z[285]*(-z[454]*z[470]*z[484]*z[514] + z[456]*z[470]*z[484]*z[518] + z[462]*z[525] + z[465]*z[523]) + z[299]*z[461]*z[484] + z[339]*z[454]*z[484] - z[371]*z[461]*z[502] + z[381]*z[454]*z[484] - z[389]*z[447]*z[449]*z[455]*z[484] + z[389]*z[462]*z[484]*z[492] + z[391]*z[458]*z[484]*z[491] - z[391]*z[458]*z[484]/z[470] - z[391]*z[474]*z[484]*z[58] + z[391]*z[523] + z[397]*z[40]*z[462] - z[399]*z[446]*z[453]*z[484] + z[399]*z[526] - z[449]*z[454]*z[484]*z[579] - z[462]*z[484]*z[586] + z[484]*z[491]*z[557] + z[484]*z[491]*z[566]);
  m[102] = -front_.J*z[159] + z[416]*(z[176]*z[241] + z[176]*z[259] + z[176]*z[299] - z[178]*z[243] - z[178]*z[343] + z[189]*z[325] - z[204]*z[461]*z[502] + z[206]*z[458]*z[501] + z[243]*z[454]*z[484] + z[246]*(z[40]*z[454]*z[468] - z[500]*z[58]) - z[285]*(z[458]*z[524] - z[460]*z[526]) + z[343]*z[454]*z[484] - z[391]*z[449]*z[454]*z[484] + z[391]*z[454]*z[502] + z[40]*z[401]*z[462] - z[402]*z[446]*z[453]*z[484] + z[402]*z[526] + z[458]*z[484]*z[578] + z[458]*z[580] - z[462]*z[484]*z[587]);
  m[103] = -front_.J*z[195] + z[416]*(z[171]*z[259] + z[171]*z[299] + z[174]*z[246] + z[176]*z[439]*z[484]*z[485] + z[178]*z[180] - z[178]*z[365] - z[180]*z[454]*z[484] + z[189]*z[293] + z[259]*z[457]*z[484] + z[299]*z[457]*z[484] + z[365]*z[454]*z[484] - z[391]*z[451]*z[453]*z[484] + z[391]*z[524] + z[40]*z[405]*z[462] - z[406]*z[446]*z[453]*z[484] + z[406]*z[526] - z[437]*z[455]*z[465]*z[484]*z[522] + z[451]*z[463]*z[552] - z[462]*z[484]*z[588] - z[465]*z[484]*z[578] - z[465]*z[580]);
  m[104] = 0;
  m[105] = 0;
  m[106] = 0;
  m[107] = 0;
  m[108] = -front_.J*z[154] + z[416]*(z[176]*z[238] - z[178]*z[233] - z[178]*z[331] + z[189]*z[304] + z[233]*z[454]*z[484] - z[236]*z[446]*z[453]*z[484] + z[236]*z[526] - z[242]*z[461]*z[502] + z[331]*z[454]*z[484] - z[462]*z[484]*z[555] - z[462]*z[558]);
  m[109] = -front_.J*z[133] + z[416]*(-z[176]*z[255] - z[178]*z[266] - z[178]*z[289] + z[189]*z[274] - z[232]*z[461]*z[502] + z[266]*z[454]*z[484] + z[289]*z[454]*z[484] + z[340]*z[40]*z[462] - z[369]*z[446]*z[453]*z[484] + z[369]*z[526] - z[462]*z[484]*z[572]);
  m[110] = front_.J*z[446]*(z[419] - z[44]) + z[416]*(-z[167]*z[178] + z[167]*z[454]*z[484] + z[176]*z[179] + z[178]*z[267] - z[189]*z[205] - z[267]*z[454]*z[484] - z[367]*z[446]*z[453]*z[484] + z[367]*z[526] - z[462]*z[484]*z[574] - z[462]*z[575]);
  m[111] = front_.J*z[104] + z[416]*(-z[123]*z[176] + z[132]*z[178] - z[132]*z[454]*z[484] - z[178]*z[187] + z[187]*z[454]*z[484] + z[189]*z[212] + z[376]*z[40]*z[462] - z[382]*z[446]*z[453]*z[484] + z[382]*z[526] - z[454]*z[463]*z[484]*z[521] - z[462]*z[484]*z[576]);
  m[112] = 0;
  m[113] = z[416]*(z[103]*z[121]*z[40]*z[484] - z[103]*z[454]*z[7]/z[471] + z[203]*z[462]*z[467]*z[484] + z[228]*z[446]*z[453]*z[484] - z[228]*z[526] + z[40]*z[454]*z[463]*z[484]*z[488] - z[455]*z[476]*z[484]*z[522] - z[462]*z[551]);
  m[114] = 0;
  m[115] = 0;
  m[116] = 0;
  m[117] = -z[416]*(z[296]*z[446]*z[453]*z[484] - z[296]*z[526] + z[462]*z[484]*z[560] + z[462]*z[562])/z[113];
  m[118] = z[416]*(z[337]*z[40]*z[462] + z[337]*z[462]*z[467]*z[484] - z[278]*z[446]*z[453]*z[484]/z[113] + z[278]*z[526]/z[113]);
  m[119] = 0;
  m[120] = 0;
  m[121] = z[479]*(z[269] - z[383]*z[444] - z[386]*z[449])/z[470];
  m[122] = z[479]*(-z[298]*z[449] + z[300]*z[444] - z[328]*z[449] - z[329]*z[444])/z[470];
  m[123] = 0;
  m[124] = 0;
  m[125] = 0;
  m[126] = 0;
  m[127] = 0;
  m[128] = z[479]*(z[102] - z[303]*z[449] - z[306]*z[444])/z[470];
  m[129] = z[479]*(-z[168] - z[313]*z[449] - z[319]*z[444] - z[497])/z[470];
  m[130] = z[417]*z[489]*(rear_.r*z[441] - z[92]);
  m[131] = 0;
  m[132] = z[18]*z[479]/z[470];
  m[133] = 0;
  m[134] = 0;
  m[135] = z[426];
  m[136] = 0;
  m[137] = 0;
  m[138] = 0;
  m[139] = 0;
  m[140] = 0;
  m[141] = z[479]*(z[136] + z[168]*z[421] + z[270]*z[443] - z[298]*z[463] + z[300]*z[459] - z[368]/z[470] - z[383]*z[456] + z[386]*z[453])/z[470];
  m[142] = z[479]*(-z[223]/z[470] + z[298]*z[453] + z[300]*z[456] + z[328]*z[453] - z[329]*z[456])/z[470];
  m[143] = 0;
  m[144] = 0;
  m[145] = 0;
  m[146] = 0;
  m[147] = 0;
  m[148] = z[479]*(z[134] - z[277]/z[470] + z[303]*z[453] - z[306]*z[456])/z[470];
  m[149] = z[417]*(rear_.R*z[423]*z[443]/z[471] + z[17]*z[230] + z[313]*z[453]*z[489] + z[319]*z[449]*z[455]/z[17]);
  m[150] = z[417]*z[489]*(-z[0]*z[120]/z[470] + z[20]*z[431]*z[445] - z[20]*z[435]*z[450] + z[41]*z[440]);
  m[151] = 0;
  m[152] = -z[17]*z[41]*z[426];
  m[153] = 0;
  m[154] = -z[426];
  m[155] = 0;
  m[156] = 0;
  m[157] = 0;
  m[158] = 0;
  m[159] = 0;
  m[160] = 0;
  m[161] = z[417]*(-z[270]/z[470] - z[298]*z[456] + z[300]*z[453] - z[368]*z[443] + z[383]*z[463] - z[386]*z[459]);
  m[162] = z[417]*(-z[223]*z[443] - z[300]*z[463] - z[302]*z[459] - z[324]*z[459] + z[329]*z[463]);
  m[163] = 0;
  m[164] = 0;
  m[165] = 0;
  m[166] = 0;
  m[167] = 0;
  m[168] = z[417]*(-z[277]*z[443] - z[303]*z[459] + z[306]*z[463]);
  m[169] = z[417]*(-z[230]*z[443] - z[313]*z[459] + z[319]*z[463]);
  m[170] = z[417]*(-z[0]*z[120]*z[443] + z[0]*z[2]*z[413]*z[487] - z[20]*z[4]*z[415]*z[450]);
  m[171] = 0;
  m[172] = 0;
  m[173] = 0;
  m[174] = 0;
  m[175] = 0;
  m[176] = 0;
  m[177] = 0;
  m[178] = 0;
  m[179] = 0;
  m[180] = 0;
  m[181] = z[416]*(z[146]*z[359] + z[185]*z[338] - z[185]*z[355]*z[484] - z[197]*z[454]*z[535] + z[200]*z[309] - z[231]*z[535]*(z[457] + z[520]*z[534]*z[61] + z[539]*z[61]) + z[239]*z[312] - z[287]*z[535]*(-z[446]*z[49] - z[513]*z[539] + z[513] + z[446]*z[528]*z[63]/z[106]) + z[301]*z[312] - z[342]*z[461]*z[484]*z[535] + z[392]*z[543] - z[400]*z[538] + z[461]*z[517]*z[553]*z[61] - z[462]*z[528]*z[581] + z[585]*z[61] + z[398]*z[462]/z[113]);
  m[182] = z[416]*(z[131]*z[197]*z[461]*z[533] - z[146]*z[220]*z[484] + z[185]*z[226] + z[185]*z[344] + z[200]*z[330] + z[239]*z[336] + z[301]*z[336] - z[392]*z[454]*z[535] - z[392]*z[544]*z[58] - z[404]*z[538] - z[458]*z[582] + z[458]*z[554]/z[470] + z[462]*z[583] - z[183]*z[454]*z[463]*z[484]/z[113] - z[231]*(z[444]*z[58] - z[453]*z[462]*z[546] - z[454]*z[468] + z[517]*z[546])/z[113] - z[287]*(z[135]*z[465]*z[537] - z[458]*z[63] - z[460]*z[58] + z[462]*z[546]*z[63])/z[113] + z[403]*z[462]/z[113]);
  m[183] = z[416]*(-z[107]*z[185]*z[420]*z[484] + z[141]*z[147]*z[287]*z[533] + z[146]*z[439]*z[484]*z[485] - z[147]*z[197]*z[461]*z[533] + z[185]*z[366] + z[200]*z[295] + z[231]*z[535]*(-z[147]*z[453]*z[534] + z[147]*z[537] - z[461]) + z[315]*z[559] - z[390]*z[462]*z[547] - z[409]*z[538] - z[451]*z[463]*z[554] + z[465]*z[582] + z[540]*z[584] + z[585]*z[63] + z[301]*z[315]/z[113] + z[39]*z[437]*z[455]*z[465]*z[484]/z[113] + z[407]*z[462]/z[113]);
  m[184] = 0;
  m[185] = 0;
  m[186] = 0;
  m[187] = 0;
  m[188] = z[416]*(z[146]*z[213] + z[185]*z[211] + z[185]*z[334] + z[200]*z[305] + z[214]*z[461]*z[535] - z[236]*z[538] + z[251]*z[462]/z[113]);
  m[189] = -z[416]*(z[121]*z[225]*z[484] - z[121]*z[289] - z[141]*z[274]*z[449] + z[198]*z[454]*z[463]*z[484] + z[219]*z[451]*z[463]*z[484] - z[340]*z[462] + z[369]*z[58])/z[113];
  m[190] = z[416]*(-z[146]*z[437]*z[443]*z[484] - z[185]*z[267] + z[185]*z[48] - z[200]*z[205] - z[367]*z[538] + z[364]*z[462]/z[113]);
  m[191] = -z[416]*(z[121]*z[412]*(z[104] - z[130]) + z[121]*z[443]*z[46]*z[484] - z[141]*z[207]*z[449] - z[376]*z[462] - z[38]*z[442]*z[465]*z[484] + z[380]*z[58] + z[44]*z[454]*z[463]*z[484])/z[113];
  m[192] = 0;
  m[193] = -z[416]*(-z[103]*z[121]*z[484] - z[203]*z[462] - z[228]*z[58] - z[39]*z[455]*z[476]*z[484] - z[454]*z[463]*z[484]*z[488])/z[113];
  m[194] = 0;
  m[195] = 0;
  m[196] = 0;
  m[197] = z[416]*(z[308]*z[462] - z[337]*z[58])/z[113];
  m[198] = -z[416]*(-z[296]*z[462] - z[563])/z[106];
  m[199] = 0;
  m[200] = 0;
  m[201] = z[416]*(z[113]*z[349] + z[186]*z[359] + z[202]*z[309] + z[239]*z[286]*z[535] + z[286]*z[301]*z[535] + z[390]*z[543] - z[398]*z[538] + z[462]*z[528]*z[584] + z[512]*z[553]*z[70] - z[512]*z[554] + z[515]*z[554] + z[568]*(z[49]*z[58] + z[539]*z[61]*z[63] - z[61]*z[63] + z[494]*z[528]/z[106]) + z[582]*z[61] - z[231]*(z[453]*z[539]*z[61] - z[453]*z[61] + z[459]*z[58] + z[480]*z[528]/z[106])/z[113] - z[314]*z[528]*(z[0] + z[539] + z[493]/z[106])/z[113] + z[338]*z[527]/z[113] + z[342]*z[484]*z[516]/z[113] - z[355]*z[484]*z[527]/z[113] - z[400]*z[462]/z[113]);
  m[202] = z[416]*(z[113]*z[351] + z[183]*z[455]*z[484]*z[538] - z[186]*z[220]*z[484] - z[197]*z[516]*z[544] + z[202]*z[330] + z[327]*z[559] - z[390]*z[454]*z[535] - z[392]*z[462]*z[544] - z[403]*z[538] - z[454]*z[463]*z[554] + z[458]*z[585] - z[58]*z[583] + z[226]*z[527]/z[113] - z[231]*(-z[445]*z[462] + z[456]*z[58] + z[458]*z[475] - z[480]*z[546] - z[520]*z[546])/z[113] - z[287]*(z[445]*z[451]*z[462] + z[454]*z[514] + z[456]*z[518] + z[494]*z[546] + z[529]*z[546])/z[113] + z[301]*z[327]/z[113] + z[314]*(z[138]*z[539] - z[445]*z[476] + z[447]*z[456]*z[58] + z[138]*z[493]/z[106])/z[113] + z[344]*z[527]/z[113] - z[404]*z[462]/z[113]);
  m[203] = z[416]*(z[107]*z[438]*z[484]*z[541] + z[113]*z[332] + z[186]*z[439]*z[484]*z[485] + z[197]*z[516]*z[547] + z[202]*z[295] + z[239]*z[348] + z[301]*z[348] + z[392]*z[462]*z[547] - z[407]*z[538] - z[465]*z[585] + z[540]*z[581] + z[568]*(z[106] + z[15]*z[472] + z[494]*z[548] + z[529]*z[548] - pow(-z[63], -z[0])) + z[582]*z[63] - z[554]*z[63]/z[470] + z[231]*(z[453]*z[63] - z[477] - z[480]*z[548] - z[520]*z[548])/z[113] - z[314]*(z[153]*z[539] - 4*z[494] - 4*z[529] + z[153]*z[493]/z[106])/(2*z[113]) + z[366]*z[527]/z[113] - z[39]*z[439]*z[455]*z[484]*z[58]/z[113] - z[409]*z[462]/z[113]);
  m[204] = 0;
  m[205] = 0;
  m[206] = 0;
  m[207] = 0;
  m[208] = z[416]*(z[113]*z[335] + z[186]*z[213] + z[202]*z[305] - z[251]*z[538] + z[211]*z[527]/z[113] - z[214]*z[516]/z[113] - z[236]*z[462]/z[113] + z[334]*z[527]/z[113]);
  m[209] = z[416]*(z[113]*z[291] + z[186]*z[219]*z[484] + z[198]*z[455]*z[484]*z[538] + z[202]*z[275] - z[340]*z[538] - z[225]*z[484]*z[527]/z[113] + z[290]*z[527]/z[113] - z[369]*z[462]/z[113]);
  m[210] = z[416]*(-z[113]*z[247] - z[364]*z[538] + z[436]*z[443]*z[484]*z[541] - z[122]*z[437]*z[443]*z[484]/z[113] + z[147]*z[205]/z[113] - z[267]*z[527]/z[113] - z[367]*z[462]/z[113]);
  m[211] = z[416]*(z[113]*z[181]*z[414] - z[186]*z[38]*z[422]*z[484] + z[202]*z[212] - z[376]*z[538] + z[429]*z[541]*(z[104] - z[130]) + z[44]*z[455]*z[484]*z[538] + z[456]*z[46]*z[484]*z[541] - z[462]*(state_[17]*z[153]*z[58]/(2*z[114]) + state_[18]*z[153]*z[446]*z[449]/(2*z[114]) - z[281])/z[113]);
  m[212] = 0;
  m[213] = -z[416]*(-z[103]*z[484]*z[527] + z[122]*z[20]*z[454]*z[484] + z[203]*z[58] - z[228]*z[462] + z[454]*z[484]*z[511]*z[58])/z[113];
  m[214] = 0;
  m[215] = 0;
  m[216] = 0;
  m[217] = -z[416]*(z[296]*z[462] + z[563])/z[106];
  m[218] = -z[416]*(z[272]*z[462] + z[567])/z[106];
  m[219] = 0;
  m[220] = 0;
  m[221] = z[416]*(-z[197]/z[470] + z[231]*z[453] - z[239]*z[456] - z[287]*z[63] - z[301]*z[456] + z[309]*z[49] - z[314]*z[58] + z[338]*z[463] + z[342]*z[443]*z[484] - z[349]*z[61] - z[355]*z[463]*z[484] - z[359]*z[459]);
  m[222] = z[416]*(z[183]*z[467]*z[484] + z[220]*z[459]*z[484] + z[226]*z[463] - z[231]*z[463] - z[239]*z[459] + z[287]*z[451]*z[463] - z[301]*z[459] + z[330]*z[49] + z[344]*z[463] - z[351]*z[61] + z[461]*z[569]);
  m[223] = z[416]*(-z[107]*z[438]*z[484]/z[470] - z[287]*z[61] + z[295]*z[49] - z[314]*z[49] - z[332]*z[61] + z[366]*z[463] - z[39]*z[439]*z[467]*z[484] - z[439]*z[453]*z[484]*z[487]);
  m[224] = 0;
  m[225] = 0;
  m[226] = 0;
  m[227] = 0;
  m[228] = z[416]*(z[211]*z[463] - z[213]*z[459] - z[214]*z[443] + z[305]*z[49] + z[334]*z[463] - z[335]*z[61]);
  m[229] = z[416]*(z[198]*z[467]*z[484] - z[219]*z[459]*z[484] - z[225]*z[463]*z[484] + z[275]*z[49] + z[290]*z[463] - z[291]*z[61]);
  m[230] = z[416]*(-z[205]*z[49] + z[247]*z[61] - z[267]*z[463] + z[437]*z[453]*z[484]/z[470] + z[463]*z[48]);
  m[231] = z[416]*(-z[181]*z[508] - z[2]*z[38]*z[422]*z[484]/z[470] + z[207]*z[49] - z[429]*(z[104] - z[130])/z[470] + z[44]*z[467]*z[484] - z[449]*z[455]*z[46]*z[484]);
  m[232] = 0;
  m[233] = z[416]*z[484]*(z[103]*z[463] + z[20]*z[453]*z[461] + z[39]*z[446]*z[467]);
  m[234] = 0;
  m[235] = 0;
  m[236] = 0;
  m[237] = 0;
  m[238] = 0;
  m[239] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (12)

   @param[out] a C-array of with 12 elements
*/
//  void Bicycle::gaf(double m[12]) const;
void Bicycle::gaf(double m[12]) const
{
  double * z = new double[56];

  z[0] = sin(state_[1]);
  z[1] = sin(state_[2]);
  z[2] = sin(state_[3]);
  z[3] = cos(state_[1]);
  z[4] = cos(state_[2]);
  z[5] = cos(state_[3]);
  z[6] = front_.Tz + steer_torque_;
  z[7] = pow(z[1], 2);
  z[8] = pow(z[4], 2);
  z[9] = front_.Tw - front_.Ty;
  z[10] = rear_.Tz - steer_torque_;
  z[11] = sqrt(pow(z[3], 2));
  z[12] = rear_.a*z[4] + rear_.b*z[1];
  z[13] = front_.R/z[11] + front_.r;
  z[14] = rear_.R/z[11] + rear_.r;
  z[15] = rear_.a*z[1] - rear_.b*z[4];
  z[16] = front_.a*z[1] - front_.b*z[4]*z[5];
  z[17] = z[0]*z[1]*z[5] + z[2]*z[3];
  z[18] = z[0]*z[2] - z[1]*z[3]*z[5];
  z[19] = -z[0]*z[1]*z[2] + z[3]*z[5];
  z[20] = -z[19];
  z[21] = -z[0]*z[5] - z[1]*z[2]*z[3];
  z[22] = z[0]*z[2]*z[8] + z[1]*z[20];
  z[23] = rear_.Fx*z[14]*z[3]*z[4] + rear_.Fz*z[1]*z[14]*z[3];
  z[24] = -z[17]*z[2] + z[20]*z[5];
  z[25] = -(front_.Gx*z[20] + front_.Gy*z[2]*z[4])/sqrt(pow(z[2], 2)*z[8] + pow(z[20], 2));
  z[26] = -front_.Fx;
  z[27] = -rear_.Ty;
  z[28] = -rear_.b;
  z[29] = -front_.b*z[26];
  z[30] = front_.Fz*front_.a;
  z[31] = g_*front_.m;
  z[32] = g_*rear_.m;
  z[33] = rear_.Fx*z[1];
  z[34] = rear_.Fy*z[3];
  z[35] = front_.Fz*z[0];
  z[36] = front_.b*z[2];
  z[37] = -z[0];
  z[38] = -z[2];
  z[39] = -z[5];
  z[40] = z[37]*z[38];
  z[41] = -z[37]*z[4];
  z[42] = z[37]*z[39];
  z[43] = -z[3]*z[38];
  z[44] = -z[38]*z[4];
  z[45] = z[3]*z[4];
  z[46] = -z[1]*z[3];
  z[47] = rear_.Fz/z[11];
  z[48] = front_.R/z[11];
  z[49] = rear_.R/z[11];
  z[50] = -z[13]*z[26];
  z[51] = front_.Fy*z[13];
  z[52] = front_.Fz*z[13];
  z[53] = front_.b*z[18];
  z[54] = z[4]/sqrt(pow(z[20], 2) + pow(z[38], 2)*z[8]);
  z[55] = (front_.Gx*z[2]*z[4] - front_.Gy*z[20])/(pow(z[20], 2) + pow(z[38], 2)*z[8]);

  m[0] = rear_.Fx*z[37]*(z[28] + z[45]*z[49]) + front_.Fy*z[40]*z[45]*z[48] + front_.Fy*(front_.a*z[45] - z[53]) + rear_.Fz*z[37]*(rear_.a - z[46]*z[49]) - rear_.Tw*z[37] + front_.Tx*z[18] + rear_.Tx*z[46] + z[10]*z[45] + z[12]*z[34] - z[21]*z[29] + z[21]*z[30] + z[21]*z[9] - z[26]*z[3]*z[39]*z[41]*z[48] + z[32]*(-z[37]*(rear_.a*z[3]*z[4] - z[1]*z[28]*z[3]) - z[45]*(-rear_.a*z[37] + z[37]*z[46]*z[49]) - z[46]*(-z[28]*z[37] + z[3]*z[41]*z[49])) + z[35]*z[46]*z[48] + z[37]*(rear_.Tw + z[27]) + z[45]*z[6];
  m[1] = front_.Fy*z[1]*z[40]*z[48] + front_.Fy*z[16] + rear_.Fy*z[15] - rear_.Fz*z[14]*z[41] + rear_.R*z[41]*z[47] - front_.Tx*z[39]*z[4] + rear_.Tx*z[4] + z[1]*z[10] + z[1]*z[26]*z[42]*z[48] + z[1]*z[6] - z[13]*z[35]*z[4] - z[14]*z[33]*z[37] + z[14]*z[34] + z[17]*z[50] - z[20]*z[51] - z[29]*z[44] - z[3]*z[31]*z[37]*z[48]*(z[7] + z[8]) + z[30]*z[44] + z[31]*(front_.a*z[43]*z[8] - z[16]*z[21] - z[18]*z[36]*z[4]) - z[32]*z[37]*(z[15] + z[3]*z[49]*z[7] + z[3]*z[49]*z[8]) + z[33]*z[37]*z[49] + z[35]*z[4]*z[48] + z[44]*z[9];
  m[2] = -rear_.Fx*z[28] - front_.Fy*z[36] - rear_.Fz*rear_.a - front_.Tx*z[38] - z[12]*z[3]*z[32] - z[23] - z[27] - z[29]*z[39] + z[30]*z[39] - z[31]*(-front_.a*z[39]*z[45] - z[21]*z[36] + z[39]*z[53]) + z[39]*z[45]*z[50] + z[39]*z[9] + z[4]*z[43]*z[51] + z[46]*z[52];
  m[3] = front_.Fy*front_.a - front_.Fy*z[13]*z[22] + front_.Fy*z[40]*z[48] - front_.a*z[21]*z[31] + z[26]*z[42]*z[48] + z[31]*z[37]*z[46]*z[48] + z[50]*(z[1]*z[17] + z[42]*z[8]) + z[6];
  m[4] = rear_.Tw - z[23];
  m[5] = front_.Tw + z[22]*z[52] + z[24]*z[4]*z[50] - z[31]*z[40]*z[45]*z[48] + z[35]*z[38]*z[48];
  m[6] = rear_.Fx*z[45]/z[11] + rear_.Gx - z[46]*z[47];
  m[7] = rear_.Fy*z[11] + rear_.Gy - z[3]*z[41]*z[47] - z[3]*z[33]*z[37]/z[11];
  m[8] = -rear_.Fy*z[37] + rear_.Fz*z[45] + rear_.Gz - z[3]*z[33] + z[32];
  m[9] = -front_.Fz*z[22]/sqrt(pow(z[20], 2) + pow(z[38], 2)*z[8]) - z[20]*z[25]/sqrt(pow(z[20], 2) + pow(z[38], 2)*z[8]) + z[24]*z[26]*z[54] + z[44]*z[55];
  m[10] = front_.Fy*sqrt(pow(z[20], 2) + pow(z[38], 2)*z[8]) + front_.Fz*z[54]*(z[1]*z[38] - z[20]*z[37]) - z[20]*z[55] - z[25]*z[44]/sqrt(pow(z[20], 2) + pow(z[38], 2)*z[8]) + z[26]*(z[17]*z[20] + z[38]*z[39]*z[8])/sqrt(pow(z[20], 2) + pow(z[38], 2)*z[8]);
  m[11] = -front_.Fy*z[21] + front_.Fz*z[45] + front_.Gz - z[18]*z[26] + z[31];

  delete [] z;
}

/*!
   Computes the n-d array of shape (12, 30)

   @param[out] a C-array of with 360 elements
*/
//  void Bicycle::gaf_dqdr(double m[360]) const;
void Bicycle::gaf_dqdr(double m[360]) const
{
  double * z = new double[146];

  z[0] = sin(state_[1]);
  z[1] = sin(state_[2]);
  z[2] = sin(state_[3]);
  z[3] = cos(state_[1]);
  z[4] = cos(state_[2]);
  z[5] = cos(state_[3]);
  z[6] = front_.Tz + steer_torque_;
  z[7] = pow(z[0], 2);
  z[8] = pow(z[1], 2);
  z[9] = pow(z[2], 2);
  z[10] = pow(z[3], 2);
  z[11] = pow(z[4], 2);
  z[12] = pow(z[5], 2);
  z[13] = front_.Tw - front_.Ty;
  z[14] = rear_.Tz - steer_torque_;
  z[15] = sqrt(z[10]);
  z[16] = rear_.a*z[4] + rear_.b*z[1];
  z[17] = z[11] + z[8];
  z[18] = front_.R/z[15] + front_.r;
  z[19] = rear_.a*z[1] - rear_.b*z[4];
  z[20] = front_.a*z[4] + front_.b*z[1]*z[5];
  z[21] = front_.a*z[1] - front_.b*z[4]*z[5];
  z[22] = -rear_.R/z[15] - rear_.r;
  z[23] = z[0]*z[5] + z[1]*z[2]*z[3];
  z[24] = rear_.a*z[3]*z[4] + rear_.b*z[1]*z[3];
  z[25] = z[0]*z[2] - z[1]*z[3]*z[5];
  z[26] = -z[0]*z[1]*z[2] + z[3]*z[5];
  z[27] = -z[26];
  z[28] = -z[23];
  z[29] = -z[0]*z[1]*z[5] - z[2]*z[3];
  z[30] = front_.b - z[18]*z[3]*z[4];
  z[31] = rear_.R*z[0]*z[1]*z[3]/z[15] + rear_.a*z[0];
  z[32] = rear_.R*z[0]*z[3]*z[4]/z[15] - rear_.b*z[0];
  z[33] = front_.a*z[0]*z[4] - front_.b*z[29];
  z[34] = z[0]*z[27] - z[1]*z[2];
  z[35] = front_.Gx*z[2]*z[4] - front_.Gy*z[27];
  z[36] = front_.a*z[3]*z[4] - front_.b*z[25];
  z[37] = -front_.Gx*z[27] - front_.Gy*z[2]*z[4];
  z[38] = -z[0]*z[11]*z[5] + z[1]*z[29];
  z[39] = front_.Fx*z[18]*z[2]*z[3]*z[4] + front_.a*g_*front_.m*z[2]*z[3]*z[4];
  z[40] = -z[2]*z[34]*z[4];
  z[41] = -z[0]*z[2]*z[27]*z[4] + z[1]*z[4]*z[9];
  z[42] = z[2]*z[29] + z[27]*z[5];
  z[43] = z[11]*z[2]*z[5] - z[27]*z[29];
  z[44] = rear_.R*z[11]*z[3]/z[15] + rear_.R*z[3]*z[8]/z[15] + z[19];
  z[45] = 2*z[11]*z[2]*z[5] + z[27]*(2*z[0]*z[1]*z[5] + 2*z[2]*z[3]);
  z[46] = z[37]/sqrt(z[11]*z[9] + pow(z[27], 2));
  z[47] = -front_.Fx*front_.R*z[0]*z[4]*z[5]/z[15] + front_.Fx*z[0]*z[18]*z[4]*z[5] - rear_.Fx*rear_.R*z[0]*z[4]/z[15] - rear_.Fx*z[0]*z[22]*z[4] + front_.Fy*front_.R*z[0]*z[2]*z[4]/z[15] - front_.Fy*z[0]*z[18]*z[2]*z[4] - front_.Fz*front_.R*z[0]*z[1]/z[15] + front_.Fz*z[0]*z[1]*z[18] - rear_.Fz*rear_.R*z[0]*z[1]/z[15] - rear_.Fz*z[0]*z[1]*z[22] + g_*rear_.m*z[0]*z[16];
  z[48] = front_.Gx*z[27]*z[43]/(z[11]*z[9] + pow(z[27], 2)) + front_.Gx*z[29] + front_.Gy*z[2]*z[4]*z[43]/(z[11]*z[9] + pow(z[27], 2)) - front_.Gy*z[4]*z[5];
  z[49] = -front_.Fx;
  z[50] = -front_.Fy;
  z[51] = -front_.Fz;
  z[52] = -front_.Gx;
  z[53] = -front_.Gy;
  z[54] = -front_.Tx;
  z[55] = -front_.b;
  z[56] = -rear_.b;
  z[57] = z[49]*z[55];
  z[58] = z[50]*z[55];
  z[59] = -front_.a*z[51];
  z[60] = g_*front_.m;
  z[61] = g_*rear_.m;
  z[62] = -z[1]*z[49];
  z[63] = -z[2]*z[49];
  z[64] = -z[4]*z[49];
  z[65] = rear_.Fx*z[1];
  z[66] = rear_.Fx*z[4];
  z[67] = -z[0]*z[50];
  z[68] = -z[2]*z[50];
  z[69] = rear_.Fy*z[3];
  z[70] = -z[4]*z[51];
  z[71] = rear_.Fz*z[1];
  z[72] = rear_.Fz*z[4];
  z[73] = -z[4]*z[53];
  z[74] = -z[5]*z[54];
  z[75] = front_.a*z[1];
  z[76] = front_.a*z[2];
  z[77] = front_.a*z[4];
  z[78] = front_.a*z[5];
  z[79] = -z[4]*z[55];
  z[80] = -z[5]*z[55];
  z[81] = -z[0];
  z[82] = -z[1];
  z[83] = -z[2];
  z[84] = -z[3];
  z[85] = -z[5];
  z[86] = z[81]*z[82];
  z[87] = z[81]*z[83];
  z[88] = z[81]*z[84];
  z[89] = -z[4]*z[81];
  z[90] = z[81]*z[85];
  z[91] = z[82]*z[83];
  z[92] = z[82]*z[85];
  z[93] = z[83]*z[84];
  z[94] = -z[4]*z[83];
  z[95] = -z[4]*z[84];
  z[96] = z[84]*z[85];
  z[97] = -z[4]*z[85];
  z[98] = -z[82]*z[84];
  z[99] = -z[11];
  z[100] = z[83]*z[99];
  z[101] = z[84]*z[99];
  z[102] = front_.R/z[15];
  z[103] = rear_.R/z[15];
  z[104] = -z[84]/z[15];
  z[105] = -z[7]/z[84];
  z[106] = -z[9]*z[99];
  z[107] = rear_.Fy*z[16];
  z[108] = -z[18]*z[49];
  z[109] = -z[18]*z[50];
  z[110] = -z[16]*z[84];
  z[111] = z[22]*z[84];
  z[112] = -front_.a*z[28];
  z[113] = z[28]*z[55];
  z[114] = -z[18]*z[99];
  z[115] = -z[27]*z[52];
  z[116] = z[28]*z[81];
  z[117] = z[28]*z[82];
  z[118] = z[28]*z[85];
  z[119] = z[22]*z[95];
  z[120] = z[25]*z[55];
  z[121] = -z[25]*z[83];
  z[122] = -z[27]*z[82];
  z[123] = -z[27]*z[83];
  z[124] = z[27]*z[4];
  z[125] = z[29]/z[84];
  z[126] = -z[27]/z[84];
  z[127] = z[28]*z[29];
  z[128] = -z[27]*z[28];
  z[129] = -z[27]*z[29];
  z[130] = -z[49]/sqrt(z[106] + pow(z[27], 2));
  z[131] = 1/(2*sqrt(z[106] + pow(z[27], 2)));
  z[132] = -z[83]/(z[106] + pow(z[27], 2));
  z[133] = z[4]/sqrt(z[106] + pow(z[27], 2));
  z[134] = z[27]/(z[106] + pow(z[27], 2));
  z[135] = z[134]*z[27];
  z[136] = z[35]/pow(z[106] + pow(z[27], 2), 2);
  z[137] = z[35]/(z[106] + pow(z[27], 2));
  z[138] = z[41]/(z[106] + pow(z[27], 2));
  z[139] = z[43]/pow(z[106] + pow(z[27], 2), 3.0/2.0);
  z[140] = z[43]/(z[106] + pow(z[27], 2));
  z[141] = z[45]/(z[106] + pow(z[27], 2));
  z[142] = z[46]/sqrt(z[106] + pow(z[27], 2));
  z[143] = (front_.Gx*pow(z[27], 2)/(z[11]*z[9] + pow(z[27], 2)) - front_.Gx + front_.Gy*z[2]*z[27]*z[4]/(z[11]*z[9] + pow(z[27], 2)))/(z[106] + pow(z[27], 2));
  z[144] = z[28]*(front_.Gx*z[2]*z[27]*z[4]/(z[11]*z[9] + pow(z[27], 2)) - front_.Gy*pow(z[27], 2)/(z[11]*z[9] + pow(z[27], 2)) + front_.Gy)/(sqrt(z[106] + pow(z[27], 2))*sqrt(z[11]*z[9] + pow(z[27], 2)));
  z[145] = -(front_.Gx*z[2]*z[4]*z[45]/(z[11]*z[9] + pow(z[27], 2)) - 2*front_.Gx*z[4]*z[5] - front_.Gy*z[27]*z[45]/(z[11]*z[9] + pow(z[27], 2)) - 2*front_.Gy*z[29])/(2*sqrt(z[106] + pow(z[27], 2))*sqrt(z[11]*z[9] + pow(z[27], 2)));

  m[0] = 0;
  m[1] = rear_.Fx*z[84]*(z[103]*z[95] + z[56]) + rear_.Fz*z[84]*(rear_.a - z[103]*z[98]) + front_.R*z[15]*z[4]*z[68] - front_.R*z[15]*z[51]*z[82] + front_.R*z[15]*z[64]*z[85] - rear_.Tw*z[84] + rear_.Tx*z[86] + z[107]*z[81] + z[13]*z[27] - z[14]*z[89] - z[27]*z[57] + z[27]*z[59] + z[29]*z[54] + z[33]*z[50] - z[6]*z[89] + z[60]*(-z[113]*z[29] + z[116]*z[77] + z[120]*z[27] - z[27]*z[36] - z[27]*z[77]*z[84] + z[28]*z[33]) + z[61]*(-z[24]*z[84] + z[31]*z[89] - z[32]*z[86] + z[81]*(rear_.a*z[0]*z[4] + z[1]*z[56]*z[81]) - z[95]*(-rear_.R*z[15]*z[82] + rear_.a*z[3]) - z[98]*(rear_.R*z[15]*z[4] - z[56]*z[84])) + z[84]*(rear_.Tw - rear_.Ty);
  m[2] = -rear_.Tx*z[95] - z[102]*z[62]*z[85]*z[88] + z[102]*z[67]*z[84]*z[91] - z[102]*z[70]*z[88] + z[103]*z[65]*z[88] - z[103]*z[72]*z[88] - z[13]*z[4]*z[93] + z[14]*z[98] - z[19]*z[69] - z[21]*z[50]*z[84] + z[4]*z[57]*z[93] - z[4]*z[59]*z[93] + z[6]*z[98] + z[60]*(z[10]*z[76]*z[99] + z[25]*z[79]*z[93] + z[28]*z[75]*z[84] + z[28]*z[79]*z[96] + z[28]*(-z[75]*z[84] - z[79]*z[96]) + z[36]*z[4]*z[93]) + z[61]*(rear_.R*z[15]*z[8]*z[81] - rear_.R*z[15]*z[81]*z[99] - z[31]*z[98] + z[32]*z[95] + z[81]*(-rear_.a*z[1]*z[84] - z[4]*z[56]*z[84])) - z[74]*z[95];
  m[3] = z[102]*z[4]*z[63]*z[88] - z[102]*z[67]*z[85]*z[95] + z[13]*z[25] - z[25]*z[57] + z[25]*z[59] + z[28]*z[54] + z[28]*z[58];
  m[4] = 0;
  m[5] = 0;
  m[6] = 0;
  m[7] = 0;
  m[8] = 0;
  m[9] = z[98];
  m[10] = z[0];
  m[11] = z[95];
  m[12] = 0;
  m[13] = 0;
  m[14] = 0;
  m[15] = -z[81]*(-z[103]*z[95] - z[56]);
  m[16] = z[110];
  m[17] = -z[81]*(-rear_.a + z[103]*z[98]);
  m[18] = z[28];
  m[19] = z[25];
  m[20] = z[23];
  m[21] = z[95];
  m[22] = 0;
  m[23] = 0;
  m[24] = 0;
  m[25] = -z[102]*z[88]*z[97] + z[113];
  m[26] = z[102]*z[87]*z[95] + z[36];
  m[27] = z[102]*z[84]*z[86] - z[112];
  m[28] = 0;
  m[29] = rear_.m*(-z[24]*z[81] - z[31]*z[95] - z[32]*z[98]);
  m[30] = 0;
  m[31] = -rear_.Fy*z[103]*z[81] - rear_.Fy*z[22]*z[81] + front_.R*z[15]*z[17]*z[60] + z[102]*z[105]*z[62]*z[85] - z[102]*z[105]*z[68]*z[82] + z[102]*z[125]*z[49]*z[81] - z[102]*z[126]*z[67] - z[102]*z[62]*z[96] - z[102]*z[68]*z[98] - z[102]*z[70]*z[84] + z[103]*z[65]*z[84] - z[103]*z[72]*z[84] - z[108]*z[25] + z[109]*z[28] + z[111]*z[65] - z[111]*z[72] + z[18]*z[70]*z[84] - z[44]*z[61]*z[84] + z[60]*(-z[21]*z[27] - z[29]*z[79]*z[83] - z[76]*z[81]*z[99]);
  m[32] = rear_.Tx*z[82] + z[107] - z[13]*z[91] + z[14]*z[4] - z[20]*z[50] + z[4]*z[6] + z[47] + z[57]*z[91] - z[59]*z[91] + z[60]*(-z[120]*z[91] - z[20]*z[28] + z[21]*z[4]*z[93] - 2*z[4]*z[75]*z[93] - z[80]*z[93]*z[99]) + z[74]*z[82];
  m[33] = z[102]*z[62]*z[87] + z[102]*z[67]*z[92] - z[108]*z[27] + z[109]*z[29] + z[13]*z[97] + z[54]*z[94] - z[57]*z[97] + z[58]*z[94] + z[59]*z[97] + z[60]*(z[101]*z[78] - z[21]*z[25] + z[25]*z[79]*z[85]);
  m[34] = 0;
  m[35] = 0;
  m[36] = 0;
  m[37] = 0;
  m[38] = 0;
  m[39] = z[4];
  m[40] = 0;
  m[41] = z[1];
  m[42] = 0;
  m[43] = 0;
  m[44] = 0;
  m[45] = rear_.r*z[86];
  m[46] = z[111] + z[19];
  m[47] = -rear_.r*z[89];
  m[48] = z[94];
  m[49] = z[97];
  m[50] = -z[94];
  m[51] = z[1];
  m[52] = 0;
  m[53] = 0;
  m[54] = 0;
  m[55] = z[102]*z[85]*z[86] - z[18]*z[29] + z[79]*z[83];
  m[56] = -z[102]*z[83]*z[86] - z[18]*z[27] + z[21];
  m[57] = z[4]*(-z[102]*z[81] + z[18]*z[81] + z[76]);
  m[58] = 0;
  m[59] = front_.m*z[102]*z[17]*z[88] + front_.m*(z[101]*z[76] - z[121]*z[79] - z[21]*z[28]) - rear_.m*z[44]*z[81];
  m[60] = 0;
  m[61] = z[47] + z[60]*(-z[123]*z[55] - z[29]*z[80] + z[77]*z[90]);
  m[62] = z[84]*(z[18]*z[62]*z[85] - z[18]*z[68]*z[82] + z[18]*z[70] - z[19]*z[61] + z[22]*z[65] - z[22]*z[72] + z[60]*(z[12]*z[79] + z[75]*z[85] + z[79]*z[9]));
  m[63] = -z[109]*z[85]*z[95] - z[13]*z[83] + z[39] + z[57]*z[83] + z[58]*z[85] - z[59]*z[83] + z[74];
  m[64] = 0;
  m[65] = 0;
  m[66] = 0;
  m[67] = 0;
  m[68] = 0;
  m[69] = 0;
  m[70] = 1;
  m[71] = 0;
  m[72] = 0;
  m[73] = 0;
  m[74] = 0;
  m[75] = rear_.b + z[119];
  m[76] = 0;
  m[77] = -rear_.a - z[22]*z[98];
  m[78] = z[85];
  m[79] = z[2];
  m[80] = z[5];
  m[81] = 0;
  m[82] = 0;
  m[83] = 0;
  m[84] = 0;
  m[85] = -z[30]*z[85];
  m[86] = z[30]*z[83];
  m[87] = z[18]*z[98] - z[78];
  m[88] = 0;
  m[89] = -front_.m*(-z[113]*z[83] - z[25]*z[80] + z[77]*z[96]) - rear_.m*z[110];
  m[90] = 0;
  m[91] = -front_.R*z[15]*z[60]*z[82] - front_.a*z[27]*z[60] - z[102]*z[105]*z[49]*z[85] + z[102]*z[105]*z[68] - z[102]*z[3]*z[49]*z[85] - z[102]*z[68]*z[84] - z[49]*(z[102]*z[105]*z[85]*z[99] + z[102]*z[125]*z[86] + z[114]*z[96] + z[18]*z[25]*z[82]) - z[50]*(-z[100]*z[102]*z[105] - z[102]*z[126]*z[86] - z[114]*z[93] - z[117]*z[18]);
  m[92] = z[102]*z[4]*z[60]*z[88] + z[18]*z[50]*z[85]*z[95] + z[39];
  m[93] = -front_.a*z[25]*z[60] - z[102]*z[63]*z[81] - z[102]*z[67]*z[85] + z[108]*(-z[122] + z[87]*z[99]) + z[109]*z[38];
  m[94] = 0;
  m[95] = 0;
  m[96] = 0;
  m[97] = 0;
  m[98] = 0;
  m[99] = 0;
  m[100] = 0;
  m[101] = 0;
  m[102] = 0;
  m[103] = 0;
  m[104] = 0;
  m[105] = 0;
  m[106] = 0;
  m[107] = 0;
  m[108] = 0;
  m[109] = 0;
  m[110] = 0;
  m[111] = 1;
  m[112] = 0;
  m[113] = 0;
  m[114] = 0;
  m[115] = -z[102]*z[90] + z[18]*z[29]*z[82] - z[18]*z[90]*z[99];
  m[116] = front_.a + z[102]*z[87] - z[114]*z[87] - z[122]*z[18];
  m[117] = 0;
  m[118] = 1;
  m[119] = front_.m*(-z[102]*z[84]*z[86] + z[112]);
  m[120] = 0;
  m[121] = z[81]*(z[103]*z[66] + z[103]*z[71] + z[22]*z[66] + z[22]*z[71]);
  m[122] = z[111]*(z[65] - z[72]);
  m[123] = 0;
  m[124] = 0;
  m[125] = 0;
  m[126] = 0;
  m[127] = 0;
  m[128] = 1;
  m[129] = 0;
  m[130] = 0;
  m[131] = 0;
  m[132] = 0;
  m[133] = 0;
  m[134] = 0;
  m[135] = z[119];
  m[136] = 0;
  m[137] = -z[22]*z[98];
  m[138] = 0;
  m[139] = 0;
  m[140] = 0;
  m[141] = 0;
  m[142] = 0;
  m[143] = 0;
  m[144] = 0;
  m[145] = 0;
  m[146] = 0;
  m[147] = 0;
  m[148] = 0;
  m[149] = 0;
  m[150] = 0;
  m[151] = -front_.R*z[15]*z[60]*z[94] - z[102]*z[105]*z[51]*z[83] + z[102]*z[51]*z[93] - z[51]*(z[100]*z[102]*z[105] + z[102]*z[126]*z[86] + z[114]*z[93] + z[117]*z[18]) + z[64]*(-z[102]*z[125]*z[87] + z[102]*z[126]*z[90] + z[118]*z[18] + z[121]*z[18]);
  m[152] = z[102]*z[60]*z[86]*z[93] - z[18]*z[42]*z[49]*z[82] - z[18]*z[70]*z[96];
  m[153] = z[102]*z[51]*z[90] - z[102]*z[60]*z[88]*z[97] + z[18]*z[38]*z[51];
  m[154] = 0;
  m[155] = 0;
  m[156] = 0;
  m[157] = 0;
  m[158] = 0;
  m[159] = 0;
  m[160] = 0;
  m[161] = 0;
  m[162] = 0;
  m[163] = 0;
  m[164] = 0;
  m[165] = 0;
  m[166] = 0;
  m[167] = 0;
  m[168] = 1;
  m[169] = 0;
  m[170] = 0;
  m[171] = 0;
  m[172] = 0;
  m[173] = 0;
  m[174] = 0;
  m[175] = z[18]*z[4]*z[42];
  m[176] = 0;
  m[177] = -z[102]*z[87] + z[114]*z[87] + z[122]*z[18];
  m[178] = 0;
  m[179] = -front_.m*z[102]*z[87]*z[95];
  m[180] = 0;
  m[181] = 0;
  m[182] = z[104]*(-z[65] + z[72]);
  m[183] = 0;
  m[184] = 0;
  m[185] = 0;
  m[186] = 0;
  m[187] = 0;
  m[188] = 0;
  m[189] = 0;
  m[190] = 0;
  m[191] = 0;
  m[192] = 1;
  m[193] = 0;
  m[194] = 0;
  m[195] = z[95]/z[15];
  m[196] = 0;
  m[197] = -z[98]/z[15];
  m[198] = 0;
  m[199] = 0;
  m[200] = 0;
  m[201] = 0;
  m[202] = 0;
  m[203] = 0;
  m[204] = 0;
  m[205] = 0;
  m[206] = 0;
  m[207] = 0;
  m[208] = 0;
  m[209] = 0;
  m[210] = 0;
  m[211] = z[104]*(rear_.Fy*z[81] - z[65]*z[84] + z[72]*z[84]);
  m[212] = z[88]*(z[66] + z[71])/z[15];
  m[213] = 0;
  m[214] = 0;
  m[215] = 0;
  m[216] = 0;
  m[217] = 0;
  m[218] = 0;
  m[219] = 0;
  m[220] = 0;
  m[221] = 0;
  m[222] = 0;
  m[223] = 1;
  m[224] = 0;
  m[225] = z[104]*z[86];
  m[226] = z[15];
  m[227] = -z[4]*z[88]/z[15];
  m[228] = 0;
  m[229] = 0;
  m[230] = 0;
  m[231] = 0;
  m[232] = 0;
  m[233] = 0;
  m[234] = 0;
  m[235] = 0;
  m[236] = 0;
  m[237] = 0;
  m[238] = 0;
  m[239] = 0;
  m[240] = 0;
  m[241] = -z[65]*z[81] + z[69] + z[72]*z[81];
  m[242] = -z[84]*(-z[66] - z[71]);
  m[243] = 0;
  m[244] = 0;
  m[245] = 0;
  m[246] = 0;
  m[247] = 0;
  m[248] = 0;
  m[249] = 0;
  m[250] = 0;
  m[251] = 0;
  m[252] = 0;
  m[253] = 0;
  m[254] = 1;
  m[255] = z[98];
  m[256] = z[0];
  m[257] = z[95];
  m[258] = 0;
  m[259] = 0;
  m[260] = 0;
  m[261] = 0;
  m[262] = 0;
  m[263] = 0;
  m[264] = 0;
  m[265] = 0;
  m[266] = 0;
  m[267] = 0;
  m[268] = 0;
  m[269] = rear_.m;
  m[270] = 0;
  m[271] = z[128]*z[134]*z[142] - z[128]*z[136]*z[94] - z[128]*z[143] + z[133]*z[49]*(-z[118]*z[135] + z[118] + z[121] + z[123]*z[127]/(z[106] + pow(z[27], 2))) + z[142]*z[28] + z[144]*z[94] + z[51]*(-z[117]*z[135] + z[117] + z[128]*z[87]*z[99]/(z[106] + pow(z[27], 2)) - z[93]*z[99])/sqrt(z[106] + pow(z[27], 2));
  m[272] = -z[133]*z[46]*z[87] - z[134]*z[142]*z[40] + z[136]*z[40]*z[94] - z[137]*z[91] + z[27]*(z[115]*z[138] + z[132]*z[41]*z[73] - z[4]*z[52]*z[87] + z[53]*z[91])/(z[106] + pow(z[27], 2)) + z[49]*(z[134]*z[41]*z[97] + z[138]*z[29]*z[94] - z[27]*z[92] - z[29]*z[91])/sqrt(z[106] + pow(z[27], 2)) + z[51]*(z[122]*z[138] + z[124] - z[138]*z[87]*z[99] - z[86]*z[94])/sqrt(z[106] + pow(z[27], 2)) - z[94]*(z[132]*z[4]*z[41]*z[52] - z[134]*z[41]*z[53] - z[52]*z[91] + z[73]*z[87])/(z[106] + pow(z[27], 2));
  m[273] = z[134]*z[142]*z[43] - z[134]*z[48] - z[136]*z[43]*z[94] + z[137]*z[97] + z[139]*z[42]*z[64] + z[142]*z[29] + z[145]*z[94] - z[51]*(z[122]*z[140] - z[140]*z[87]*z[99] + z[38])/sqrt(z[106] + pow(z[27], 2));
  m[274] = 0;
  m[275] = 0;
  m[276] = 0;
  m[277] = 0;
  m[278] = 0;
  m[279] = 0;
  m[280] = 0;
  m[281] = 0;
  m[282] = 0;
  m[283] = 0;
  m[284] = 0;
  m[285] = 0;
  m[286] = 0;
  m[287] = 0;
  m[288] = 0;
  m[289] = 0;
  m[290] = 0;
  m[291] = 0;
  m[292] = 1;
  m[293] = 0;
  m[294] = 0;
  m[295] = -z[133]*z[42];
  m[296] = 0;
  m[297] = -(z[122] - z[87]*z[99])/sqrt(z[106] + pow(z[27], 2));
  m[298] = 0;
  m[299] = 0;
  m[300] = 0;
  m[301] = z[128]*z[134]*z[137] + z[128]*z[46]*z[94]/pow(z[106] + pow(z[27], 2), 3.0/2.0) + z[128]*z[50]*(z[106]/(z[106] + pow(z[27], 2)) + z[135] - 2)/sqrt(z[106] + pow(z[27], 2)) + z[130]*(z[100]*z[118]*z[134] + z[127]*z[135] - z[127] + z[25]*z[27]) + z[137]*z[28] + z[143]*z[28]*z[94] - z[144]*z[27] + z[70]*(-z[116]*z[135] + z[116] + z[128]*z[91]/(z[106] + pow(z[27], 2)) - z[27]*z[84])/sqrt(z[106] + pow(z[27], 2));
  m[302] = z[106]*z[34]*z[37]/pow(z[106] + pow(z[27], 2), 2) + z[130]*(z[100]*z[138]*z[85] - z[129]*z[138] + z[27]*z[85]*z[89] + z[29]*z[4]*z[87] + 2*z[91]*z[97]) - z[133]*z[35]*z[87]/sqrt(z[106] + pow(z[27], 2)) + z[134]*z[137]*z[34]*z[94] - z[134]*(z[134]*z[41]*z[53] - z[138]*z[52]*z[94] + z[52]*z[91] - z[73]*z[87]) + z[37]*z[91]/(z[106] + pow(z[27], 2)) - z[50]*(z[106]*z[138] + 2*z[124]*z[87] + z[135]*z[41] + 2*z[4]*z[82]*z[9])/sqrt(z[106] + pow(z[27], 2)) - z[51]*(z[100]*z[7] - z[100] - z[133]*z[41]*z[91]/sqrt(z[106] + pow(z[27], 2)) + z[134]*z[41]*z[89] - z[27]*z[86] - z[8]*z[83])/sqrt(z[106] + pow(z[27], 2)) - z[94]*(-z[115]*z[138] - z[132]*z[41]*z[73] + z[4]*z[52]*z[87] - z[53]*z[91])/(z[106] + pow(z[27], 2));
  m[303] = z[130]*(-z[100]*z[140]*z[85] + z[106] + z[12]*z[99] + z[129]*z[140] + pow(z[27], 2) - pow(z[29], 2)) + z[131]*z[4]*z[51]*(-z[141]*z[27]*z[81] - z[141]*z[91] - 2*z[29]*z[81] + 2*z[92]) + z[131]*z[50]*(4*z[100]*z[85] + z[106]*z[141] - 4*z[129] + z[135]*z[45]) + z[134]*z[137]*z[43] + z[137]*z[29] + z[139]*z[46]*z[94] - z[142]*z[97] - z[145]*z[27] - z[48]*z[94]/(z[106] + pow(z[27], 2));
  m[304] = 0;
  m[305] = 0;
  m[306] = 0;
  m[307] = 0;
  m[308] = 0;
  m[309] = 0;
  m[310] = 0;
  m[311] = 0;
  m[312] = 0;
  m[313] = 0;
  m[314] = 0;
  m[315] = 0;
  m[316] = 0;
  m[317] = 0;
  m[318] = 0;
  m[319] = 0;
  m[320] = 0;
  m[321] = 0;
  m[322] = 0;
  m[323] = 1;
  m[324] = 0;
  m[325] = -z[43]/sqrt(z[106] + pow(z[27], 2));
  m[326] = sqrt(z[11]*z[9] + pow(z[26], 2));
  m[327] = z[133]*z[34];
  m[328] = 0;
  m[329] = 0;
  m[330] = 0;
  m[331] = z[27]*z[50] + z[29]*z[49] + z[70]*z[81];
  m[332] = -z[84]*(z[4]*z[68] - z[51]*z[82] + z[64]*z[85]);
  m[333] = z[25]*z[50] + z[28]*z[49];
  m[334] = 0;
  m[335] = 0;
  m[336] = 0;
  m[337] = 0;
  m[338] = 0;
  m[339] = 0;
  m[340] = 0;
  m[341] = 0;
  m[342] = 0;
  m[343] = 0;
  m[344] = 0;
  m[345] = 0;
  m[346] = 0;
  m[347] = 0;
  m[348] = 0;
  m[349] = 0;
  m[350] = 0;
  m[351] = 0;
  m[352] = 0;
  m[353] = 0;
  m[354] = 1;
  m[355] = z[25];
  m[356] = z[23];
  m[357] = z[95];
  m[358] = 0;
  m[359] = front_.m;

  delete [] z;
}

/*!
   Computes the n-d array of shape (12, 8)

   @param[out] a C-array of with 96 elements
*/
//  void Bicycle::gaf_dq(double m[96]) const;
void Bicycle::gaf_dq(double m[96]) const
{
  double * z = new double[134];

  z[0] = sin(state_[1]);
  z[1] = sin(state_[2]);
  z[2] = sin(state_[3]);
  z[3] = cos(state_[1]);
  z[4] = cos(state_[2]);
  z[5] = cos(state_[3]);
  z[6] = front_.Tz + steer_torque_;
  z[7] = pow(z[0], 2);
  z[8] = pow(z[1], 2);
  z[9] = pow(z[2], 2);
  z[10] = pow(z[3], 2);
  z[11] = pow(z[4], 2);
  z[12] = pow(z[5], 2);
  z[13] = front_.Tw - front_.Ty;
  z[14] = rear_.Tz - steer_torque_;
  z[15] = sqrt(z[10]);
  z[16] = rear_.a*z[4] + rear_.b*z[1];
  z[17] = front_.R/z[15] + front_.r;
  z[18] = rear_.a*z[1] - rear_.b*z[4];
  z[19] = front_.a*z[4] + front_.b*z[1]*z[5];
  z[20] = front_.a*z[1] - front_.b*z[4]*z[5];
  z[21] = -rear_.R/z[15] - rear_.r;
  z[22] = z[0]*z[2] - z[1]*z[3]*z[5];
  z[23] = -z[0]*z[1]*z[2] + z[3]*z[5];
  z[24] = -z[23];
  z[25] = -z[0]*z[5] - z[1]*z[2]*z[3];
  z[26] = -z[0]*z[1]*z[5] - z[2]*z[3];
  z[27] = rear_.R*z[0]*z[1]*z[3]/z[15] + rear_.a*z[0];
  z[28] = rear_.R*z[0]*z[3]*z[4]/z[15] - rear_.b*z[0];
  z[29] = front_.a*z[0]*z[4] - front_.b*z[26];
  z[30] = -z[0]*z[24] + z[1]*z[2];
  z[31] = front_.Gx*z[2]*z[4] - front_.Gy*z[24];
  z[32] = front_.a*z[3]*z[4] - front_.b*z[22];
  z[33] = -front_.Gx*z[24] - front_.Gy*z[2]*z[4];
  z[34] = -z[0]*z[11]*z[5] + z[1]*z[26];
  z[35] = front_.Fx*z[17]*z[2]*z[3]*z[4] + front_.a*g_*front_.m*z[2]*z[3]*z[4];
  z[36] = z[2]*z[30]*z[4];
  z[37] = -z[0]*z[2]*z[24]*z[4] + z[1]*z[4]*z[9];
  z[38] = z[2]*z[26] + z[24]*z[5];
  z[39] = z[11]*z[2]*z[5] - z[24]*z[26];
  z[40] = 2*z[11]*z[2]*z[5] + z[24]*(2*z[0]*z[1]*z[5] + 2*z[2]*z[3]);
  z[41] = z[33]/sqrt(z[11]*z[9] + pow(z[24], 2));
  z[42] = -front_.Fx*front_.R*z[0]*z[4]*z[5]/z[15] + front_.Fx*z[0]*z[17]*z[4]*z[5] - rear_.Fx*rear_.R*z[0]*z[4]/z[15] - rear_.Fx*z[0]*z[21]*z[4] + front_.Fy*front_.R*z[0]*z[2]*z[4]/z[15] - front_.Fy*z[0]*z[17]*z[2]*z[4] - front_.Fz*front_.R*z[0]*z[1]/z[15] + front_.Fz*z[0]*z[1]*z[17] - rear_.Fz*rear_.R*z[0]*z[1]/z[15] - rear_.Fz*z[0]*z[1]*z[21] + g_*rear_.m*z[0]*z[16];
  z[43] = front_.Gx*z[24]*z[39]/(z[11]*z[9] + pow(z[24], 2)) + front_.Gx*z[26] + front_.Gy*z[2]*z[39]*z[4]/(z[11]*z[9] + pow(z[24], 2)) - front_.Gy*z[4]*z[5];
  z[44] = -front_.Fx;
  z[45] = -front_.Fy;
  z[46] = -front_.Gx;
  z[47] = -front_.Gy;
  z[48] = -front_.Tx;
  z[49] = -front_.a;
  z[50] = -front_.b;
  z[51] = -rear_.b;
  z[52] = z[44]*z[50];
  z[53] = g_*front_.m;
  z[54] = g_*rear_.m;
  z[55] = -z[2]*z[44];
  z[56] = -z[3]*z[44];
  z[57] = rear_.Fx*z[1];
  z[58] = rear_.Fx*z[4];
  z[59] = -z[2]*z[45];
  z[60] = -z[45]*z[5];
  z[61] = rear_.Fy*z[3];
  z[62] = front_.Fz*z[1];
  z[63] = front_.Fz*z[2];
  z[64] = front_.Fz*z[4];
  z[65] = rear_.Fz*z[1];
  z[66] = rear_.Fz*z[4];
  z[67] = -z[48]*z[5];
  z[68] = -z[1]*z[49];
  z[69] = -z[4]*z[49];
  z[70] = rear_.a*z[3];
  z[71] = -z[4]*z[50];
  z[72] = -z[1]*z[51];
  z[73] = -z[0];
  z[74] = -z[1];
  z[75] = -z[3];
  z[76] = -z[5];
  z[77] = -z[2]*z[73];
  z[78] = z[73]*z[75];
  z[79] = -z[4]*z[73];
  z[80] = z[73]*z[76];
  z[81] = -z[2]*z[74];
  z[82] = z[74]*z[75];
  z[83] = z[74]*z[76];
  z[84] = -z[2]*z[75];
  z[85] = z[2]*z[4];
  z[86] = -z[4]*z[75];
  z[87] = z[75]*z[76];
  z[88] = -z[4]*z[76];
  z[89] = z[73]/z[75];
  z[90] = z[11]*z[2];
  z[91] = -z[11]*z[76];
  z[92] = front_.R/z[15];
  z[93] = rear_.R/z[15];
  z[94] = -z[75]/z[15];
  z[95] = -z[7]/z[75];
  z[96] = z[11]*z[9];
  z[97] = rear_.Fy*z[16];
  z[98] = -z[17]*z[44];
  z[99] = -z[17]*z[45];
  z[100] = z[21]*z[75];
  z[101] = z[26]*z[50];
  z[102] = z[11]*z[17];
  z[103] = -z[24]*z[45];
  z[104] = -z[24]*z[46];
  z[105] = -z[22]*z[49];
  z[106] = -z[22]*z[50];
  z[107] = z[25]*z[73];
  z[108] = z[25]*z[74];
  z[109] = z[25]*z[76];
  z[110] = z[2]*z[22];
  z[111] = -z[24]*z[73];
  z[112] = -z[24]*z[74];
  z[113] = z[2]*z[24];
  z[114] = -z[24]*z[75];
  z[115] = z[24]*z[4];
  z[116] = z[25]*z[26];
  z[117] = -z[24]*z[25];
  z[118] = -z[24]*z[26];
  z[119] = -z[44]/sqrt(pow(z[24], 2) + z[96]);
  z[120] = -1/sqrt(pow(z[24], 2) + z[96]);
  z[121] = -z[120]/2;
  z[122] = -z[120]*z[4];
  z[123] = pow(z[120], 2)*z[24];
  z[124] = z[123]*z[24];
  z[125] = pow(z[120], 4)*z[31];
  z[126] = pow(z[120], 2)*z[31];
  z[127] = pow(z[120], 2)*z[37];
  z[128] = pow(z[120], 2)*z[39];
  z[129] = pow(z[120], 2)*z[40];
  z[130] = -z[120]*z[41];
  z[131] = pow(z[120], 2)*(front_.Gx*pow(z[24], 2)/(z[11]*z[9] + pow(z[24], 2)) - front_.Gx + front_.Gy*z[2]*z[24]*z[4]/(z[11]*z[9] + pow(z[24], 2)));
  z[132] = -z[120]*z[25]*(front_.Gx*z[2]*z[24]*z[4]/(z[11]*z[9] + pow(z[24], 2)) - front_.Gy*pow(z[24], 2)/(z[11]*z[9] + pow(z[24], 2)) + front_.Gy)/sqrt(z[11]*z[9] + pow(z[24], 2));
  z[133] = z[120]*(front_.Gx*z[2]*z[4]*z[40]/(z[11]*z[9] + pow(z[24], 2)) - 2*front_.Gx*z[4]*z[5] - front_.Gy*z[24]*z[40]/(z[11]*z[9] + pow(z[24], 2)) - 2*front_.Gy*z[26])/(2*sqrt(z[11]*z[9] + pow(z[24], 2)));

  m[0] = 0;
  m[1] = rear_.Fx*z[75]*(z[51] + z[86]*z[93]) - front_.Fz*z[24]*z[49] + rear_.Fz*z[75]*(rear_.a + z[82]*z[93]) + front_.R*z[15]*z[4]*z[59] + front_.R*z[15]*z[44]*z[88] - front_.R*z[15]*z[62] - rear_.Tw*z[75] + rear_.Tx*z[73]*z[74] + z[13]*z[24] - z[14]*z[79] - z[24]*z[52] + z[26]*z[48] + z[29]*z[45] + z[53]*(-z[101]*z[25] - z[106]*z[24] + z[107]*z[69] + z[114]*z[69] - z[24]*z[32] + z[25]*z[29]) + z[54]*(z[27]*z[79] - z[28]*z[73]*z[74] + z[73]*(rear_.a*z[0]*z[4] - z[72]*z[73]) - z[75]*(z[4]*z[70] - z[72]*z[75]) + z[82]*(rear_.R*z[15]*z[4] - z[51]*z[75]) - z[86]*(-rear_.R*z[15]*z[74] + z[70])) - z[6]*z[79] + z[73]*z[97] + z[75]*(rear_.Tw - rear_.Ty);
  m[2] = -rear_.Tx*z[86] - z[13]*z[4]*z[84] - z[14]*z[82] - z[18]*z[61] - z[20]*z[45]*z[75] + z[4]*z[52]*z[84] + z[53]*(z[10]*z[49]*z[90] + z[22]*z[71]*z[84] + z[25]*z[68]*z[75] + z[25]*z[71]*z[87] + z[25]*(-z[68]*z[75] - z[71]*z[87]) + z[32]*z[4]*z[84]) + z[54]*(rear_.R*z[11]*z[15]*z[73] + rear_.R*z[15]*z[73]*z[8] + z[27]*z[82] + z[28]*z[86] + z[73]*(-rear_.a*z[1]*z[75] - z[4]*z[51]*z[75])) - z[56]*z[74]*z[80]*z[92] + z[57]*z[78]*z[93] + z[59]*z[74]*z[78]*z[92] - z[6]*z[82] + z[63]*z[69]*z[75] - z[64]*z[78]*z[92] - z[66]*z[78]*z[93] - z[67]*z[86];
  m[3] = front_.Fz*z[105] + z[13]*z[22] - z[22]*z[52] + z[25]*z[45]*z[50] + z[25]*z[48] + z[4]*z[55]*z[78]*z[92] + z[4]*z[60]*z[78]*z[92];
  m[4] = 0;
  m[5] = 0;
  m[6] = 0;
  m[7] = 0;
  m[8] = 0;
  m[9] = -rear_.Fy*z[21]*z[73] - rear_.Fy*z[73]*z[93] + front_.R*z[15]*z[53]*(z[11] + z[8]) + z[100]*z[57] - z[100]*z[66] - z[103]*z[89]*z[92] + z[17]*z[64]*z[75] - z[22]*z[98] + z[25]*z[99] + z[26]*z[44]*z[89]*z[92] + z[44]*z[83]*z[92]*z[95] + z[53]*(z[11]*z[49]*z[77] + z[2]*z[26]*z[71] - z[20]*z[24]) - z[54]*z[75]*(-z[11]*z[75]*z[93] + z[18] - z[75]*z[8]*z[93]) - z[56]*z[83]*z[92] + z[57]*z[75]*z[93] - z[59]*z[74]*z[92]*z[95] + z[59]*z[82]*z[92] - z[64]*z[75]*z[92] - z[66]*z[75]*z[93];
  m[10] = rear_.Tx*z[74] - z[13]*z[81] + z[14]*z[4] - z[19]*z[45] + z[2]*z[49]*z[62] + z[4]*z[6] + z[42] + z[52]*z[81] + z[53]*(z[106]*z[81] - z[19]*z[25] + z[20]*z[4]*z[84] - 2*z[4]*z[68]*z[84] - z[50]*z[84]*z[91]) + z[67]*z[74] + z[97];
  m[11] = z[13]*z[88] - z[24]*z[98] + z[26]*z[99] + z[48]*z[85] + z[49]*z[64]*z[76] - z[52]*z[88] + z[53]*(-z[11]*z[49]*z[87] - z[20]*z[22] + z[22]*z[71]*z[76]) + z[55]*z[73]*z[74]*z[92] + z[59]*z[71] + z[60]*z[73]*z[74]*z[92];
  m[12] = 0;
  m[13] = 0;
  m[14] = 0;
  m[15] = 0;
  m[16] = 0;
  m[17] = z[42] + z[53]*(-z[101]*z[76] - z[113]*z[50] + z[69]*z[80]);
  m[18] = z[75]*(-z[17]*z[59]*z[74] + z[17]*z[64] - z[18]*z[54] + z[21]*z[57] - z[21]*z[66] + z[53]*(z[12]*z[71] + z[68]*z[76] + z[71]*z[9]) - z[83]*z[98]);
  m[19] = z[13]*z[2] + z[17]*z[60]*z[86] - z[2]*z[52] + z[35] - z[49]*z[63] + z[50]*z[60] + z[67];
  m[20] = 0;
  m[21] = 0;
  m[22] = 0;
  m[23] = 0;
  m[24] = 0;
  m[25] = -front_.R*z[15]*z[53]*z[74] + z[24]*z[49]*z[53] - z[44]*z[76]*z[92]*z[95] - z[44]*(z[102]*z[87] + z[17]*z[22]*z[74] + z[26]*z[74]*z[89]*z[92] + z[91]*z[92]*z[95]) - z[45]*(-z[102]*z[84] - z[108]*z[17] - z[112]*z[89]*z[92] - z[90]*z[92]*z[95]) + z[56]*z[76]*z[92] - z[59]*z[75]*z[92] + z[59]*z[92]*z[95];
  m[26] = z[17]*z[45]*z[76]*z[86] + z[35] + z[4]*z[53]*z[78]*z[92];
  m[27] = -z[105]*z[53] + z[34]*z[99] - z[55]*z[73]*z[92] - z[60]*z[73]*z[92] + z[98]*(-z[11]*z[77] - z[112]);
  m[28] = 0;
  m[29] = 0;
  m[30] = 0;
  m[31] = 0;
  m[32] = 0;
  m[33] = z[73]*(z[21]*z[58] + z[21]*z[65] + z[58]*z[93] + z[65]*z[93]);
  m[34] = z[100]*(z[57] - z[66]);
  m[35] = 0;
  m[36] = 0;
  m[37] = 0;
  m[38] = 0;
  m[39] = 0;
  m[40] = 0;
  m[41] = front_.Fz*(z[102]*z[84] + z[108]*z[17] + z[112]*z[89]*z[92] + z[90]*z[92]*z[95]) - front_.R*z[15]*z[53]*z[85] - z[4]*z[44]*(z[109]*z[17] + z[110]*z[17] - z[24]*z[80]*z[92]/z[75] - z[26]*z[77]*z[92]/z[75]) + z[63]*z[75]*z[92] - z[63]*z[92]*z[95];
  m[42] = -z[17]*z[38]*z[44]*z[74] - z[17]*z[64]*z[87] + z[53]*z[77]*z[82]*z[92];
  m[43] = -front_.Fz*z[17]*z[34] - front_.Fz*z[80]*z[92] - z[53]*z[78]*z[88]*z[92];
  m[44] = 0;
  m[45] = 0;
  m[46] = 0;
  m[47] = 0;
  m[48] = 0;
  m[49] = 0;
  m[50] = z[94]*(-z[57] + z[66]);
  m[51] = 0;
  m[52] = 0;
  m[53] = 0;
  m[54] = 0;
  m[55] = 0;
  m[56] = 0;
  m[57] = z[94]*(rear_.Fy*z[73] - z[57]*z[75] + z[66]*z[75]);
  m[58] = z[78]*(z[58] + z[65])/z[15];
  m[59] = 0;
  m[60] = 0;
  m[61] = 0;
  m[62] = 0;
  m[63] = 0;
  m[64] = 0;
  m[65] = -z[57]*z[73] + z[61] + z[66]*z[73];
  m[66] = -z[75]*(-z[58] - z[65]);
  m[67] = 0;
  m[68] = 0;
  m[69] = 0;
  m[70] = 0;
  m[71] = 0;
  m[72] = 0;
  m[73] = front_.Fz*z[120]*(-z[108]*z[124] + z[108] - z[11]*z[117]*pow(z[120], 2)*z[77] + z[11]*z[84]) + z[117]*z[123]*z[130] - z[117]*z[125]*z[85] - z[117]*z[131] + z[122]*z[44]*(-z[109]*z[124] + z[109] + z[110] + z[113]*z[116]*pow(z[120], 2)) + z[130]*z[25] + z[132]*z[85];
  m[74] = front_.Fz*z[120]*(z[11]*z[127]*z[77] + z[112]*z[127] + z[115] + z[4]*z[74]*z[77]) + pow(z[120], 2)*z[24]*(z[104]*z[127] - z[127]*z[47]*z[85] - z[4]*z[46]*z[77] + z[47]*z[81]) - pow(z[120], 2)*z[85]*(pow(z[120], 2)*z[2]*z[37]*z[4]*z[46] - z[123]*z[37]*z[47] - z[4]*z[47]*z[77] - z[46]*z[81]) - z[120]*z[44]*(z[123]*z[37]*z[88] + z[127]*z[26]*z[85] - z[24]*z[83] - z[26]*z[81]) - z[122]*z[41]*z[77] - z[123]*z[130]*z[36] + z[125]*z[36]*z[85] - z[126]*z[81];
  m[75] = -front_.Fz*z[120]*(z[11]*z[128]*z[77] + z[112]*z[128] + z[34]) - z[119]*z[120]*z[122]*z[38]*z[39] + z[123]*z[130]*z[39] - z[123]*z[43] - z[125]*z[39]*z[85] + z[126]*z[88] + z[130]*z[26] + z[133]*z[85];
  m[76] = 0;
  m[77] = 0;
  m[78] = 0;
  m[79] = 0;
  m[80] = 0;
  m[81] = -z[117]*pow(z[120], 3)*z[41]*z[85] - z[117]*z[120]*z[45]*(pow(z[120], 2)*z[96] + z[124] - 2) + z[117]*z[123]*z[126] + z[119]*(z[109]*z[123]*z[90] + z[116]*z[124] - z[116] + z[22]*z[24]) - z[120]*z[64]*(-z[107]*z[124] + z[107] + z[114] + z[117]*pow(z[120], 2)*z[81]) + z[126]*z[25] + z[131]*z[25]*z[85] - z[132]*z[24];
  m[82] = -front_.Fz*z[120]*(z[111]*z[74] + z[120]*z[122]*z[37]*z[81] + z[123]*z[37]*z[79] + z[2]*z[8] + z[7]*z[90] - z[90]) + z[119]*(-z[118]*z[127] + z[127]*z[76]*z[90] + z[24]*z[76]*z[79] + z[26]*z[4]*z[77] + 2*z[81]*z[88]) - pow(z[120], 4)*z[30]*z[33]*z[96] + pow(z[120], 2)*z[33]*z[81] - pow(z[120], 2)*z[85]*(-z[104]*z[127] + z[127]*z[47]*z[85] + z[4]*z[46]*z[77] - z[47]*z[81]) + z[120]*z[122]*z[31]*z[77] + z[120]*z[45]*(2*z[115]*z[77] + z[124]*z[37] + z[127]*z[96] + 2*z[4]*z[74]*z[9]) - z[123]*z[126]*z[30]*z[85] - z[123]*(z[123]*z[37]*z[47] - z[127]*z[46]*z[85] + z[4]*z[47]*z[77] + z[46]*z[81]);
  m[83] = -front_.Fz*z[121]*z[4]*(z[111]*z[129] - z[129]*z[81] - 2*z[26]*z[73] + 2*z[83]) + z[119]*(-z[11]*z[12] + z[118]*z[128] - z[128]*z[76]*z[90] + pow(z[24], 2) - pow(z[26], 2) + z[96]) - pow(z[120], 3)*z[39]*z[41]*z[85] - pow(z[120], 2)*z[43]*z[85] + z[121]*z[45]*(-4*z[118] + z[124]*z[40] + z[129]*z[96] + 4*z[76]*z[90]) + z[123]*z[126]*z[39] + z[126]*z[26] - z[130]*z[88] - z[133]*z[24];
  m[84] = 0;
  m[85] = 0;
  m[86] = 0;
  m[87] = 0;
  m[88] = 0;
  m[89] = -z[103] + z[26]*z[44] + z[64]*z[73];
  m[90] = -z[75]*(z[4]*z[59] + z[44]*z[88] - z[62]);
  m[91] = z[22]*z[45] + z[25]*z[44];
  m[92] = 0;
  m[93] = 0;
  m[94] = 0;
  m[95] = 0;

  delete [] z;
}

/*!
   Computes the n-d array of shape (12, 22)

   @param[out] a C-array of with 264 elements
*/
//  void Bicycle::gaf_dr(double m[264]) const;
void Bicycle::gaf_dr(double m[264]) const
{
  double * z = new double[43];

  z[0] = sin(state_[1]);
  z[1] = sin(state_[2]);
  z[2] = sin(state_[3]);
  z[3] = cos(state_[1]);
  z[4] = cos(state_[2]);
  z[5] = cos(state_[3]);
  z[6] = pow(z[1], 2);
  z[7] = pow(z[4], 2);
  z[8] = sqrt(pow(z[3], 2));
  z[9] = rear_.R/z[8] + rear_.r;
  z[10] = rear_.a*z[1] - rear_.b*z[4];
  z[11] = front_.a*z[1] - front_.b*z[4]*z[5];
  z[12] = -front_.R/z[8] - front_.r;
  z[13] = z[0]*z[5] + z[1]*z[2]*z[3];
  z[14] = z[0]*z[1]*z[5] + z[2]*z[3];
  z[15] = z[0]*z[2] - z[1]*z[3]*z[5];
  z[16] = z[0]*z[1]*z[2] - z[3]*z[5];
  z[17] = front_.b + z[12]*z[3]*z[4];
  z[18] = sqrt(pow(z[16], 2) + pow(z[2], 2)*z[7]);
  z[19] = -front_.b;
  z[20] = -rear_.b;
  z[21] = front_.a*z[2];
  z[22] = front_.a*z[5];
  z[23] = rear_.r*z[0];
  z[24] = -z[1];
  z[25] = -z[5];
  z[26] = z[0]*z[2];
  z[27] = z[0]*z[3];
  z[28] = -z[0]*z[25];
  z[29] = z[2]*z[4];
  z[30] = z[3]*z[4];
  z[31] = z[24]*z[3];
  z[32] = z[3]*z[7];
  z[33] = front_.R/z[8];
  z[34] = rear_.R/z[8];
  z[35] = z[3]*(rear_.a*z[4] + rear_.b*z[1]);
  z[36] = front_.a*z[13];
  z[37] = -z[13]*z[19];
  z[38] = -z[12]*z[7];
  z[39] = -z[30]*z[9];
  z[40] = -z[16]*z[24];
  z[41] = -z[12]*z[14];
  z[42] = z[4]*(-z[14]*z[2] + z[16]*z[5]);

  m[0] = 0;
  m[1] = z[31];
  m[2] = z[0];
  m[3] = z[30];
  m[4] = 0;
  m[5] = 0;
  m[6] = 0;
  m[7] = z[0]*(-z[20] - z[30]*z[34]);
  m[8] = z[35];
  m[9] = z[0]*(-rear_.a + z[31]*z[34]);
  m[10] = -z[13];
  m[11] = z[15];
  m[12] = z[13];
  m[13] = z[30];
  m[14] = 0;
  m[15] = 0;
  m[16] = 0;
  m[17] = z[25]*z[27]*z[33]*z[4] + z[37];
  m[18] = front_.a*z[30] + z[15]*z[19] + z[26]*z[30]*z[33];
  m[19] = z[24]*z[27]*z[33] - z[36];
  m[20] = 0;
  m[21] = rear_.m*(z[0]*(rear_.a*z[3]*z[4] - z[1]*z[20]*z[3]) - z[30]*(rear_.a*z[0] - z[24]*z[27]*z[34]) - z[31]*(z[0]*z[20] + z[27]*z[34]*z[4]));
  m[22] = 0;
  m[23] = z[4];
  m[24] = 0;
  m[25] = z[1];
  m[26] = 0;
  m[27] = 0;
  m[28] = 0;
  m[29] = -z[23]*z[24];
  m[30] = z[10] + z[3]*z[9];
  m[31] = -z[23]*z[4];
  m[32] = z[29];
  m[33] = -z[25]*z[4];
  m[34] = -z[29];
  m[35] = z[1];
  m[36] = 0;
  m[37] = 0;
  m[38] = 0;
  m[39] = z[19]*z[29] + z[24]*z[28]*z[33] + z[41];
  m[40] = z[11] + z[12]*z[16] - z[24]*z[26]*z[33];
  m[41] = z[4]*(z[0]*z[12] + z[0]*z[33] + z[21]);
  m[42] = 0;
  m[43] = front_.m*z[27]*z[33]*(z[6] + z[7]) + front_.m*(z[11]*z[13] + z[15]*z[19]*z[29] + z[21]*z[32]) + rear_.m*z[0]*(z[10] + z[3]*z[34]*z[6] + z[32]*z[34]);
  m[44] = 0;
  m[45] = 0;
  m[46] = 1;
  m[47] = 0;
  m[48] = 0;
  m[49] = 0;
  m[50] = 0;
  m[51] = rear_.b + z[39];
  m[52] = 0;
  m[53] = -rear_.a + z[31]*z[9];
  m[54] = z[25];
  m[55] = z[2];
  m[56] = z[5];
  m[57] = 0;
  m[58] = 0;
  m[59] = 0;
  m[60] = 0;
  m[61] = -z[17]*z[25];
  m[62] = -z[17]*z[2];
  m[63] = -z[12]*z[31] - z[22];
  m[64] = 0;
  m[65] = -front_.m*(-z[15]*z[19]*z[25] + z[2]*z[37] + z[22]*z[30]) - rear_.m*z[35];
  m[66] = 0;
  m[67] = 0;
  m[68] = 0;
  m[69] = 0;
  m[70] = 0;
  m[71] = 0;
  m[72] = 0;
  m[73] = 0;
  m[74] = 0;
  m[75] = 0;
  m[76] = 0;
  m[77] = 0;
  m[78] = 0;
  m[79] = 1;
  m[80] = 0;
  m[81] = 0;
  m[82] = 0;
  m[83] = -z[24]*z[41] - z[28]*z[33] + z[28]*z[38];
  m[84] = front_.a + z[12]*z[40] + z[26]*z[33] - z[26]*z[38];
  m[85] = 0;
  m[86] = 1;
  m[87] = front_.m*(-z[24]*z[27]*z[33] + z[36]);
  m[88] = 1;
  m[89] = 0;
  m[90] = 0;
  m[91] = 0;
  m[92] = 0;
  m[93] = 0;
  m[94] = 0;
  m[95] = z[39];
  m[96] = 0;
  m[97] = z[31]*z[9];
  m[98] = 0;
  m[99] = 0;
  m[100] = 0;
  m[101] = 0;
  m[102] = 0;
  m[103] = 0;
  m[104] = 0;
  m[105] = 0;
  m[106] = 0;
  m[107] = 0;
  m[108] = 0;
  m[109] = 0;
  m[110] = 0;
  m[111] = 0;
  m[112] = 0;
  m[113] = 0;
  m[114] = 0;
  m[115] = 0;
  m[116] = 0;
  m[117] = 0;
  m[118] = 0;
  m[119] = 0;
  m[120] = 1;
  m[121] = 0;
  m[122] = 0;
  m[123] = 0;
  m[124] = 0;
  m[125] = 0;
  m[126] = 0;
  m[127] = -z[12]*z[42];
  m[128] = 0;
  m[129] = -z[12]*z[40] - z[26]*z[33] + z[26]*z[38];
  m[130] = 0;
  m[131] = -front_.m*z[26]*z[30]*z[33];
  m[132] = 0;
  m[133] = 0;
  m[134] = 0;
  m[135] = 0;
  m[136] = 1;
  m[137] = 0;
  m[138] = 0;
  m[139] = z[30]/z[8];
  m[140] = 0;
  m[141] = -z[31]/z[8];
  m[142] = 0;
  m[143] = 0;
  m[144] = 0;
  m[145] = 0;
  m[146] = 0;
  m[147] = 0;
  m[148] = 0;
  m[149] = 0;
  m[150] = 0;
  m[151] = 0;
  m[152] = 0;
  m[153] = 0;
  m[154] = 0;
  m[155] = 0;
  m[156] = 0;
  m[157] = 0;
  m[158] = 0;
  m[159] = 1;
  m[160] = 0;
  m[161] = -z[24]*z[27]/z[8];
  m[162] = z[8];
  m[163] = -z[27]*z[4]/z[8];
  m[164] = 0;
  m[165] = 0;
  m[166] = 0;
  m[167] = 0;
  m[168] = 0;
  m[169] = 0;
  m[170] = 0;
  m[171] = 0;
  m[172] = 0;
  m[173] = 0;
  m[174] = 0;
  m[175] = 0;
  m[176] = 0;
  m[177] = 0;
  m[178] = 0;
  m[179] = 0;
  m[180] = 0;
  m[181] = 0;
  m[182] = 1;
  m[183] = z[31];
  m[184] = z[0];
  m[185] = z[30];
  m[186] = 0;
  m[187] = 0;
  m[188] = 0;
  m[189] = 0;
  m[190] = 0;
  m[191] = 0;
  m[192] = 0;
  m[193] = 0;
  m[194] = 0;
  m[195] = 0;
  m[196] = 0;
  m[197] = rear_.m;
  m[198] = 0;
  m[199] = 0;
  m[200] = 0;
  m[201] = 0;
  m[202] = 0;
  m[203] = 0;
  m[204] = 0;
  m[205] = 0;
  m[206] = 0;
  m[207] = 0;
  m[208] = 0;
  m[209] = 0;
  m[210] = 0;
  m[211] = 0;
  m[212] = 1;
  m[213] = 0;
  m[214] = 0;
  m[215] = -z[42]/z[18];
  m[216] = 0;
  m[217] = -(z[26]*z[7] + z[40])/z[18];
  m[218] = 0;
  m[219] = 0;
  m[220] = 0;
  m[221] = 0;
  m[222] = 0;
  m[223] = 0;
  m[224] = 0;
  m[225] = 0;
  m[226] = 0;
  m[227] = 0;
  m[228] = 0;
  m[229] = 0;
  m[230] = 0;
  m[231] = 0;
  m[232] = 0;
  m[233] = 0;
  m[234] = 0;
  m[235] = 1;
  m[236] = 0;
  m[237] = -(z[14]*z[16] - z[2]*z[25]*z[7])/z[18];
  m[238] = z[18];
  m[239] = z[4]*(z[0]*z[16] + z[2]*z[24])/z[18];
  m[240] = 0;
  m[241] = 0;
  m[242] = 0;
  m[243] = 0;
  m[244] = 0;
  m[245] = 0;
  m[246] = 0;
  m[247] = 0;
  m[248] = 0;
  m[249] = 0;
  m[250] = 0;
  m[251] = 0;
  m[252] = 0;
  m[253] = 0;
  m[254] = 0;
  m[255] = 0;
  m[256] = 0;
  m[257] = 0;
  m[258] = 1;
  m[259] = z[15];
  m[260] = z[13];
  m[261] = z[30];
  m[262] = 0;
  m[263] = front_.m;

  delete [] z;
}

